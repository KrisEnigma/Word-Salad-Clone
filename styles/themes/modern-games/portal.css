/* Theme: Portal */
@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@100;200;400&display=swap');

:root[data-theme='portal'] {
    /* Fuentes */
    --font-toolbar-family: 'Oswald', sans-serif;
    --font-title-family: 'Oswald', sans-serif;
    --font-cell-family: 'Oswald', sans-serif;
    --font-cell-weight: 600;
    --portal-blue: #27a7d8;
    --portal-orange: #ff9a00;
    --color-bg: linear-gradient(135deg, #e6e6e6 0%, #d1d1d1 100%);
    --color-cell: radial-gradient(
        circle at center,
        #fff 30%,
        #f2f2f2 50%,
        #e6e6e6 70%,
        #d1d1d1 100%
    );
    --color-modal: rgb(220 220 220 / 90%);
    --color-button: #1a1a1a;
    --color-letters: #1a1a1a;
    --color-title: #1a1a1a;
    --color-selected: var(--portal-blue);
    --color-hover: var(--portal-orange);
    --color-line: var(--portal-orange);
    --color-ui: var(--portal-blue);
    --color-words: #fff;
    --color-menu: #000;

    /* Configuración de celdas */
    --mark-size-override: calc(var(--mark-size) * 1.1);

    /* Efectos y animaciones */
    --border-light: 1px solid rgb(0 0 0 / 20%);
    --shadow-opacity: 0.15;
    --found-bg: var(--portal-orange);
    --found-scale: 1.05;
    --found-shadow: 0 0 0 1px rgb(0 0 0 / 20%), 0 0 30px rgb(0 168 214 / 40%),
        0 0 60px rgb(255 68 0 / 30%);
    --unused-scale: 0.85;
    --unused-opacity: 0.2;
    --animation-duration-found: 800ms;
    --animation-timing: cubic-bezier(0.4, 0, 0.2, 1);
    --confetti-colors: var(--portal-blue), var(--portal-orange), #ffc0cb, #fff;
}

/* Estilizar celdas como paneles de prueba */
:root[data-theme='portal'] .cell {
    background: radial-gradient(
        circle at center,
        #fff 30%,
        #f2f2f2 50%,
        #e6e6e6 70%,
        #d1d1d1 100%
    );
    border:
        calc(var(--cell-size) * 0.02),
        solid #000;
    box-shadow:
        inset 0 0 0 1px rgb(255 255 255 / 90%),
        inset 0 2px 0 rgb(255 255 255 / 50%),
        0 0 0 1px rgb(0 0 0 / 80%);
}

/* Personalización tipográfica ajustada */
:root[data-theme='portal'] .title {
    text-transform: uppercase;
    letter-spacing: 1px;
}

:root[data-theme='portal'] .text {
    padding-bottom: 0.1em;
}

/* Efecto de selección tipo portal */
:root[data-theme='portal'] .mark {
    height: var(--mark-size-override);
    top: calc(50% - var(--mark-size-override) / 2);
}

:root[data-theme='portal'] .mark.selected {
    box-shadow:
        inset 0 0 0 1px rgb(255 255 255 / 20%),
        0 0 20px rgb(0 168 214 / 40%);
}

:root[data-theme='portal'] .hitbox:hover + .mark:not(.selected) {
    box-shadow:
        inset 0 0 0 1px rgb(255 255 255 / 20%),
        0 0 20px rgb(255 68 0 / 40%);
}

:root[data-theme='portal'] .found-temp {
    animation: portal-found 0.8s var(--animation-timing);
    background: #fff;
}

:root[data-theme='portal'] .menu-options {
    color: #fff;
}

@keyframes logo-spin {
    from {
        transform: translate(-50%, -50%) rotate(0deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}

/* Vamos a usar el board como referencia */
:root[data-theme='portal'] .board {
    isolation: isolate;
}

:root[data-theme='portal'] .board::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    width: min(110%, 150vh);
    aspect-ratio: 1;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 532 532"><g id="c"><g id="b"><path id="a" fill="rgba(0,0,0,0.08)" d="M165 32C108 56 60 101 34 159l248-46"/><use xlink:href="%23a" transform="rotate(45 266 266)"/></g><use xlink:href="%23b" transform="rotate(90 266 266)"/></g><use xlink:href="%23c" transform="rotate(180 266 266)"/></svg>')
        center / 100% no-repeat;
    transform: translate(-50%, -50%);
    animation: logo-spin 60s linear infinite;
    will-change: transform;
    pointer-events: none;
    z-index: 1;
    mix-blend-mode: color;
}

/* Animación de encontrar palabra más dramática */
@keyframes portal-found {
    0% {
        transform: scale(1);
        background: var(--portal-blue);
    }

    33% {
        transform: scale(1.08);
        background: var(--portal-blue);
    }

    40% {
        transform: scale(1.08);
        background: var(--portal-orange);
    }

    66% {
        transform: scale(0.96);
        background: var(--portal-orange);
    }

    100% {
        transform: scale(1);
        background: radial-gradient(
            circle at center,
            #fff 30%,
            #f2f2f2 50%,
            #e6e6e6 70%,
            #d1d1d1 100%
        );
    }
}

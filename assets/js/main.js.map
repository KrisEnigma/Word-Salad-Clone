{"version":3,"mappings":"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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AA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","names":["ExceptionCode","CapacitorException","message","code","data","getPlatformId","win","_a","_b","createCapacitor","capCustomPlatform","cap","Plugins","getPlatform","isNativePlatform","isPluginAvailable","pluginName","plugin","registeredPlugins","getPluginHeader","h","handleError","err","registerPlugin","jsImplementations","registeredPlugin","platform","pluginHeader","jsImplementation","loadPluginImplementation","createPluginMethod","impl","prop","methodHeader","m","options","callback","createPluginMethodWrapper","remove","wrapper","args","p","fn","addListener","removeListener","addListenerNative","eventName","call","callbackId","resolve","proxy","_","filePath","initCapacitorGlobal","Capacitor","WebPlugin","listenerFunc","firstListener","windowListener","listener","retainUntilConsumed","listeners","windowEventName","pluginEventName","event","msg","index","handle","arg","encode","str","decode","CapacitorCookiesPluginWeb","cookies","cookieMap","cookie","key","value","encodedKey","encodedValue","expires","path","domain","error","readBlobAsBase64","blob","reject","reader","base64String","normalizeHttpHeaders","headers","originalKeys","k","acc","buildUrlParams","params","shouldEncode","accumulator","entry","item","buildRequestInit","extra","output","type","form","CapacitorHttpPluginWeb","requestInit","urlParams","url","response","contentType","responseType","LEVEL_DEFINITIONS","LEVELS","id","name","LEVEL_ORDER","SelectionManager","board","svgContainer","onSelectionUpdate","svg","pos","i","line","cA","cB","boardRect","attr","rect","num","len","mark","posA","posB","rowA","colA","rowB","colB","isInsideBoard","hitbox","currentHitbox","currentPos","touch","element","_c","module","main","global","isWorker","workerSize","canUseWorker","canUsePaths","canDrawBitmap","canvas","ctx","bitmap","noop","promise","func","ModulePromise","Prom","bitmapMapper","skipTransform","map","raf","TIME","frame","cancel","frames","lastFrameTime","cb","onFrame","time","timer","getWorker","worker","prom","resolves","decorate","execute","offscreen","size","done","workerDone","e","defaults","convert","val","transform","isOk","onlyPositiveInt","number","randomInt","min","max","toDecimal","colorsToRgb","colors","hexToRgb","getOrigin","origin","setCanvasWindowSize","setCanvasRectSize","getCanvas","zIndex","ellipse","context","x","y","radiusX","radiusY","rotation","startAngle","endAngle","antiClockwise","randomPhysics","opts","radAngle","radSpread","updateFetti","fetti","progress","x1","y1","x2","y2","transformPath2D","scaleX","scaleY","width","height","matrix","pattern","rot","innerRadius","outerRadius","spikes","step","animate","fettis","resizer","animatingFettis","animationFrame","destroy","onDone","update","confettiCannon","globalOpts","isLibCanvas","allowResize","hasResizeEventRegistered","globalDisableForReducedMotion","shouldUseWorker","initialized","preferLessMotion","animationObj","fireLocal","particleCount","angle","spread","startVelocity","decay","gravity","drift","ticks","shapes","scalar","flat","temp","startX","startY","fire","disableForReducedMotion","onResize","obj","defaultFire","getDefaultFire","pathString","pathMatrix","path2d","t1","t2","shapeFromPath","pathData","tempCanvas","tempCtx","maxSize","minX","minY","maxX","maxY","maxDesiredSize","scale","shapeFromText","textData","text","color","fontFamily","fontSize","font","padding","confetti","Preferences","__vitePreload","StorageManager","__privateGet","_initialized","settings","__privateSet","_settings","defaultValue","enabled","levelId","theme","__publicField","__privateAdd","Weekday","LocalNotifications","App","ImpactStyle","NotificationType","Haptics","Style","Animation","StatusBar","NativeServices","_serviceWorkerRegistration","permission","_isInitialized","registrations","registration","cacheNames","cacheName","plugins","instance","available","perms","_isNativePlatform","canGoBack","isActive","display","style","iconPath","title","body","permResult","scheduleTime","notificationConfig","hours","scheduledTime","testKey","texto","contenedor","disponible","anchoActual","timestamp","isFinalTitle","AnimationManager","v","metrics","selection","wordElement","word","lastCell","lastLetter","targetSpan","targetFontStyle","computedThemeStyles","letterMetrics","char","totalWidth","sum","metric","targetRect","sourceRect","startOffset","letters","letterSpan","sourceX","sourceY","previousLettersWidth","targetX","targetY","endX","endY","deltaX","deltaY","handleTransitionEnd","el","position","totalDuration","positions","cell","selectionManager","cells","add","animatedLetters","colorsVar","c","r","Storage","css","themes","ThemeSelector","category","logThemes","displayName","categoryHeader","themeName","option","previewCell","previewText","previewMark","previewTitle","backButton","themeModal","mainModal","styles","themeStyles","startMarker","cssContent","startIndex","braceCount","endIndex","inBlock","savedTheme","fontRegex","fonts","match","links","fontUrl","link","loggedThemes","source","TitleFitter","titleElement","attempt","container","isPlatformAndroid","computedStyle","containerWidth","containerPadding","safetyMargin","availableWidth","baseStyle","currentFontSize","measureEl","titleWidth","baseScaleFactor","attemptReduction","scaleFactor","minFontSize","newSize","finalWidth","resultado","_GameState","baseStyleId","styleEl","themeResult","defaultLevel","savedLevel","levelToLoad","overlay","progressBar","userSelectStyles","requiredElements","fragment","row","col","grid","unused","letter","set","words","a","b","measureElement","isFound","span","lengths","part","currentPath","wordIndex","foundWord","unusedPositions","newHitbox","handler","target","nativeHandlers","button","newState","vibrationButton","nextIndex","modalHandlers","isAnyModalActive","modal","closeModal","activeModal","seconds","minutes","displaySeconds","displayMinutes","levelNumber","GameState","startGame"],"ignoreList":[0,3,4,6,7,8,9,10,11,12],"sources":["../../../node_modules/.pnpm/@capacitor+core@7.0.1/node_modules/@capacitor/core/dist/index.js","../../../www/src/levels.js","../../../www/src/board.js","../../../node_modules/.pnpm/canvas-confetti@1.9.3/node_modules/canvas-confetti/dist/confetti.module.mjs","../../../node_modules/.pnpm/@capacitor+preferences@7.0.0_@capacitor+core@7.0.1/node_modules/@capacitor/preferences/dist/esm/index.js","../../../www/src/store.js","../../../node_modules/.pnpm/@capacitor+local-notifications@7.0.0_@capacitor+core@7.0.1/node_modules/@capacitor/local-notifications/dist/esm/definitions.js","../../../node_modules/.pnpm/@capacitor+local-notifications@7.0.0_@capacitor+core@7.0.1/node_modules/@capacitor/local-notifications/dist/esm/index.js","../../../node_modules/.pnpm/@capacitor+app@7.0.0_@capacitor+core@7.0.1/node_modules/@capacitor/app/dist/esm/index.js","../../../node_modules/.pnpm/@capacitor+haptics@7.0.0_@capacitor+core@7.0.1/node_modules/@capacitor/haptics/dist/esm/definitions.js","../../../node_modules/.pnpm/@capacitor+haptics@7.0.0_@capacitor+core@7.0.1/node_modules/@capacitor/haptics/dist/esm/index.js","../../../node_modules/.pnpm/@capacitor+status-bar@7.0.0_@capacitor+core@7.0.1/node_modules/@capacitor/status-bar/dist/esm/definitions.js","../../../node_modules/.pnpm/@capacitor+status-bar@7.0.0_@capacitor+core@7.0.1/node_modules/@capacitor/status-bar/dist/esm/index.js","../../../www/src/platform.js","../../../www/src/fx.js","../../../www/src/styles.js","../../../www/src/themes.js","../../../www/src/theme.js","../../../www/src/text.js","../../../www/src/app.js"],"sourcesContent":["/*! Capacitor: https://capacitorjs.com/ - MIT License */\nvar ExceptionCode;\n(function (ExceptionCode) {\n    /**\n     * API is not implemented.\n     *\n     * This usually means the API can't be used because it is not implemented for\n     * the current platform.\n     */\n    ExceptionCode[\"Unimplemented\"] = \"UNIMPLEMENTED\";\n    /**\n     * API is not available.\n     *\n     * This means the API can't be used right now because:\n     *   - it is currently missing a prerequisite, such as network connectivity\n     *   - it requires a particular platform or browser version\n     */\n    ExceptionCode[\"Unavailable\"] = \"UNAVAILABLE\";\n})(ExceptionCode || (ExceptionCode = {}));\nclass CapacitorException extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.message = message;\n        this.code = code;\n        this.data = data;\n    }\n}\nconst getPlatformId = (win) => {\n    var _a, _b;\n    if (win === null || win === void 0 ? void 0 : win.androidBridge) {\n        return 'android';\n    }\n    else if ((_b = (_a = win === null || win === void 0 ? void 0 : win.webkit) === null || _a === void 0 ? void 0 : _a.messageHandlers) === null || _b === void 0 ? void 0 : _b.bridge) {\n        return 'ios';\n    }\n    else {\n        return 'web';\n    }\n};\n\nconst createCapacitor = (win) => {\n    const capCustomPlatform = win.CapacitorCustomPlatform || null;\n    const cap = win.Capacitor || {};\n    const Plugins = (cap.Plugins = cap.Plugins || {});\n    const getPlatform = () => {\n        return capCustomPlatform !== null ? capCustomPlatform.name : getPlatformId(win);\n    };\n    const isNativePlatform = () => getPlatform() !== 'web';\n    const isPluginAvailable = (pluginName) => {\n        const plugin = registeredPlugins.get(pluginName);\n        if (plugin === null || plugin === void 0 ? void 0 : plugin.platforms.has(getPlatform())) {\n            // JS implementation available for the current platform.\n            return true;\n        }\n        if (getPluginHeader(pluginName)) {\n            // Native implementation available.\n            return true;\n        }\n        return false;\n    };\n    const getPluginHeader = (pluginName) => { var _a; return (_a = cap.PluginHeaders) === null || _a === void 0 ? void 0 : _a.find((h) => h.name === pluginName); };\n    const handleError = (err) => win.console.error(err);\n    const registeredPlugins = new Map();\n    const registerPlugin = (pluginName, jsImplementations = {}) => {\n        const registeredPlugin = registeredPlugins.get(pluginName);\n        if (registeredPlugin) {\n            console.warn(`Capacitor plugin \"${pluginName}\" already registered. Cannot register plugins twice.`);\n            return registeredPlugin.proxy;\n        }\n        const platform = getPlatform();\n        const pluginHeader = getPluginHeader(pluginName);\n        let jsImplementation;\n        const loadPluginImplementation = async () => {\n            if (!jsImplementation && platform in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations[platform] === 'function'\n                        ? (jsImplementation = await jsImplementations[platform]())\n                        : (jsImplementation = jsImplementations[platform]);\n            }\n            else if (capCustomPlatform !== null && !jsImplementation && 'web' in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations['web'] === 'function'\n                        ? (jsImplementation = await jsImplementations['web']())\n                        : (jsImplementation = jsImplementations['web']);\n            }\n            return jsImplementation;\n        };\n        const createPluginMethod = (impl, prop) => {\n            var _a, _b;\n            if (pluginHeader) {\n                const methodHeader = pluginHeader === null || pluginHeader === void 0 ? void 0 : pluginHeader.methods.find((m) => prop === m.name);\n                if (methodHeader) {\n                    if (methodHeader.rtype === 'promise') {\n                        return (options) => cap.nativePromise(pluginName, prop.toString(), options);\n                    }\n                    else {\n                        return (options, callback) => cap.nativeCallback(pluginName, prop.toString(), options, callback);\n                    }\n                }\n                else if (impl) {\n                    return (_a = impl[prop]) === null || _a === void 0 ? void 0 : _a.bind(impl);\n                }\n            }\n            else if (impl) {\n                return (_b = impl[prop]) === null || _b === void 0 ? void 0 : _b.bind(impl);\n            }\n            else {\n                throw new CapacitorException(`\"${pluginName}\" plugin is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n            }\n        };\n        const createPluginMethodWrapper = (prop) => {\n            let remove;\n            const wrapper = (...args) => {\n                const p = loadPluginImplementation().then((impl) => {\n                    const fn = createPluginMethod(impl, prop);\n                    if (fn) {\n                        const p = fn(...args);\n                        remove = p === null || p === void 0 ? void 0 : p.remove;\n                        return p;\n                    }\n                    else {\n                        throw new CapacitorException(`\"${pluginName}.${prop}()\" is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n                    }\n                });\n                if (prop === 'addListener') {\n                    p.remove = async () => remove();\n                }\n                return p;\n            };\n            // Some flair \n            wrapper.toString = () => `${prop.toString()}() { [capacitor code] }`;\n            Object.defineProperty(wrapper, 'name', {\n                value: prop,\n                writable: false,\n                configurable: false,\n            });\n            return wrapper;\n        };\n        const addListener = createPluginMethodWrapper('addListener');\n        const removeListener = createPluginMethodWrapper('removeListener');\n        const addListenerNative = (eventName, callback) => {\n            const call = addListener({ eventName }, callback);\n            const remove = async () => {\n                const callbackId = await call;\n                removeListener({\n                    eventName,\n                    callbackId,\n                }, callback);\n            };\n            const p = new Promise((resolve) => call.then(() => resolve({ remove })));\n            p.remove = async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            };\n            return p;\n        };\n        const proxy = new Proxy({}, {\n            get(_, prop) {\n                switch (prop) {\n                    // https://github.com/facebook/react/issues/20030\n                    case '$$typeof':\n                        return undefined;\n                    case 'toJSON':\n                        return () => ({});\n                    case 'addListener':\n                        return pluginHeader ? addListenerNative : addListener;\n                    case 'removeListener':\n                        return removeListener;\n                    default:\n                        return createPluginMethodWrapper(prop);\n                }\n            },\n        });\n        Plugins[pluginName] = proxy;\n        registeredPlugins.set(pluginName, {\n            name: pluginName,\n            proxy,\n            platforms: new Set([...Object.keys(jsImplementations), ...(pluginHeader ? [platform] : [])]),\n        });\n        return proxy;\n    };\n    // Add in convertFileSrc for web, it will already be available in native context\n    if (!cap.convertFileSrc) {\n        cap.convertFileSrc = (filePath) => filePath;\n    }\n    cap.getPlatform = getPlatform;\n    cap.handleError = handleError;\n    cap.isNativePlatform = isNativePlatform;\n    cap.isPluginAvailable = isPluginAvailable;\n    cap.registerPlugin = registerPlugin;\n    cap.Exception = CapacitorException;\n    cap.DEBUG = !!cap.DEBUG;\n    cap.isLoggingEnabled = !!cap.isLoggingEnabled;\n    return cap;\n};\nconst initCapacitorGlobal = (win) => (win.Capacitor = createCapacitor(win));\n\nconst Capacitor = /*#__PURE__*/ initCapacitorGlobal(typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {});\nconst registerPlugin = Capacitor.registerPlugin;\n\n/**\n * Base class web plugins should extend.\n */\nclass WebPlugin {\n    constructor() {\n        this.listeners = {};\n        this.retainedEventArguments = {};\n        this.windowListeners = {};\n    }\n    addListener(eventName, listenerFunc) {\n        let firstListener = false;\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            this.listeners[eventName] = [];\n            firstListener = true;\n        }\n        this.listeners[eventName].push(listenerFunc);\n        // If we haven't added a window listener for this event and it requires one,\n        // go ahead and add it\n        const windowListener = this.windowListeners[eventName];\n        if (windowListener && !windowListener.registered) {\n            this.addWindowListener(windowListener);\n        }\n        if (firstListener) {\n            this.sendRetainedArgumentsForEvent(eventName);\n        }\n        const remove = async () => this.removeListener(eventName, listenerFunc);\n        const p = Promise.resolve({ remove });\n        return p;\n    }\n    async removeAllListeners() {\n        this.listeners = {};\n        for (const listener in this.windowListeners) {\n            this.removeWindowListener(this.windowListeners[listener]);\n        }\n        this.windowListeners = {};\n    }\n    notifyListeners(eventName, data, retainUntilConsumed) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            if (retainUntilConsumed) {\n                let args = this.retainedEventArguments[eventName];\n                if (!args) {\n                    args = [];\n                }\n                args.push(data);\n                this.retainedEventArguments[eventName] = args;\n            }\n            return;\n        }\n        listeners.forEach((listener) => listener(data));\n    }\n    hasListeners(eventName) {\n        return !!this.listeners[eventName].length;\n    }\n    registerWindowListener(windowEventName, pluginEventName) {\n        this.windowListeners[pluginEventName] = {\n            registered: false,\n            windowEventName,\n            pluginEventName,\n            handler: (event) => {\n                this.notifyListeners(pluginEventName, event);\n            },\n        };\n    }\n    unimplemented(msg = 'not implemented') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unimplemented);\n    }\n    unavailable(msg = 'not available') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unavailable);\n    }\n    async removeListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            return;\n        }\n        const index = listeners.indexOf(listenerFunc);\n        this.listeners[eventName].splice(index, 1);\n        // If there are no more listeners for this type of event,\n        // remove the window listener\n        if (!this.listeners[eventName].length) {\n            this.removeWindowListener(this.windowListeners[eventName]);\n        }\n    }\n    addWindowListener(handle) {\n        window.addEventListener(handle.windowEventName, handle.handler);\n        handle.registered = true;\n    }\n    removeWindowListener(handle) {\n        if (!handle) {\n            return;\n        }\n        window.removeEventListener(handle.windowEventName, handle.handler);\n        handle.registered = false;\n    }\n    sendRetainedArgumentsForEvent(eventName) {\n        const args = this.retainedEventArguments[eventName];\n        if (!args) {\n            return;\n        }\n        delete this.retainedEventArguments[eventName];\n        args.forEach((arg) => {\n            this.notifyListeners(eventName, arg);\n        });\n    }\n}\n\nconst WebView = /*#__PURE__*/ registerPlugin('WebView');\n/******** END WEB VIEW PLUGIN ********/\n/******** COOKIES PLUGIN ********/\n/**\n * Safely web encode a string value (inspired by js-cookie)\n * @param str The string value to encode\n */\nconst encode = (str) => encodeURIComponent(str)\n    .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n    .replace(/[()]/g, escape);\n/**\n * Safely web decode a string value (inspired by js-cookie)\n * @param str The string value to decode\n */\nconst decode = (str) => str.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\nclass CapacitorCookiesPluginWeb extends WebPlugin {\n    async getCookies() {\n        const cookies = document.cookie;\n        const cookieMap = {};\n        cookies.split(';').forEach((cookie) => {\n            if (cookie.length <= 0)\n                return;\n            // Replace first \"=\" with CAP_COOKIE to prevent splitting on additional \"=\"\n            let [key, value] = cookie.replace(/=/, 'CAP_COOKIE').split('CAP_COOKIE');\n            key = decode(key).trim();\n            value = decode(value).trim();\n            cookieMap[key] = value;\n        });\n        return cookieMap;\n    }\n    async setCookie(options) {\n        try {\n            // Safely Encoded Key/Value\n            const encodedKey = encode(options.key);\n            const encodedValue = encode(options.value);\n            // Clean & sanitize options\n            const expires = `; expires=${(options.expires || '').replace('expires=', '')}`; // Default is \"; expires=\"\n            const path = (options.path || '/').replace('path=', ''); // Default is \"path=/\"\n            const domain = options.url != null && options.url.length > 0 ? `domain=${options.url}` : '';\n            document.cookie = `${encodedKey}=${encodedValue || ''}${expires}; path=${path}; ${domain};`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async deleteCookie(options) {\n        try {\n            document.cookie = `${options.key}=; Max-Age=0`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearCookies() {\n        try {\n            const cookies = document.cookie.split(';') || [];\n            for (const cookie of cookies) {\n                document.cookie = cookie.replace(/^ +/, '').replace(/=.*/, `=;expires=${new Date().toUTCString()};path=/`);\n            }\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearAllCookies() {\n        try {\n            await this.clearCookies();\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n}\nconst CapacitorCookies = registerPlugin('CapacitorCookies', {\n    web: () => new CapacitorCookiesPluginWeb(),\n});\n// UTILITY FUNCTIONS\n/**\n * Read in a Blob value and return it as a base64 string\n * @param blob The blob value to convert to a base64 string\n */\nconst readBlobAsBase64 = async (blob) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n        const base64String = reader.result;\n        // remove prefix \"data:application/pdf;base64,\"\n        resolve(base64String.indexOf(',') >= 0 ? base64String.split(',')[1] : base64String);\n    };\n    reader.onerror = (error) => reject(error);\n    reader.readAsDataURL(blob);\n});\n/**\n * Normalize an HttpHeaders map by lowercasing all of the values\n * @param headers The HttpHeaders object to normalize\n */\nconst normalizeHttpHeaders = (headers = {}) => {\n    const originalKeys = Object.keys(headers);\n    const loweredKeys = Object.keys(headers).map((k) => k.toLocaleLowerCase());\n    const normalized = loweredKeys.reduce((acc, key, index) => {\n        acc[key] = headers[originalKeys[index]];\n        return acc;\n    }, {});\n    return normalized;\n};\n/**\n * Builds a string of url parameters that\n * @param params A map of url parameters\n * @param shouldEncode true if you should encodeURIComponent() the values (true by default)\n */\nconst buildUrlParams = (params, shouldEncode = true) => {\n    if (!params)\n        return null;\n    const output = Object.entries(params).reduce((accumulator, entry) => {\n        const [key, value] = entry;\n        let encodedValue;\n        let item;\n        if (Array.isArray(value)) {\n            item = '';\n            value.forEach((str) => {\n                encodedValue = shouldEncode ? encodeURIComponent(str) : str;\n                item += `${key}=${encodedValue}&`;\n            });\n            // last character will always be \"&\" so slice it off\n            item.slice(0, -1);\n        }\n        else {\n            encodedValue = shouldEncode ? encodeURIComponent(value) : value;\n            item = `${key}=${encodedValue}`;\n        }\n        return `${accumulator}&${item}`;\n    }, '');\n    // Remove initial \"&\" from the reduce\n    return output.substr(1);\n};\n/**\n * Build the RequestInit object based on the options passed into the initial request\n * @param options The Http plugin options\n * @param extra Any extra RequestInit values\n */\nconst buildRequestInit = (options, extra = {}) => {\n    const output = Object.assign({ method: options.method || 'GET', headers: options.headers }, extra);\n    // Get the content-type\n    const headers = normalizeHttpHeaders(options.headers);\n    const type = headers['content-type'] || '';\n    // If body is already a string, then pass it through as-is.\n    if (typeof options.data === 'string') {\n        output.body = options.data;\n    }\n    // Build request initializers based off of content-type\n    else if (type.includes('application/x-www-form-urlencoded')) {\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(options.data || {})) {\n            params.set(key, value);\n        }\n        output.body = params.toString();\n    }\n    else if (type.includes('multipart/form-data') || options.data instanceof FormData) {\n        const form = new FormData();\n        if (options.data instanceof FormData) {\n            options.data.forEach((value, key) => {\n                form.append(key, value);\n            });\n        }\n        else {\n            for (const key of Object.keys(options.data)) {\n                form.append(key, options.data[key]);\n            }\n        }\n        output.body = form;\n        const headers = new Headers(output.headers);\n        headers.delete('content-type'); // content-type will be set by `window.fetch` to includy boundary\n        output.headers = headers;\n    }\n    else if (type.includes('application/json') || typeof options.data === 'object') {\n        output.body = JSON.stringify(options.data);\n    }\n    return output;\n};\n// WEB IMPLEMENTATION\nclass CapacitorHttpPluginWeb extends WebPlugin {\n    /**\n     * Perform an Http request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async request(options) {\n        const requestInit = buildRequestInit(options, options.webFetchExtra);\n        const urlParams = buildUrlParams(options.params, options.shouldEncodeUrlParams);\n        const url = urlParams ? `${options.url}?${urlParams}` : options.url;\n        const response = await fetch(url, requestInit);\n        const contentType = response.headers.get('content-type') || '';\n        // Default to 'text' responseType so no parsing happens\n        let { responseType = 'text' } = response.ok ? options : {};\n        // If the response content-type is json, force the response to be json\n        if (contentType.includes('application/json')) {\n            responseType = 'json';\n        }\n        let data;\n        let blob;\n        switch (responseType) {\n            case 'arraybuffer':\n            case 'blob':\n                blob = await response.blob();\n                data = await readBlobAsBase64(blob);\n                break;\n            case 'json':\n                data = await response.json();\n                break;\n            case 'document':\n            case 'text':\n            default:\n                data = await response.text();\n        }\n        // Convert fetch headers to Capacitor HttpHeaders\n        const headers = {};\n        response.headers.forEach((value, key) => {\n            headers[key] = value;\n        });\n        return {\n            data,\n            headers,\n            status: response.status,\n            url: response.url,\n        };\n    }\n    /**\n     * Perform an Http GET request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async get(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'GET' }));\n    }\n    /**\n     * Perform an Http POST request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async post(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'POST' }));\n    }\n    /**\n     * Perform an Http PUT request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async put(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PUT' }));\n    }\n    /**\n     * Perform an Http PATCH request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async patch(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PATCH' }));\n    }\n    /**\n     * Perform an Http DELETE request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async delete(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'DELETE' }));\n    }\n}\nconst CapacitorHttp = registerPlugin('CapacitorHttp', {\n    web: () => new CapacitorHttpPluginWeb(),\n});\n/******** END HTTP PLUGIN ********/\n\nexport { Capacitor, CapacitorCookies, CapacitorException, CapacitorHttp, ExceptionCode, WebPlugin, WebView, buildRequestInit, registerPlugin };\n//# sourceMappingURL=index.js.map\n","const LEVEL_DEFINITIONS = [\n    {\n        id: 'vg_characters',\n        name: 'VG Characters',\n        data: {\n            SONIC: 'a1b1c1d1c2',\n            'LARA CROFT': 'a3b3c4d3c2d2c3b2a2',\n            MARIO: 'd4d3c4b4a4',\n        },\n    },\n    {\n        id: 'chess',\n        name: 'Ajedrez',\n        data: {\n            PAWN: 'a1a2a3b3',\n            QUEEN: 'd4c4b4a4b3',\n            KING: 'c3c2b3b2',\n            KNIGHT: 'c3b3c2b2c1d1',\n            BISHOP: 'd3c2d2c1b1a1',\n        },\n    },\n    {\n        id: 'planets',\n        name: 'Planetas',\n        data: {\n            MARS: 'c4b3c3b4',\n            MERCURY: 'c4d4c3d2c2d1c1',\n            NEPTUNE: 'a3a2b1b2c2d3d4',\n            SATURN: 'b4b3b2c2c3d3',\n            URANUS: 'c2c3b3a3a4b4',\n            VENUS: 'a1a2a3a4b4',\n        },\n    },\n];\n// Convertir el arreglo a un objeto de niveles\nconst LEVELS = LEVEL_DEFINITIONS.reduce((acc, { id, name, data }) => {\n    acc[id] = { name, data };\n    return acc;\n}, {});\nconst LEVEL_ORDER = Object.keys(LEVELS);\n\nexport { LEVEL_ORDER as L, LEVELS as a };\n","class SelectionManager {\n    constructor(board, svgContainer, onSelectionUpdate) {\n        this.board = board;\n\n        // Limpiar cualquier SVG existente\n        this.board.querySelectorAll('svg').forEach(svg => svg.remove());\n\n        // Crear nuestro propio SVG container\n        this.svgContainer = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        this.svgContainer.id = 'lines';\n        this.board.insertBefore(this.svgContainer, this.board.firstChild);\n\n        this.onSelectionUpdate = onSelectionUpdate;\n\n        this.selected = [];\n\n        // Inicializar las propiedades privadas\n        this._isPointerDown = false;\n        this._isDragging = false;\n        this.potentialUndo = null;\n        this.startedInsideBoard = false;\n        this._lastTouchMove = null;\n        this._lastTouchEvent = null;\n        this._wasSelecting = false;\n    }\n\n    reset() {\n        this.selected.forEach(pos =>\n            document.getElementById(`mark-${pos}`).classList.remove('selected')\n        );\n        this.svgContainer.innerHTML = '';\n        this.selected = [];\n        this.potentialUndo = null;\n    }\n\n    resetControls() {\n        [this._isPointerDown, this._isDragging, this.potentialUndo, this.startedInsideBoard] =\n            [false, false, null, false];\n    }\n\n    getCurrentSelection() {\n        return [...this.selected];\n    }\n\n    drawLine() {\n        this.svgContainer.innerHTML = '';\n        this.selected.forEach((pos, i) => {\n            if (i === 0) return;\n\n            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            const [cA, cB] = [this.selected[i - 1], pos].map(p =>\n                document.getElementById(`mark-${p}`).getBoundingClientRect()\n            );\n            const boardRect = this.board.getBoundingClientRect();\n\n            ['x1', 'y1', 'x2', 'y2'].forEach((attr, i) => {\n                const rect = i < 2 ? cA : cB;\n                line.setAttribute(attr,\n                    rect[attr.startsWith('x') ? 'x' : 'y'] +\n                    rect.width / 2 -\n                    boardRect[attr.startsWith('x') ? 'x' : 'y']\n                );\n            });\n\n            this.svgContainer.appendChild(line);\n        });\n    }\n\n    handleLetterSelection(num) {\n        const len = this.selected.length;\n\n        if (this.selected.includes(num)) {\n            if (num === this.selected[len - 1]) {\n                this.potentialUndo = num;\n                this.onSelectionUpdate(this.selected);\n                return true;\n            }\n            if (num === this.selected[len - 2]) {\n                document.getElementById(`mark-${this.selected[len - 1]}`).classList.remove('selected');\n                this.selected.pop();\n                this.drawLine();\n                this.onSelectionUpdate(this.selected);\n                return true;\n            }\n            return false;\n        }\n\n        this.potentialUndo = null;\n        if (!len || this.areAdjacent(this.selected[len - 1], num)) {\n            const mark = document.getElementById(`mark-${num}`);\n            this.selected.push(num);\n            mark.classList.add('selected');\n            this.drawLine();\n            this.onSelectionUpdate(this.selected);\n            return true;\n        }\n\n        if (!this.isDragging) {\n            this.reset();\n            document.getElementById(`mark-${num}`).classList.add('selected');\n            this.selected.push(num);\n            this.onSelectionUpdate(this.selected);\n            return true;\n        }\n\n        return false;\n    }\n\n    areAdjacent(posA, posB) {\n        if (posA === posB) return false;\n        const [rowA, colA] = [posA.charCodeAt(0) - 97, parseInt(posA[1]) - 1];\n        const [rowB, colB] = [posB.charCodeAt(0) - 97, parseInt(posB[1]) - 1];\n        return Math.abs(rowA - rowB) <= 1 && Math.abs(colA - colB) <= 1;\n    }\n\n    handlePointerDown(e) {\n        const isInsideBoard = !!e?.target?.closest('.board');\n        this.startedInsideBoard = isInsideBoard;\n\n        if (!isInsideBoard) return;\n\n        const hitbox = this.getHitboxFromEvent(e);\n        if (!hitbox) {\n            if (!this.isDragging) this.reset();\n            return;\n        }\n\n        e.preventDefault();\n        this._isPointerDown = true;\n        this._isDragging = false;\n        this.handleLetterSelection(hitbox.dataset.position);\n    }\n\n    handlePointerMove(e) {\n        if (!this._isPointerDown || !e.target?.closest('.board')) return;\n        e.preventDefault();\n\n        if (!this.startedInsideBoard && !this._isDragging) return;\n\n        const currentHitbox = this.getHitboxFromEvent(e);\n        if (!currentHitbox) return;\n\n        const currentPos = currentHitbox.dataset.position;\n        if (this.selected[this.selected.length - 1] === currentPos) return;\n\n        this._isDragging = true;\n        this.handleLetterSelection(currentPos);\n    }\n\n    handlePointerUp(e) {  // Eliminado el parmetro resetAll\n        if (!this._isDragging && this.potentialUndo) {\n            const hitbox = this.getHitboxFromEvent(e);\n            if (hitbox && this.potentialUndo === hitbox.dataset.position) {\n                document.getElementById(`mark-${this.potentialUndo}`).classList.remove('selected');\n                this.selected.pop();\n                this.drawLine();\n            }\n        }\n\n        if (!e?.target?.closest('.board')) {\n            this.resetControls();\n            this.reset();\n        } else {\n            this._isPointerDown = false;\n            this._isDragging = false;\n        }\n    }\n\n    handlePointerOut() {\n        this._isPointerDown = false;\n        return this._isDragging || this.selected.length > 0;\n    }\n\n    handlePointerEnter(e) {\n        if (e.buttons > 0 && (this.startedInsideBoard || this.selected.length > 0)) {\n            this._isPointerDown = true;\n        }\n    }\n\n    getHitboxFromEvent(e) {\n        if (!e) return null;\n\n        if (e.touches || e.changedTouches) {\n            const touch = e.touches?.[0] || e.changedTouches?.[0];\n            if (!touch) return null;\n\n            const element = document.elementFromPoint(touch.clientX, touch.clientY);\n            return element?.closest('.hitbox');\n        }\n\n        return e.target?.closest('.hitbox');\n    }\n\n    isPlayableArea(e) {\n        if (!e?.target) return false;\n        return e.target.closest('.hitbox') || e.target.closest('.board');\n    }\n\n    get isDragging() {\n        return this._isDragging;\n    }\n\n    get isPointerDown() {\n        return this._isPointerDown;\n    }\n\n    handleTouchMove(e) {\n        e.preventDefault();\n        this.handlePointerMove(e);\n    }\n\n    getWasSelecting() {\n        return this._wasSelecting;\n    }\n\n    setWasSelecting(value) {\n        this._wasSelecting = value;\n    }\n}\n\nexport { SelectionManager as S };\n","// canvas-confetti v1.9.3 built on 2024-04-30T22:19:17.794Z\nvar module = {};\n\n// source content\n/* globals Map */\n\n(function main(global, module, isWorker, workerSize) {\n  var canUseWorker = !!(\n    global.Worker &&\n    global.Blob &&\n    global.Promise &&\n    global.OffscreenCanvas &&\n    global.OffscreenCanvasRenderingContext2D &&\n    global.HTMLCanvasElement &&\n    global.HTMLCanvasElement.prototype.transferControlToOffscreen &&\n    global.URL &&\n    global.URL.createObjectURL);\n\n  var canUsePaths = typeof Path2D === 'function' && typeof DOMMatrix === 'function';\n  var canDrawBitmap = (function () {\n    // this mostly supports ssr\n    if (!global.OffscreenCanvas) {\n      return false;\n    }\n\n    var canvas = new OffscreenCanvas(1, 1);\n    var ctx = canvas.getContext('2d');\n    ctx.fillRect(0, 0, 1, 1);\n    var bitmap = canvas.transferToImageBitmap();\n\n    try {\n      ctx.createPattern(bitmap, 'no-repeat');\n    } catch (e) {\n      return false;\n    }\n\n    return true;\n  })();\n\n  function noop() {}\n\n  // create a promise if it exists, otherwise, just\n  // call the function directly\n  function promise(func) {\n    var ModulePromise = module.exports.Promise;\n    var Prom = ModulePromise !== void 0 ? ModulePromise : global.Promise;\n\n    if (typeof Prom === 'function') {\n      return new Prom(func);\n    }\n\n    func(noop, noop);\n\n    return null;\n  }\n\n  var bitmapMapper = (function (skipTransform, map) {\n    // see https://github.com/catdad/canvas-confetti/issues/209\n    // creating canvases is actually pretty expensive, so we should create a\n    // 1:1 map for bitmap:canvas, so that we can animate the confetti in\n    // a performant manner, but also not store them forever so that we don't\n    // have a memory leak\n    return {\n      transform: function(bitmap) {\n        if (skipTransform) {\n          return bitmap;\n        }\n\n        if (map.has(bitmap)) {\n          return map.get(bitmap);\n        }\n\n        var canvas = new OffscreenCanvas(bitmap.width, bitmap.height);\n        var ctx = canvas.getContext('2d');\n        ctx.drawImage(bitmap, 0, 0);\n\n        map.set(bitmap, canvas);\n\n        return canvas;\n      },\n      clear: function () {\n        map.clear();\n      }\n    };\n  })(canDrawBitmap, new Map());\n\n  var raf = (function () {\n    var TIME = Math.floor(1000 / 60);\n    var frame, cancel;\n    var frames = {};\n    var lastFrameTime = 0;\n\n    if (typeof requestAnimationFrame === 'function' && typeof cancelAnimationFrame === 'function') {\n      frame = function (cb) {\n        var id = Math.random();\n\n        frames[id] = requestAnimationFrame(function onFrame(time) {\n          if (lastFrameTime === time || lastFrameTime + TIME - 1 < time) {\n            lastFrameTime = time;\n            delete frames[id];\n\n            cb();\n          } else {\n            frames[id] = requestAnimationFrame(onFrame);\n          }\n        });\n\n        return id;\n      };\n      cancel = function (id) {\n        if (frames[id]) {\n          cancelAnimationFrame(frames[id]);\n        }\n      };\n    } else {\n      frame = function (cb) {\n        return setTimeout(cb, TIME);\n      };\n      cancel = function (timer) {\n        return clearTimeout(timer);\n      };\n    }\n\n    return { frame: frame, cancel: cancel };\n  }());\n\n  var getWorker = (function () {\n    var worker;\n    var prom;\n    var resolves = {};\n\n    function decorate(worker) {\n      function execute(options, callback) {\n        worker.postMessage({ options: options || {}, callback: callback });\n      }\n      worker.init = function initWorker(canvas) {\n        var offscreen = canvas.transferControlToOffscreen();\n        worker.postMessage({ canvas: offscreen }, [offscreen]);\n      };\n\n      worker.fire = function fireWorker(options, size, done) {\n        if (prom) {\n          execute(options, null);\n          return prom;\n        }\n\n        var id = Math.random().toString(36).slice(2);\n\n        prom = promise(function (resolve) {\n          function workerDone(msg) {\n            if (msg.data.callback !== id) {\n              return;\n            }\n\n            delete resolves[id];\n            worker.removeEventListener('message', workerDone);\n\n            prom = null;\n\n            bitmapMapper.clear();\n\n            done();\n            resolve();\n          }\n\n          worker.addEventListener('message', workerDone);\n          execute(options, id);\n\n          resolves[id] = workerDone.bind(null, { data: { callback: id }});\n        });\n\n        return prom;\n      };\n\n      worker.reset = function resetWorker() {\n        worker.postMessage({ reset: true });\n\n        for (var id in resolves) {\n          resolves[id]();\n          delete resolves[id];\n        }\n      };\n    }\n\n    return function () {\n      if (worker) {\n        return worker;\n      }\n\n      if (!isWorker && canUseWorker) {\n        var code = [\n          'var CONFETTI, SIZE = {}, module = {};',\n          '(' + main.toString() + ')(this, module, true, SIZE);',\n          'onmessage = function(msg) {',\n          '  if (msg.data.options) {',\n          '    CONFETTI(msg.data.options).then(function () {',\n          '      if (msg.data.callback) {',\n          '        postMessage({ callback: msg.data.callback });',\n          '      }',\n          '    });',\n          '  } else if (msg.data.reset) {',\n          '    CONFETTI && CONFETTI.reset();',\n          '  } else if (msg.data.resize) {',\n          '    SIZE.width = msg.data.resize.width;',\n          '    SIZE.height = msg.data.resize.height;',\n          '  } else if (msg.data.canvas) {',\n          '    SIZE.width = msg.data.canvas.width;',\n          '    SIZE.height = msg.data.canvas.height;',\n          '    CONFETTI = module.exports.create(msg.data.canvas);',\n          '  }',\n          '}',\n        ].join('\\n');\n        try {\n          worker = new Worker(URL.createObjectURL(new Blob([code])));\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          typeof console !== undefined && typeof console.warn === 'function' ? console.warn(' Could not load worker', e) : null;\n\n          return null;\n        }\n\n        decorate(worker);\n      }\n\n      return worker;\n    };\n  })();\n\n  var defaults = {\n    particleCount: 50,\n    angle: 90,\n    spread: 45,\n    startVelocity: 45,\n    decay: 0.9,\n    gravity: 1,\n    drift: 0,\n    ticks: 200,\n    x: 0.5,\n    y: 0.5,\n    shapes: ['square', 'circle'],\n    zIndex: 100,\n    colors: [\n      '#26ccff',\n      '#a25afd',\n      '#ff5e7e',\n      '#88ff5a',\n      '#fcff42',\n      '#ffa62d',\n      '#ff36ff'\n    ],\n    // probably should be true, but back-compat\n    disableForReducedMotion: false,\n    scalar: 1\n  };\n\n  function convert(val, transform) {\n    return transform ? transform(val) : val;\n  }\n\n  function isOk(val) {\n    return !(val === null || val === undefined);\n  }\n\n  function prop(options, name, transform) {\n    return convert(\n      options && isOk(options[name]) ? options[name] : defaults[name],\n      transform\n    );\n  }\n\n  function onlyPositiveInt(number){\n    return number < 0 ? 0 : Math.floor(number);\n  }\n\n  function randomInt(min, max) {\n    // [min, max)\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  function toDecimal(str) {\n    return parseInt(str, 16);\n  }\n\n  function colorsToRgb(colors) {\n    return colors.map(hexToRgb);\n  }\n\n  function hexToRgb(str) {\n    var val = String(str).replace(/[^0-9a-f]/gi, '');\n\n    if (val.length < 6) {\n        val = val[0]+val[0]+val[1]+val[1]+val[2]+val[2];\n    }\n\n    return {\n      r: toDecimal(val.substring(0,2)),\n      g: toDecimal(val.substring(2,4)),\n      b: toDecimal(val.substring(4,6))\n    };\n  }\n\n  function getOrigin(options) {\n    var origin = prop(options, 'origin', Object);\n    origin.x = prop(origin, 'x', Number);\n    origin.y = prop(origin, 'y', Number);\n\n    return origin;\n  }\n\n  function setCanvasWindowSize(canvas) {\n    canvas.width = document.documentElement.clientWidth;\n    canvas.height = document.documentElement.clientHeight;\n  }\n\n  function setCanvasRectSize(canvas) {\n    var rect = canvas.getBoundingClientRect();\n    canvas.width = rect.width;\n    canvas.height = rect.height;\n  }\n\n  function getCanvas(zIndex) {\n    var canvas = document.createElement('canvas');\n\n    canvas.style.position = 'fixed';\n    canvas.style.top = '0px';\n    canvas.style.left = '0px';\n    canvas.style.pointerEvents = 'none';\n    canvas.style.zIndex = zIndex;\n\n    return canvas;\n  }\n\n  function ellipse(context, x, y, radiusX, radiusY, rotation, startAngle, endAngle, antiClockwise) {\n    context.save();\n    context.translate(x, y);\n    context.rotate(rotation);\n    context.scale(radiusX, radiusY);\n    context.arc(0, 0, 1, startAngle, endAngle, antiClockwise);\n    context.restore();\n  }\n\n  function randomPhysics(opts) {\n    var radAngle = opts.angle * (Math.PI / 180);\n    var radSpread = opts.spread * (Math.PI / 180);\n\n    return {\n      x: opts.x,\n      y: opts.y,\n      wobble: Math.random() * 10,\n      wobbleSpeed: Math.min(0.11, Math.random() * 0.1 + 0.05),\n      velocity: (opts.startVelocity * 0.5) + (Math.random() * opts.startVelocity),\n      angle2D: -radAngle + ((0.5 * radSpread) - (Math.random() * radSpread)),\n      tiltAngle: (Math.random() * (0.75 - 0.25) + 0.25) * Math.PI,\n      color: opts.color,\n      shape: opts.shape,\n      tick: 0,\n      totalTicks: opts.ticks,\n      decay: opts.decay,\n      drift: opts.drift,\n      random: Math.random() + 2,\n      tiltSin: 0,\n      tiltCos: 0,\n      wobbleX: 0,\n      wobbleY: 0,\n      gravity: opts.gravity * 3,\n      ovalScalar: 0.6,\n      scalar: opts.scalar,\n      flat: opts.flat\n    };\n  }\n\n  function updateFetti(context, fetti) {\n    fetti.x += Math.cos(fetti.angle2D) * fetti.velocity + fetti.drift;\n    fetti.y += Math.sin(fetti.angle2D) * fetti.velocity + fetti.gravity;\n    fetti.velocity *= fetti.decay;\n\n    if (fetti.flat) {\n      fetti.wobble = 0;\n      fetti.wobbleX = fetti.x + (10 * fetti.scalar);\n      fetti.wobbleY = fetti.y + (10 * fetti.scalar);\n\n      fetti.tiltSin = 0;\n      fetti.tiltCos = 0;\n      fetti.random = 1;\n    } else {\n      fetti.wobble += fetti.wobbleSpeed;\n      fetti.wobbleX = fetti.x + ((10 * fetti.scalar) * Math.cos(fetti.wobble));\n      fetti.wobbleY = fetti.y + ((10 * fetti.scalar) * Math.sin(fetti.wobble));\n\n      fetti.tiltAngle += 0.1;\n      fetti.tiltSin = Math.sin(fetti.tiltAngle);\n      fetti.tiltCos = Math.cos(fetti.tiltAngle);\n      fetti.random = Math.random() + 2;\n    }\n\n    var progress = (fetti.tick++) / fetti.totalTicks;\n\n    var x1 = fetti.x + (fetti.random * fetti.tiltCos);\n    var y1 = fetti.y + (fetti.random * fetti.tiltSin);\n    var x2 = fetti.wobbleX + (fetti.random * fetti.tiltCos);\n    var y2 = fetti.wobbleY + (fetti.random * fetti.tiltSin);\n\n    context.fillStyle = 'rgba(' + fetti.color.r + ', ' + fetti.color.g + ', ' + fetti.color.b + ', ' + (1 - progress) + ')';\n\n    context.beginPath();\n\n    if (canUsePaths && fetti.shape.type === 'path' && typeof fetti.shape.path === 'string' && Array.isArray(fetti.shape.matrix)) {\n      context.fill(transformPath2D(\n        fetti.shape.path,\n        fetti.shape.matrix,\n        fetti.x,\n        fetti.y,\n        Math.abs(x2 - x1) * 0.1,\n        Math.abs(y2 - y1) * 0.1,\n        Math.PI / 10 * fetti.wobble\n      ));\n    } else if (fetti.shape.type === 'bitmap') {\n      var rotation = Math.PI / 10 * fetti.wobble;\n      var scaleX = Math.abs(x2 - x1) * 0.1;\n      var scaleY = Math.abs(y2 - y1) * 0.1;\n      var width = fetti.shape.bitmap.width * fetti.scalar;\n      var height = fetti.shape.bitmap.height * fetti.scalar;\n\n      var matrix = new DOMMatrix([\n        Math.cos(rotation) * scaleX,\n        Math.sin(rotation) * scaleX,\n        -Math.sin(rotation) * scaleY,\n        Math.cos(rotation) * scaleY,\n        fetti.x,\n        fetti.y\n      ]);\n\n      // apply the transform matrix from the confetti shape\n      matrix.multiplySelf(new DOMMatrix(fetti.shape.matrix));\n\n      var pattern = context.createPattern(bitmapMapper.transform(fetti.shape.bitmap), 'no-repeat');\n      pattern.setTransform(matrix);\n\n      context.globalAlpha = (1 - progress);\n      context.fillStyle = pattern;\n      context.fillRect(\n        fetti.x - (width / 2),\n        fetti.y - (height / 2),\n        width,\n        height\n      );\n      context.globalAlpha = 1;\n    } else if (fetti.shape === 'circle') {\n      context.ellipse ?\n        context.ellipse(fetti.x, fetti.y, Math.abs(x2 - x1) * fetti.ovalScalar, Math.abs(y2 - y1) * fetti.ovalScalar, Math.PI / 10 * fetti.wobble, 0, 2 * Math.PI) :\n        ellipse(context, fetti.x, fetti.y, Math.abs(x2 - x1) * fetti.ovalScalar, Math.abs(y2 - y1) * fetti.ovalScalar, Math.PI / 10 * fetti.wobble, 0, 2 * Math.PI);\n    } else if (fetti.shape === 'star') {\n      var rot = Math.PI / 2 * 3;\n      var innerRadius = 4 * fetti.scalar;\n      var outerRadius = 8 * fetti.scalar;\n      var x = fetti.x;\n      var y = fetti.y;\n      var spikes = 5;\n      var step = Math.PI / spikes;\n\n      while (spikes--) {\n        x = fetti.x + Math.cos(rot) * outerRadius;\n        y = fetti.y + Math.sin(rot) * outerRadius;\n        context.lineTo(x, y);\n        rot += step;\n\n        x = fetti.x + Math.cos(rot) * innerRadius;\n        y = fetti.y + Math.sin(rot) * innerRadius;\n        context.lineTo(x, y);\n        rot += step;\n      }\n    } else {\n      context.moveTo(Math.floor(fetti.x), Math.floor(fetti.y));\n      context.lineTo(Math.floor(fetti.wobbleX), Math.floor(y1));\n      context.lineTo(Math.floor(x2), Math.floor(y2));\n      context.lineTo(Math.floor(x1), Math.floor(fetti.wobbleY));\n    }\n\n    context.closePath();\n    context.fill();\n\n    return fetti.tick < fetti.totalTicks;\n  }\n\n  function animate(canvas, fettis, resizer, size, done) {\n    var animatingFettis = fettis.slice();\n    var context = canvas.getContext('2d');\n    var animationFrame;\n    var destroy;\n\n    var prom = promise(function (resolve) {\n      function onDone() {\n        animationFrame = destroy = null;\n\n        context.clearRect(0, 0, size.width, size.height);\n        bitmapMapper.clear();\n\n        done();\n        resolve();\n      }\n\n      function update() {\n        if (isWorker && !(size.width === workerSize.width && size.height === workerSize.height)) {\n          size.width = canvas.width = workerSize.width;\n          size.height = canvas.height = workerSize.height;\n        }\n\n        if (!size.width && !size.height) {\n          resizer(canvas);\n          size.width = canvas.width;\n          size.height = canvas.height;\n        }\n\n        context.clearRect(0, 0, size.width, size.height);\n\n        animatingFettis = animatingFettis.filter(function (fetti) {\n          return updateFetti(context, fetti);\n        });\n\n        if (animatingFettis.length) {\n          animationFrame = raf.frame(update);\n        } else {\n          onDone();\n        }\n      }\n\n      animationFrame = raf.frame(update);\n      destroy = onDone;\n    });\n\n    return {\n      addFettis: function (fettis) {\n        animatingFettis = animatingFettis.concat(fettis);\n\n        return prom;\n      },\n      canvas: canvas,\n      promise: prom,\n      reset: function () {\n        if (animationFrame) {\n          raf.cancel(animationFrame);\n        }\n\n        if (destroy) {\n          destroy();\n        }\n      }\n    };\n  }\n\n  function confettiCannon(canvas, globalOpts) {\n    var isLibCanvas = !canvas;\n    var allowResize = !!prop(globalOpts || {}, 'resize');\n    var hasResizeEventRegistered = false;\n    var globalDisableForReducedMotion = prop(globalOpts, 'disableForReducedMotion', Boolean);\n    var shouldUseWorker = canUseWorker && !!prop(globalOpts || {}, 'useWorker');\n    var worker = shouldUseWorker ? getWorker() : null;\n    var resizer = isLibCanvas ? setCanvasWindowSize : setCanvasRectSize;\n    var initialized = (canvas && worker) ? !!canvas.__confetti_initialized : false;\n    var preferLessMotion = typeof matchMedia === 'function' && matchMedia('(prefers-reduced-motion)').matches;\n    var animationObj;\n\n    function fireLocal(options, size, done) {\n      var particleCount = prop(options, 'particleCount', onlyPositiveInt);\n      var angle = prop(options, 'angle', Number);\n      var spread = prop(options, 'spread', Number);\n      var startVelocity = prop(options, 'startVelocity', Number);\n      var decay = prop(options, 'decay', Number);\n      var gravity = prop(options, 'gravity', Number);\n      var drift = prop(options, 'drift', Number);\n      var colors = prop(options, 'colors', colorsToRgb);\n      var ticks = prop(options, 'ticks', Number);\n      var shapes = prop(options, 'shapes');\n      var scalar = prop(options, 'scalar');\n      var flat = !!prop(options, 'flat');\n      var origin = getOrigin(options);\n\n      var temp = particleCount;\n      var fettis = [];\n\n      var startX = canvas.width * origin.x;\n      var startY = canvas.height * origin.y;\n\n      while (temp--) {\n        fettis.push(\n          randomPhysics({\n            x: startX,\n            y: startY,\n            angle: angle,\n            spread: spread,\n            startVelocity: startVelocity,\n            color: colors[temp % colors.length],\n            shape: shapes[randomInt(0, shapes.length)],\n            ticks: ticks,\n            decay: decay,\n            gravity: gravity,\n            drift: drift,\n            scalar: scalar,\n            flat: flat\n          })\n        );\n      }\n\n      // if we have a previous canvas already animating,\n      // add to it\n      if (animationObj) {\n        return animationObj.addFettis(fettis);\n      }\n\n      animationObj = animate(canvas, fettis, resizer, size , done);\n\n      return animationObj.promise;\n    }\n\n    function fire(options) {\n      var disableForReducedMotion = globalDisableForReducedMotion || prop(options, 'disableForReducedMotion', Boolean);\n      var zIndex = prop(options, 'zIndex', Number);\n\n      if (disableForReducedMotion && preferLessMotion) {\n        return promise(function (resolve) {\n          resolve();\n        });\n      }\n\n      if (isLibCanvas && animationObj) {\n        // use existing canvas from in-progress animation\n        canvas = animationObj.canvas;\n      } else if (isLibCanvas && !canvas) {\n        // create and initialize a new canvas\n        canvas = getCanvas(zIndex);\n        document.body.appendChild(canvas);\n      }\n\n      if (allowResize && !initialized) {\n        // initialize the size of a user-supplied canvas\n        resizer(canvas);\n      }\n\n      var size = {\n        width: canvas.width,\n        height: canvas.height\n      };\n\n      if (worker && !initialized) {\n        worker.init(canvas);\n      }\n\n      initialized = true;\n\n      if (worker) {\n        canvas.__confetti_initialized = true;\n      }\n\n      function onResize() {\n        if (worker) {\n          // TODO this really shouldn't be immediate, because it is expensive\n          var obj = {\n            getBoundingClientRect: function () {\n              if (!isLibCanvas) {\n                return canvas.getBoundingClientRect();\n              }\n            }\n          };\n\n          resizer(obj);\n\n          worker.postMessage({\n            resize: {\n              width: obj.width,\n              height: obj.height\n            }\n          });\n          return;\n        }\n\n        // don't actually query the size here, since this\n        // can execute frequently and rapidly\n        size.width = size.height = null;\n      }\n\n      function done() {\n        animationObj = null;\n\n        if (allowResize) {\n          hasResizeEventRegistered = false;\n          global.removeEventListener('resize', onResize);\n        }\n\n        if (isLibCanvas && canvas) {\n          if (document.body.contains(canvas)) {\n            document.body.removeChild(canvas); \n          }\n          canvas = null;\n          initialized = false;\n        }\n      }\n\n      if (allowResize && !hasResizeEventRegistered) {\n        hasResizeEventRegistered = true;\n        global.addEventListener('resize', onResize, false);\n      }\n\n      if (worker) {\n        return worker.fire(options, size, done);\n      }\n\n      return fireLocal(options, size, done);\n    }\n\n    fire.reset = function () {\n      if (worker) {\n        worker.reset();\n      }\n\n      if (animationObj) {\n        animationObj.reset();\n      }\n    };\n\n    return fire;\n  }\n\n  // Make default export lazy to defer worker creation until called.\n  var defaultFire;\n  function getDefaultFire() {\n    if (!defaultFire) {\n      defaultFire = confettiCannon(null, { useWorker: true, resize: true });\n    }\n    return defaultFire;\n  }\n\n  function transformPath2D(pathString, pathMatrix, x, y, scaleX, scaleY, rotation) {\n    var path2d = new Path2D(pathString);\n\n    var t1 = new Path2D();\n    t1.addPath(path2d, new DOMMatrix(pathMatrix));\n\n    var t2 = new Path2D();\n    // see https://developer.mozilla.org/en-US/docs/Web/API/DOMMatrix/DOMMatrix\n    t2.addPath(t1, new DOMMatrix([\n      Math.cos(rotation) * scaleX,\n      Math.sin(rotation) * scaleX,\n      -Math.sin(rotation) * scaleY,\n      Math.cos(rotation) * scaleY,\n      x,\n      y\n    ]));\n\n    return t2;\n  }\n\n  function shapeFromPath(pathData) {\n    if (!canUsePaths) {\n      throw new Error('path confetti are not supported in this browser');\n    }\n\n    var path, matrix;\n\n    if (typeof pathData === 'string') {\n      path = pathData;\n    } else {\n      path = pathData.path;\n      matrix = pathData.matrix;\n    }\n\n    var path2d = new Path2D(path);\n    var tempCanvas = document.createElement('canvas');\n    var tempCtx = tempCanvas.getContext('2d');\n\n    if (!matrix) {\n      // attempt to figure out the width of the path, up to 1000x1000\n      var maxSize = 1000;\n      var minX = maxSize;\n      var minY = maxSize;\n      var maxX = 0;\n      var maxY = 0;\n      var width, height;\n\n      // do some line skipping... this is faster than checking\n      // every pixel and will be mostly still correct\n      for (var x = 0; x < maxSize; x += 2) {\n        for (var y = 0; y < maxSize; y += 2) {\n          if (tempCtx.isPointInPath(path2d, x, y, 'nonzero')) {\n            minX = Math.min(minX, x);\n            minY = Math.min(minY, y);\n            maxX = Math.max(maxX, x);\n            maxY = Math.max(maxY, y);\n          }\n        }\n      }\n\n      width = maxX - minX;\n      height = maxY - minY;\n\n      var maxDesiredSize = 10;\n      var scale = Math.min(maxDesiredSize/width, maxDesiredSize/height);\n\n      matrix = [\n        scale, 0, 0, scale,\n        -Math.round((width/2) + minX) * scale,\n        -Math.round((height/2) + minY) * scale\n      ];\n    }\n\n    return {\n      type: 'path',\n      path: path,\n      matrix: matrix\n    };\n  }\n\n  function shapeFromText(textData) {\n    var text,\n        scalar = 1,\n        color = '#000000',\n        // see https://nolanlawson.com/2022/04/08/the-struggle-of-using-native-emoji-on-the-web/\n        fontFamily = '\"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\", \"EmojiOne Color\", \"Android Emoji\", \"Twemoji Mozilla\", \"system emoji\", sans-serif';\n\n    if (typeof textData === 'string') {\n      text = textData;\n    } else {\n      text = textData.text;\n      scalar = 'scalar' in textData ? textData.scalar : scalar;\n      fontFamily = 'fontFamily' in textData ? textData.fontFamily : fontFamily;\n      color = 'color' in textData ? textData.color : color;\n    }\n\n    // all other confetti are 10 pixels,\n    // so this pixel size is the de-facto 100% scale confetti\n    var fontSize = 10 * scalar;\n    var font = '' + fontSize + 'px ' + fontFamily;\n\n    var canvas = new OffscreenCanvas(fontSize, fontSize);\n    var ctx = canvas.getContext('2d');\n\n    ctx.font = font;\n    var size = ctx.measureText(text);\n    var width = Math.ceil(size.actualBoundingBoxRight + size.actualBoundingBoxLeft);\n    var height = Math.ceil(size.actualBoundingBoxAscent + size.actualBoundingBoxDescent);\n\n    var padding = 2;\n    var x = size.actualBoundingBoxLeft + padding;\n    var y = size.actualBoundingBoxAscent + padding;\n    width += padding + padding;\n    height += padding + padding;\n\n    canvas = new OffscreenCanvas(width, height);\n    ctx = canvas.getContext('2d');\n    ctx.font = font;\n    ctx.fillStyle = color;\n\n    ctx.fillText(text, x, y);\n\n    var scale = 1 / scalar;\n\n    return {\n      type: 'bitmap',\n      // TODO these probably need to be transfered for workers\n      bitmap: canvas.transferToImageBitmap(),\n      matrix: [scale, 0, 0, scale, -width * scale / 2, -height * scale / 2]\n    };\n  }\n\n  module.exports = function() {\n    return getDefaultFire().apply(this, arguments);\n  };\n  module.exports.reset = function() {\n    getDefaultFire().reset();\n  };\n  module.exports.create = confettiCannon;\n  module.exports.shapeFromPath = shapeFromPath;\n  module.exports.shapeFromText = shapeFromText;\n}((function () {\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  return this || {};\n})(), module, false));\n\n// end source content\n\nexport default module.exports;\nexport var create = module.exports.create;\n","import { registerPlugin } from '@capacitor/core';\nconst Preferences = registerPlugin('Preferences', {\n    web: () => import('./web').then(m => new m.PreferencesWeb()),\n});\nexport * from './definitions';\nexport { Preferences };\n//# sourceMappingURL=index.js.map","import { Preferences } from '@capacitor/preferences';\nimport { L as LEVEL_ORDER } from './levels.js';\n\nclass StorageManager {\n    static KEYS = {\n        THEME: 'theme',\n        CURRENT_LEVEL: 'currentLevel',\n        SETTINGS: 'settings'\n    };\n\n    static #initialized = false;\n    static #settings = {\n        vibrationEnabled: true,\n        notificationEnabled: true\n    };\n\n    static async initialize() {\n        if (this.#initialized) return;\n\n        try {\n            // Cargar configuraciones\n            const settings = await this.get(this.KEYS.SETTINGS);\n            if (settings) {\n                this.#settings = settings;\n            } else {\n                // Si no hay configuraciones, guardar las predeterminadas\n                await this.set(this.KEYS.SETTINGS, this.#settings);\n            }\n            \n            this.#initialized = true;\n            console.log(' Storage inicializado:', this.#settings);\n        } catch (error) {\n            console.error(' Error inicializando Storage:', error);\n        }\n    }\n\n    static async get(key, defaultValue = null) {\n        try {\n            // Intentar usar Capacitor Preferences\n            const { value } = await Preferences.get({ key });\n            return value ? JSON.parse(value) : defaultValue;\n        } catch (error) {\n            // Fallback a localStorage\n            try {\n                const value = localStorage.getItem(key);\n                return value ? JSON.parse(value) : defaultValue;\n            } catch (error) {\n                console.error(`Error leyendo ${key}:`, error);\n                return defaultValue;\n            }\n        }\n    }\n\n    static async set(key, value) {\n        try {\n            // Intentar usar Capacitor Preferences\n            await Preferences.set({\n                key,\n                value: JSON.stringify(value)\n            });\n\n            // Actualizar settings en memoria si corresponde\n            if (key === this.KEYS.SETTINGS) {\n                this.#settings = value;\n            }\n\n            return true;\n        } catch (error) {\n            // Fallback a localStorage\n            try {\n                localStorage.setItem(key, JSON.stringify(value));\n                if (key === this.KEYS.SETTINGS) {\n                    this.#settings = value;\n                }\n                return true;\n            } catch (error) {\n                console.error(`Error guardando ${key}:`, error);\n                return false;\n            }\n        }\n    }\n\n    // Getters para configuraciones\n    static get isVibrationEnabled() {\n        return this.#settings.vibrationEnabled;\n    }\n\n    static get isNotificationEnabled() {\n        return this.#settings.notificationEnabled;\n    }\n\n    // Setters para configuraciones\n    static async setVibrationEnabled(enabled) {\n        this.#settings.vibrationEnabled = enabled;\n        return this.set(this.KEYS.SETTINGS, this.#settings);\n    }\n\n    static async setNotificationEnabled(enabled) {\n        this.#settings.notificationEnabled = enabled;\n        return this.set(this.KEYS.SETTINGS, this.#settings);\n    }\n\n    // Mtodos para manejar nivel y tema\n    static async getCurrentLevel() {\n        return this.get(this.KEYS.CURRENT_LEVEL);\n    }\n\n    static async setCurrentLevel(levelId) {\n        return this.set(this.KEYS.CURRENT_LEVEL, levelId);\n    }\n\n    static async getCurrentTheme() {\n        return this.get(this.KEYS.THEME);\n    }\n\n    static async setCurrentTheme(theme) {\n        return this.set(this.KEYS.THEME, theme);\n    }\n\n    // Mtodo para resetear todo\n    static async resetToDefaults() {\n        this.#settings = {\n            vibrationEnabled: true,\n            notificationEnabled: true\n        };\n\n        await Promise.all([\n            this.set(this.KEYS.SETTINGS, this.#settings),\n            this.set(this.KEYS.THEME, 'dark'),\n            this.set(this.KEYS.CURRENT_LEVEL, LEVEL_ORDER[0])  // Volver al primer nivel\n        ]);\n    }\n}\n\nexport { StorageManager as S };\n","/// <reference types=\"@capacitor/cli\" />\n/**\n * Day of the week. Used for scheduling notifications on a particular weekday.\n */\nexport var Weekday;\n(function (Weekday) {\n    Weekday[Weekday[\"Sunday\"] = 1] = \"Sunday\";\n    Weekday[Weekday[\"Monday\"] = 2] = \"Monday\";\n    Weekday[Weekday[\"Tuesday\"] = 3] = \"Tuesday\";\n    Weekday[Weekday[\"Wednesday\"] = 4] = \"Wednesday\";\n    Weekday[Weekday[\"Thursday\"] = 5] = \"Thursday\";\n    Weekday[Weekday[\"Friday\"] = 6] = \"Friday\";\n    Weekday[Weekday[\"Saturday\"] = 7] = \"Saturday\";\n})(Weekday || (Weekday = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst LocalNotifications = registerPlugin('LocalNotifications', {\n    web: () => import('./web').then(m => new m.LocalNotificationsWeb()),\n});\nexport * from './definitions';\nexport { LocalNotifications };\n//# sourceMappingURL=index.js.map","import { registerPlugin } from '@capacitor/core';\nconst App = registerPlugin('App', {\n    web: () => import('./web').then(m => new m.AppWeb()),\n});\nexport * from './definitions';\nexport { App };\n//# sourceMappingURL=index.js.map","export var ImpactStyle;\n(function (ImpactStyle) {\n    /**\n     * A collision between large, heavy user interface elements\n     *\n     * @since 1.0.0\n     */\n    ImpactStyle[\"Heavy\"] = \"HEAVY\";\n    /**\n     * A collision between moderately sized user interface elements\n     *\n     * @since 1.0.0\n     */\n    ImpactStyle[\"Medium\"] = \"MEDIUM\";\n    /**\n     * A collision between small, light user interface elements\n     *\n     * @since 1.0.0\n     */\n    ImpactStyle[\"Light\"] = \"LIGHT\";\n})(ImpactStyle || (ImpactStyle = {}));\nexport var NotificationType;\n(function (NotificationType) {\n    /**\n     * A notification feedback type indicating that a task has completed successfully\n     *\n     * @since 1.0.0\n     */\n    NotificationType[\"Success\"] = \"SUCCESS\";\n    /**\n     * A notification feedback type indicating that a task has produced a warning\n     *\n     * @since 1.0.0\n     */\n    NotificationType[\"Warning\"] = \"WARNING\";\n    /**\n     * A notification feedback type indicating that a task has failed\n     *\n     * @since 1.0.0\n     */\n    NotificationType[\"Error\"] = \"ERROR\";\n})(NotificationType || (NotificationType = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Haptics = registerPlugin('Haptics', {\n    web: () => import('./web').then(m => new m.HapticsWeb()),\n});\nexport * from './definitions';\nexport { Haptics };\n//# sourceMappingURL=index.js.map","/// <reference types=\"@capacitor/cli\" />\nexport var Style;\n(function (Style) {\n    /**\n     * Light text for dark backgrounds.\n     *\n     * @since 1.0.0\n     */\n    Style[\"Dark\"] = \"DARK\";\n    /**\n     * Dark text for light backgrounds.\n     *\n     * @since 1.0.0\n     */\n    Style[\"Light\"] = \"LIGHT\";\n    /**\n     * The style is based on the device appearance.\n     * If the device is using Dark mode, the statusbar text will be light.\n     * If the device is using Light mode, the statusbar text will be dark.\n     *\n     * @since 1.0.0\n     */\n    Style[\"Default\"] = \"DEFAULT\";\n})(Style || (Style = {}));\nexport var Animation;\n(function (Animation) {\n    /**\n     * No animation during show/hide.\n     *\n     * @since 1.0.0\n     */\n    Animation[\"None\"] = \"NONE\";\n    /**\n     * Slide animation during show/hide.\n     * It doesn't work on iOS 15+.\n     *\n     * @deprecated Use Animation.Fade or Animation.None instead.\n     *\n     * @since 1.0.0\n     */\n    Animation[\"Slide\"] = \"SLIDE\";\n    /**\n     * Fade animation during show/hide.\n     *\n     * @since 1.0.0\n     */\n    Animation[\"Fade\"] = \"FADE\";\n})(Animation || (Animation = {}));\n/**\n * @deprecated Use `Animation`.\n * @since 1.0.0\n */\nexport const StatusBarAnimation = Animation;\n/**\n * @deprecated Use `Style`.\n * @since 1.0.0\n */\nexport const StatusBarStyle = Style;\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst StatusBar = registerPlugin('StatusBar');\nexport * from './definitions';\nexport { StatusBar };\n//# sourceMappingURL=index.js.map","import { Capacitor } from '@capacitor/core';\nimport { LocalNotifications } from '@capacitor/local-notifications';\nimport { App } from '@capacitor/app';\nimport { Haptics, ImpactStyle, NotificationType } from '@capacitor/haptics';\nimport { Preferences } from '@capacitor/preferences';\nimport { StatusBar, Style } from '@capacitor/status-bar';\n\n// Eliminar import del splash screen\n\nclass NativeServices {\n    static #isInitialized = false;\n    static #serviceWorkerRegistration = null;\n    static #isNativePlatform = false;\n\n    // Nuevo mtodo especfico para SW\n    static async initializeServiceWorker() {\n        if (Capacitor.isNative) {\n            console.log('Plataforma nativa, omitiendo SW');\n            return true;\n        }\n\n        console.group(' Inicializando Service Worker');\n        try {\n            // 1. Limpiar SW antiguos\n            await this.cleanupServiceWorker();\n\n            // 2. Registrar nuevo SW\n            this.#serviceWorkerRegistration = await navigator.serviceWorker.register(\n                './sw.js',\n                {\n                    scope: './',\n                    type: 'module'\n                }\n            );\n\n            // 3. Esperar a que est activo\n            await navigator.serviceWorker.ready;\n            \n            // 4. Solicitar permisos de notificacin\n            if ('Notification' in window) {\n                const permission = await Notification.requestPermission();\n                console.log('Permisos de notificacin:', permission);\n            }\n\n            console.log(' Service Worker inicializado');\n            console.groupEnd();\n            return true;\n        } catch (error) {\n            console.error(' Error inicializando SW:', error);\n            console.groupEnd();\n            return false;\n        }\n    }\n\n    static async initialize() {\n        console.group(' Inicializacin de GameSalad');\n        console.time('initialization');\n        \n        try {\n            // Log estado inicial\n            console.log('Estado inicial:', {\n                readyState: document.readyState,\n                fontsLoaded: document.fonts.check('1em \"Rubik\"'),\n                viewport: {\n                    width: window.innerWidth,\n                    height: window.innerHeight\n                }\n            });\n\n            // Inicializar Storage\n            await this.initializeStorage();\n\n            // Configurar servicios nativos si es necesario\n            if (Capacitor.isNative) {\n                await this.setupNativeServices();\n            }\n\n            this.#isInitialized = true;\n            console.timeEnd('initialization');\n            return true;\n        } catch (error) {\n            console.error('[Capacitor]  Error:', error);\n            return false;\n        } finally {\n            console.groupEnd();\n        }\n    }\n\n    static async cleanupServiceWorker() {\n        if ('serviceWorker' in navigator) {\n            try {\n                // 1. Obtener todos los registros\n                const registrations = await navigator.serviceWorker.getRegistrations();\n\n                // 2. Desregistrar cada uno\n                await Promise.all(\n                    registrations.map(registration => {\n                        console.log('Desregistrando SW:', registration.scope);\n                        return registration.unregister();\n                    })\n                );\n\n                // 3. Limpiar caches\n                const cacheNames = await caches.keys();\n                await Promise.all(\n                    cacheNames.map(cacheName => {\n                        console.log('Eliminando cach:', cacheName);\n                        return caches.delete(cacheName);\n                    })\n                );\n\n                console.log(' Service Workers y caches limpiados');\n            } catch (error) {\n                console.warn('Error limpiando SW:', error);\n            }\n        }\n    }\n\n    static async setupNativeServices() {\n        console.group('[Capacitor] Configurando servicios nativos');\n\n        // Verificar cada plugin\n        const plugins = [\n            { name: 'App', instance: App },\n            { name: 'Haptics', instance: Haptics },\n            { name: 'LocalNotifications', instance: LocalNotifications },\n            { name: 'Preferences', instance: Preferences }\n        ];\n\n        for (const { name, instance } of plugins) {\n            try {\n                const available = Capacitor.isPluginAvailable(name);\n                console.log(`- ${name}: ${available ? '' : ''}`);\n                if (available && instance) {\n                    // Intentar un mtodo simple para verificar funcionamiento\n                    if (name === 'LocalNotifications') {\n                        const perms = await instance.checkPermissions();\n                        console.log(`  Permisos: ${perms.display}`);\n                    }\n                }\n            } catch (err) {\n                console.warn(` Error verificando ${name}:`, err);\n            }\n        }\n\n        try {\n            if (Capacitor.getPlatform() === 'ios') {\n                await StatusBar.setOverlaysWebView(true);\n                await StatusBar.setStyle({ style: Style.Light });\n            } else {\n                await StatusBar.setOverlaysWebView(false);\n                await StatusBar.setBackgroundColor({ color: '#000000' });\n                await StatusBar.setStyle({ style: Style.Dark });\n            }\n        } catch (error) {\n            console.warn('[Capacitor] No se pudo configurar StatusBar:', error);\n        }\n\n        // Configurar listeners\n        this.setupAppListeners();\n\n        console.log(' Configuracin nativa completada');\n        console.groupEnd();\n    }\n\n    static async setupWebNotifications() {\n        if ('Notification' in window) {\n            const permission = await Notification.requestPermission();\n            console.log('Permisos de notificacin web:', permission);\n        }\n    }\n\n    static async setupServiceWorker() {\n        if (this.#isInitialized) return;\n\n        try {\n            this.setupAppListeners();\n\n            // Usar isNative aqu tambin\n            this.#isNativePlatform = Capacitor.isNative;\n            console.log('Plataforma nativa:', this.#isNativePlatform);\n\n            // Registrar Service Worker\n            if ('serviceWorker' in navigator) {\n                try {\n                    const isLocalDevelopment =\n                        window.location.hostname === 'localhost' ||\n                        window.location.hostname.includes('192.168.') ||\n                        window.location.hostname.includes('127.0.0.1');\n\n                    // En desarrollo local, solo registrar si estamos en HTTP\n                    if (!isLocalDevelopment || window.location.protocol === 'http:') {\n                        this.#serviceWorkerRegistration = await navigator.serviceWorker.register(\n                            '/sw.js',\n                            {\n                                scope: '/',\n                                type: 'classic',\n                                updateViaCache: 'none'\n                            }\n                        );\n                        console.log(' Service Worker registrado:', this.#serviceWorkerRegistration);\n                    } else {\n                        console.log('Service Worker no registrado en desarrollo local');\n                    }\n                } catch (error) {\n                    console.warn('Service Worker no disponible:', error);\n                }\n            }\n\n            this.#isInitialized = true;\n            console.log(' Servicios nativos inicializados');\n        } catch (error) {\n            console.error(' Error inicializando servicios nativos:', error);\n        }\n    }\n\n    static setupAppListeners() {\n        App.addListener('backButton', ({ canGoBack }) => {\n            if (!canGoBack) {\n                App.exitApp();\n            }\n        });\n\n        App.addListener('appStateChange', ({ isActive }) => {\n            if (!isActive) {\n                document.dispatchEvent(new Event('appPause'));\n            } else {\n                document.dispatchEvent(new Event('appResume'));\n            }\n        });\n    }\n\n    static async initializeNotifications() {\n        console.group(' Inicializando sistema de notificaciones');\n\n        // 1. En plataformas nativas, usar Capacitor\n        if (this.#isNativePlatform) {\n            try {\n                console.log(' Intentando usar notificaciones nativas...');\n                const { display } = await LocalNotifications.checkPermissions();\n                console.log('Estado de permisos nativos:', display);\n\n                if (display === 'granted' || display === 'prompt') {\n                    const perms = await LocalNotifications.requestPermissions();\n                    console.log('Nuevos permisos nativos:', perms.display);\n\n                    if (perms.display === 'granted') {\n                        console.log(' Notificaciones nativas activadas');\n                        console.groupEnd();\n                        return;\n                    }\n                }\n            } catch (error) {\n                console.warn(' Notificaciones nativas no disponibles:', error);\n            }\n        }\n\n        // 2. Verificar y solicitar permisos explcitamente\n        if ('Notification' in window) {\n            try {\n                let permission = Notification.permission;\n\n                if (permission === 'default') {\n                    console.log(' Solicitando permisos de notificacin...');\n                    permission = await Notification.requestPermission();\n                }\n\n                if (permission === 'granted') {\n                    // Priorizar Service Worker si est disponible\n                    if (this.#serviceWorkerRegistration?.active) {\n                        console.log(' Service Worker notifications activadas');\n                    } else {\n                        console.log(' Web Notifications activadas');\n                    }\n                    console.groupEnd();\n                    return;\n                } else {\n                    console.warn(' Permisos de notificacin denegados:', permission);\n                }\n            } catch (error) {\n                console.warn(' Error solicitando permisos:', error);\n            }\n        }\n\n        console.warn(' No hay sistema de notificaciones disponible');\n        console.groupEnd();\n    }\n\n    static async vibrate(style = 'MEDIUM') {\n        try {\n            switch (style.toUpperCase()) {\n                case 'LIGHT':\n                    await Haptics.impact({ style: ImpactStyle.Light });\n                    break;\n                case 'HEAVY':\n                    await Haptics.notification({ type: NotificationType.Success });\n                    break;\n                case 'MEDIUM':\n                default:\n                    await Haptics.impact({ style: ImpactStyle.Medium });\n            }\n            return true;\n        } catch {\n            console.warn('Haptics no disponible');\n            return false;\n        }\n    }\n\n    static getIconPath() {\n        console.group(' Obteniendo rutas de iconos');\n        const platform = Capacitor.getPlatform();\n\n        let iconPath;\n        if (platform === 'android') {\n            iconPath = 'ic_notification';\n        } else if (platform === 'ios') {\n            iconPath = 'AppIcon';\n        } else {\n            iconPath = './assets/images/icon.png';\n        }\n\n        console.log('Plataforma:', platform);\n        console.log('Icono seleccionado:', iconPath);\n        console.groupEnd();\n        return iconPath;\n    }\n\n    static async sendNotification(title, body) {\n        console.group(' Enviando notificacin');\n        try {\n            const platform = Capacitor.getPlatform();\n            console.log('Plataforma detectada:', platform);\n\n            if (platform === 'android' || platform === 'ios') {\n                console.log(`Usando notificaciones nativas (${platform})`);\n\n                const permResult = await LocalNotifications.requestPermissions();\n                console.log('Permisos:', permResult);\n\n                if (permResult.display !== 'granted') {\n                    throw new Error(`Permiso denegado en ${platform}`);\n                }\n\n                // Programar para 2 segundos en el futuro\n                const scheduleTime = new Date(Date.now() + 2000);\n\n                const notificationConfig = {\n                    title,\n                    body,\n                    id: Math.floor(Date.now() / 1000),\n                    schedule: {\n                        at: scheduleTime,\n                        allowWhileIdle: true\n                    },\n                    autoCancel: true,\n                    smallIcon: platform === 'android' ? 'ic_notification' : 'AppIcon',\n                    android: {\n                        channelId: 'default',\n                        importance: 4,\n                        priority: 3,\n                        visibility: 1,\n                        smallIcon: 'ic_notification'\n                    }\n                };\n\n                await LocalNotifications.schedule({\n                    notifications: [notificationConfig]\n                });\n\n                console.log(` Notificacin ${platform} programada para:`, scheduleTime);\n                return true;\n            }\n\n            // Verificar que window y Notification existan\n            if (typeof window === 'undefined' || typeof window.Notification === 'undefined') {\n                console.warn(' API Notification no est disponible');\n                throw new Error('Notificaciones web no soportadas');\n            }\n\n            // Asegurar que Notification existe antes de llamar requestPermission\n            if ((platform !== 'android' && platform !== 'ios') && !('Notification' in window)) {\n                console.warn(' API Notification no est disponible en este entorno');\n                throw new Error('Notificaciones web no soportadas');\n            }\n\n            // Si no estamos en plataforma nativa, intentar usar notificaciones web\n            if ('Notification' in window && 'serviceWorker' in navigator) {\n                console.log('Usando notificaciones web');\n                const permission = await Notification.requestPermission();\n\n                if (permission === 'granted') {\n                    const registration = await navigator.serviceWorker.ready;\n                    await registration.showNotification(title, {\n                        body,\n                        icon: './assets/images/icon.png',\n                        vibrate: [200, 100, 200],\n                        requireInteraction: true,\n                        data: {\n                            url: window.location.origin\n                        }\n                    });\n\n                    console.log(' Notificacin web enviada');\n                    return true;\n                }\n\n                throw new Error('Permiso de notificacin denegado');\n            }\n\n            throw new Error('Sistema de notificaciones no disponible');\n\n        } catch (error) {\n            console.error(' Error en notificacin:', error);\n            throw error;\n        } finally {\n            console.groupEnd();\n        }\n    }\n\n    // Eliminar mtodo scheduleReminder ya que no se usa\n\n    static async scheduleNativeNotification(title, body, hours) {\n        console.group(' Programando notificacin nativa');\n        try {\n            console.log('Cancelando notificaciones anteriores...');\n            await LocalNotifications.cancel({ notifications: [{ id: 1 }] });\n\n            const scheduledTime = new Date(Date.now() + hours * 60 * 60 * 1000);\n            console.log('Tiempo programado:', scheduledTime);\n\n            await LocalNotifications.schedule({\n                notifications: [{\n                    title,\n                    body,\n                    id: 1,\n                    schedule: {\n                        at: scheduledTime,\n                        allowWhileIdle: true\n                    },\n                    actionTypeId: 'OPEN_APP'\n                }]\n            });\n\n            console.log(' Notificacin nativa programada');\n            console.groupEnd();\n            return true;\n        } catch (error) {\n            console.error(' Error en notificacin nativa:', error);\n            console.groupEnd();\n            return false;\n        }\n    }\n\n    // Agregar mtodo helper para detectar mviles\n    static isMobile() {\n        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\n            ('maxTouchPoints' in navigator && navigator.maxTouchPoints > 0);\n    }\n\n    static async scheduleMobileNotification(title, body) {\n        console.group(' Programando Service Worker notification');\n        try {\n            const registration = await navigator.serviceWorker.ready;\n            console.log('Service Worker listo');\n\n            await registration.showNotification(title, {\n                body,\n                icon: './assets/images/icon.png',  // Cambiar a ruta relativa\n                vibrate: [200, 100, 200]\n            });\n\n            console.log(' Service Worker notification mostrada');\n            console.groupEnd();\n            return true;\n        } catch (error) {\n            console.error(' Error en Service Worker notification:', error);\n            console.groupEnd();\n            return false;\n        }\n    }\n\n    static async saveData(key, value) {\n        try {\n            await Preferences.set({\n                key,\n                value: JSON.stringify(value)\n            });\n            return true;\n        } catch {\n            console.warn('Error guardando en Preferences, usando localStorage');\n            localStorage.setItem(key, JSON.stringify(value));\n            return false;\n        }\n    }\n\n    static async getData(key, defaultValue = null) {\n        try {\n            const { value } = await Preferences.get({ key });\n            return value ? JSON.parse(value) : defaultValue;\n        } catch {\n            console.warn('Error leyendo de Preferences, usando localStorage');\n            const value = localStorage.getItem(key);\n            return value ? JSON.parse(value) : defaultValue;\n        }\n    }\n\n    static async removeData(key) {\n        try {\n            await Preferences.remove({ key });\n            return true;\n        } catch {\n            localStorage.removeItem(key);\n            return false;\n        }\n    }\n\n    static async clearData() {\n        try {\n            await Preferences.clear();\n            return true;\n        } catch {\n            localStorage.clear();\n            return false;\n        }\n    }\n\n    static async logToNative(message, data = {}) {\n        // Evitar logs redundantes usando un Set o Map para trackear mensajes recientes\n        if (!this._recentLogs) this._recentLogs = new Set();\n\n        const key = `${message}-${JSON.stringify(data)}`;\n        if (this._recentLogs.has(key)) return;\n\n        this._recentLogs.add(key);\n        setTimeout(() => this._recentLogs.delete(key), 1000); // Limpiar despus de 1 segundo\n\n        if (Capacitor.getPlatform() === 'android') {\n            console.debug(`[GameSalad] ${message}`, JSON.stringify(data, null, 2));\n        } else {\n            console.log(message, data);\n        }\n    }\n\n    static async initializeStorage() {\n        try {\n            // Verificar acceso a Storage\n            if (Capacitor.isNative) {\n                // En nativo, verificar Preferences\n                const testKey = '_test_storage_';\n                await Preferences.set({ key: testKey, value: 'test' });\n                await Preferences.remove({ key: testKey });\n            } else {\n                // En web, verificar localStorage\n                const testKey = '_test_storage_';\n                localStorage.setItem(testKey, 'test');\n                localStorage.removeItem(testKey);\n            }\n            \n            // Pre-cargar datos crticos\n            const settings = {\n                vibrationEnabled: await this.getData('vibrationEnabled', true),\n                notificationEnabled: await this.getData('notificationEnabled', true)\n            };\n            \n            console.log(' Storage inicializado:', settings);\n            return settings;\n        } catch (error) {\n            console.error(' Error inicializando Storage:', error);\n            return {\n                vibrationEnabled: true,\n                notificationEnabled: true\n            };\n        }\n    }\n\n    static async adjustTitle(texto, contenedor, disponible, anchoActual) {\n        const timestamp = (performance.now() / 1000).toFixed(3);\n        console.log(` [${timestamp}] Ajustando ttulo:`, { texto, contenedor, disponible, anchoActual });\n        \n        // Si es el ltimo ttulo (VG Characters)\n        const isFinalTitle = texto === 'VG Characters';\n        \n        if (!texto || anchoActual <= disponible) {\n            console.log(` [${timestamp}] No necesita ajuste`);\n            \n            if (isFinalTitle) {\n                document.dispatchEvent(new CustomEvent('title-adjusted', {\n                    detail: { \n                        timestamp,\n                        texto,\n                        anchoActual,\n                        disponible,\n                        final: true\n                    }\n                }));\n            }\n            \n            return true;\n        }\n\n        // ...resto del cdigo de ajuste...\n\n        document.dispatchEvent(new CustomEvent('title-adjusted', {\n            detail: { \n                timestamp,\n                texto,\n                anchoActual,\n                disponible,\n                needed: true\n            }\n        }));\n    }\n}\n\nexport { NativeServices as N };\n","import confetti from 'canvas-confetti';\nimport { S as Storage } from './store.js';\nimport { N as NativeServices } from './platform.js';\n\nclass AnimationManager {\n    static DURATIONS = {\n        LETTER_DELAY: 50,\n        LETTER_ANIMATION: 300,\n        VICTORY_DELAY: 300\n    };\n\n    static async measureText(text, style) {\n        const temp = document.createElement('div');\n        temp.style.cssText = `\n            position: absolute;\n            visibility: hidden;\n            white-space: pre;\n            ${Object.entries(style).map(([k, v]) => `${k}:${v}`).join(';')}\n        `;\n        temp.textContent = text;\n        document.body.appendChild(temp);\n        const metrics = {\n            width: temp.offsetWidth,\n            height: temp.offsetHeight,\n            left: temp.offsetLeft,\n            top: temp.offsetTop\n        };\n        document.body.removeChild(temp);\n        return metrics;\n    }\n\n    static animateWordFound(selection, wordElement, word) {\n        return new Promise((resolve) => {\n            const lastCell = document.getElementById(`tile-${selection[selection.length - 1]}`);\n            const lastLetter = lastCell.querySelector('.text');\n            const targetSpan = wordElement.querySelector('span');\n\n            targetSpan.style.opacity = '0';\n\n            const targetFontStyle = window.getComputedStyle(targetSpan);\n\n            const computedThemeStyles = {\n                source: window.getComputedStyle(lastLetter),\n                target: window.getComputedStyle(wordElement)\n            };\n\n            // Mover toda la lgica async dentro de una funcin async IIFE\n            (async () => {\n                const letterMetrics = await Promise.all([...word].map(async char => {\n                    return this.measureText(char, {\n                        'font-size': targetFontStyle.fontSize,\n                        'font-family': 'var(--font-family-content)',\n                        'font-weight': computedThemeStyles.target.fontWeight,\n                        'letter-spacing': computedThemeStyles.target.letterSpacing,\n                        'text-transform': computedThemeStyles.target.textTransform,\n                        'font-feature-settings': computedThemeStyles.target.fontFeatureSettings\n                    });\n                }));\n\n                const totalWidth = letterMetrics.reduce((sum, metric) => sum + metric.width, 0);\n                const targetRect = targetSpan.getBoundingClientRect();\n                const sourceRect = lastCell.getBoundingClientRect();\n\n                const startOffset = (targetRect.width - totalWidth) / 2;\n\n                const letters = [...word].map((char, index) => {\n                    const letterSpan = document.createElement('span');\n                    letterSpan.textContent = char === ' ' ? '\\u00A0' : char;\n                    letterSpan.className = 'animated-letter';\n\n                    const sourceX = sourceRect.left + (sourceRect.width / 2);\n                    const sourceY = sourceRect.top + (sourceRect.height / 2);\n\n                    letterSpan.style.cssText = `\n                        position: fixed;\n                        left: ${sourceX}px;\n                        top: ${sourceY}px;\n                        transform: translate(-50%, -50%);\n                        opacity: 1;\n                    `;\n                    document.body.appendChild(letterSpan);\n\n                    const previousLettersWidth = letterMetrics\n                        .slice(0, index)\n                        .reduce((sum, metric) => sum + metric.width, 0);\n\n                    const targetX = targetRect.left + startOffset + previousLettersWidth + (letterMetrics[index].width / 2);\n                    const targetY = targetRect.top + (targetRect.height / 2);\n\n                    return {\n                        element: letterSpan,\n                        endX: targetX,\n                        endY: targetY,\n                        startX: sourceX,\n                        startY: sourceY,\n                        sourceStyles: computedThemeStyles.source,\n                        targetStyles: computedThemeStyles.target\n                    };\n                });\n\n                letters.forEach(({ element, endX, endY, startX, startY }, index) => {\n                    setTimeout(() => {\n                        element.classList.add('animating');\n\n                        requestAnimationFrame(() => {\n                            element.classList.add('in-transit');\n                            const deltaX = endX - startX;\n                            const deltaY = endY - startY;\n\n                            element.style.cssText += `\n                                font-size: ${targetFontStyle.fontSize};\n                                color: white;\n                                transform: translate(\n                                    calc(-50% + ${deltaX}px),\n                                    calc(-50% + ${deltaY}px)\n                                );\n                            `;\n\n                            const handleTransitionEnd = (e) => {\n                                if (e.propertyName === 'transform') {\n                                    element.removeEventListener('transitionend', handleTransitionEnd);\n                                    element.classList.remove('animating', 'in-transit');\n\n                                    if (index === letters.length - 1) {\n                                        targetSpan.textContent = word;\n                                        targetSpan.style.opacity = '1';\n\n                                        requestAnimationFrame(() => {\n                                            document.querySelectorAll('.animated-letter').forEach(el => el.remove());\n                                        });\n                                    }\n                                }\n                            };\n\n                            element.addEventListener('transitionend', handleTransitionEnd);\n                        });\n                    }, index * this.DURATIONS.LETTER_DELAY);\n                });\n\n                selection.forEach(position => {\n                    const cell = document.getElementById(`tile-${position}`);\n                    cell.classList.add('found-temp');\n                });\n\n                const totalDuration = letters.length * this.DURATIONS.LETTER_DELAY + this.DURATIONS.LETTER_ANIMATION;\n                setTimeout(() => {\n                    selection.forEach(position => {\n                        const cell = document.getElementById(`tile-${position}`);\n                        cell.classList.remove('found-temp');\n                    });\n                    resolve(totalDuration);\n                }, totalDuration);\n            })();\n        });\n    }\n\n    static async animateUnusedCells(positions) {\n        positions.forEach(position => {\n            const cell = document.getElementById(`tile-${position}`);\n            requestAnimationFrame(() => cell.classList.add('unused'));\n        });\n    }\n\n    static confetti = {\n        instance: null,\n        async initialize() {\n            const canvas = document.getElementById('confetti-canvas');\n            if (!canvas) {\n                console.warn(' No se encontr el canvas');\n                return;\n            }\n\n            try {\n                this.instance = confetti.create(canvas, { resize: true });\n            } catch (error) {\n                console.error(' Error creando instancia:', error);\n            }\n        },\n        async fire(options) {\n            if (!this.instance) await this.initialize();\n            if (this.instance) {\n                this.instance(options);\n            }\n        },\n        getColors() {\n            const colorsVar = getComputedStyle(document.documentElement)\n                .getPropertyValue('--confetti-colors').trim();\n            return colorsVar ? colorsVar.split(',').map(c => c.trim())\n                : ['#ffd700', '#ff3939', '#00ff7f', '#4169e1', '#ff69b4'];\n        },\n        stop() {\n            if (this.instance) {\n                this.instance.reset();\n                this.instance = null;\n            }\n        },\n        start() {\n            return new Promise((resolve) => {\n                const executeSequence = async () => {\n                    if (!this.instance) {\n                        await this.initialize();\n                    }\n                    const colors = this.getColors();\n                    await this.executeFirstWave(colors);\n                    await new Promise(r => setTimeout(r, 250));\n                    await this.executeSecondWave(colors);\n                    resolve();\n                };\n\n                executeSequence();\n            });\n        },\n\n        async executeConfettiSequence(resolve) {\n            const colors = this.getColors();\n\n            // Primera oleada: explosiones laterales simultneas\n            await this.executeFirstWave(colors);\n            await new Promise(r => setTimeout(r, 250));\n            await this.executeSecondWave(colors);\n            resolve();\n        },\n\n        async executeFirstWave(colors) {\n            this.fire({\n                particleCount: 100,\n                spread: 70,\n                origin: { x: 0.1, y: 0.35 },\n                colors\n            });\n            this.fire({\n                particleCount: 100,\n                spread: 70,\n                origin: { x: 0.9, y: 0.35 },\n                colors\n            });\n\n            // Vibracin media para explosiones laterales\n            if (Storage.isVibrationEnabled) {\n                await NativeServices.vibrate('MEDIUM');\n            }\n        },\n\n        async executeSecondWave(colors) {\n            this.fire({\n                particleCount: 150,\n                spread: 100,\n                origin: { x: 0.5, y: 0.3 },\n                gravity: 1.2,\n                scalar: 1.2,\n                drift: 0,\n                ticks: 300,\n                colors\n            });\n\n            // Vibracin fuerte para explosin central\n            if (Storage.isVibrationEnabled) {\n                await NativeServices.vibrate('HEAVY');\n            }\n        },\n\n        // Mtodo de prueba para depuracin\n        test(x = 0.5, y = 0.35) {\n            this.fire({\n                particleCount: 50,\n                spread: 70,\n                origin: { x, y },\n                colors: this.getColors()\n            });\n        }\n    };\n\n    static async animateVictory(callback) {\n        const victoryModal = document.getElementById('victory-modal');\n\n        // Primero activar el modal\n        victoryModal.classList.add('active');\n\n        // Esperar un frame para asegurar que el canvas est listo\n        await new Promise(resolve => requestAnimationFrame(resolve));\n\n        // Ahora iniciar la animacin\n        await this.confetti.start();\n\n        // Finalmente ejecutar el callback si existe\n        callback?.();\n    }\n\n    static resetSelectionWithDelay(selectionManager) {\n        setTimeout(() => selectionManager.reset(), this.DURATIONS.SELECTION_RESET);\n    }\n\n    static updateCellStates(cells, { add = [], remove = [] }) {\n        cells.forEach(cell => {\n            if (add.length) requestAnimationFrame(() => cell.classList.add(...add));\n            if (remove.length) cell.classList.remove(...remove);\n        });\n    }\n\n    static stopConfetti() {\n        this.confetti.stop();\n    }\n\n    static cleanupAnimations() {\n        const animatedLetters = document.querySelectorAll('.animated-letter');\n        if (animatedLetters.length > 0) {\n            animatedLetters.forEach(el => el.remove());\n        }\n    }\n\n    static bindDebugEvents() {\n        document.addEventListener('keydown', e => {\n            // Tecla T para test\n            if (e.key.toLowerCase() === 't') {\n                this.confetti.test();\n            }\n            // Teclas 1-9 para probar diferentes posiciones horizontales\n            if (!isNaN(parseInt(e.key)) && e.key !== '0') {\n                const x = parseInt(e.key) / 10;\n                this.confetti.test(x);\n            }\n        });\n    }\n}\n\n// Inicializar eventos de depuracin\n\nAnimationManager.bindDebugEvents();\n\nexport { AnimationManager as A };\n","// filepath: ./www/js/styles.js\nconst css = `/* stylelint-disable no-unknown-custom-properties */\n/* Transicin suave entre temas */\n.theme-transitioning {\n    opacity: 0.3;\n    pointer-events: none;\n    transition: opacity 0.05s ease-out;\n}\n*,\n*::before,\n*::after {\n    box-sizing: border-box;\n}\n* {\n    margin: 0;\n}\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n    display: block;\n    max-width: 100%;\n}\ninput,\nbutton,\ntextarea,\nselect {\n    font: inherit;\n}\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    overflow-wrap: break-word;\n}\np {\n    text-wrap: pretty;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    text-wrap: balance;\n}\n/* stylelint-disable-next-line selector-id-pattern */\n#__next,\n#root {\n    isolation: isolate;\n}\n:root {\n    /* Dimensiones base */\n    --game-width: min(95vw, 600px);\n    --game-height: 100dvh;\n    /* Espaciado y gaps */\n    --cell-gap: clamp(2px, 0.5dvh, 4px);\n    --board-outer-gap: max(var(--cell-gap), 4px);\n    /* Alturas de secciones */\n    --header-height: clamp(40px, 5dvh, 50px);\n    --title-height: clamp(40px, 8dvh, 60px);\n    /* Aumentado desde 30px/5dvh/40px */\n    --words-height: clamp(80px, 20dvh, 160px);\n    /* Eliminar el padding base del tablero */\n    --board-side-margin: clamp(8px, 2vw, 16px);\n    --board-width: min(calc(var(--game-width) - (var(--board-side-margin) * 2)),\n            calc((100dvh - var(--header-height) - var(--title-height) - var(--words-height) - (var(--game-dynamic-gap) * 4))));\n    --board-height: var(--board-width);\n    --cell-size: calc((var(--board-width) - (var(--cell-gap) * 3)) / 4);\n    /* Simplificar el clculo */\n    --mark-size: calc(var(--cell-size) * 0.6);\n    --line-width: clamp(4px, 1dvh, 10px);\n    /* Elementos de palabras */\n    --word-height: clamp(32px, calc(var(--board-width) * 0.12), 50px);\n    --word-padding-block: clamp(4px, calc(var(--word-height) * 0.1), 6px);\n    --word-padding-inline: clamp(12px, calc(var(--word-height) * 0.3), 24px);\n    --word-content-width: auto;\n    --word-font-size: clamp(16px, calc(var(--word-height) * 0.45), 24px);\n    --word-list-gap: clamp(8px, calc(var(--board-width) * 0.02), 16px);\n    /* Fuentes */\n    --font-size-ui: 1.1rem;\n    --font-size-text: clamp(12px, 3.5cqw, 16px);\n    --font-size-modal-h2: 1.2rem;\n    /* Layout y contenedores */\n    --modal-width: min(90%, var(--game-width));\n    --modal-border-radius: min(16px, 3vw);\n    --safe-area-bottom: env(safe-area-inset-bottom, 0);\n    /* Efectos y animaciones */\n    --modal-backdrop: rgb(0 0 0 / 70%);\n    --blur-overlay: blur(4px);\n    --animation-duration-found: 500ms;\n    --animation-duration-particle: 350ms;\n    --animation-timing: cubic-bezier(0.2, 0, 0.2, 1);\n    --transition-base: all 0.3s var(--animation-timing);\n    /* Efectos visuales */\n    --effect-ambient: linear-gradient(var(--effect-color-1, transparent),\n            var(--effect-color-2, transparent));\n    --effect-glow: 0 0 var(--glow-radius, 20px) var(--glow-color, transparent);\n    --effect-blur: var(--blur-amount, 0);\n    --effect-overlay: var(--overlay-color, transparent);\n    /* Efectos base */\n    --shadow-opacity: 0.3;\n    --shadow-sm: 0 4px 6px rgb(0 0 0 / var(--shadow-opacity));\n    --shadow-md: 0 8px 12px rgb(0 0 0 / var(--shadow-opacity));\n    --shadow-lg: 0 12px 24px rgb(0 0 0 / var(--shadow-opacity));\n    /* Dimensiones del ttulo */\n    --title-padding-inline: clamp(12px, 3vw, 20px);\n    --title-min-font: clamp(1.8rem, 5vw, 2.5rem);\n    /* Aumentado el mnimo */\n    --font-size-title: clamp(var(--title-min-font), 10vw, 3.5rem);\n    /* Aumentado el mximo */\n    /* Modificar las variables de espaciado */\n    --game-min-gap: clamp(4px, 1dvh, 8px);\n    --game-dynamic-gap: clamp(var(--game-min-gap), 3dvh, 24px);\n    /* Nueva variable para el margen lateral */\n    --platform-scale: 1;\n}\n/* Ajustes especficos para Android */\n[data-platform=\"android\"] {\n    --platform-scale: 1.2;\n    /* 20% ms grande en Android */\n    --title-min-font: clamp(2rem, 6vw, 2.8rem);\n    /* Mnimos ms grandes para Android */\n}\nhtml {\n    background: #121212;\n    height: -webkit-fill-available;\n}\n/* Modificar la transicin del body */\nbody {\n    line-height: 1.5;\n    -webkit-font-smoothing: antialiased;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    height: var(--game-height);\n    background: var(--color-bg);\n    color: var(--color-text);\n    font-family: var(--font-cell-family);\n    align-items: center;\n    min-height: 100dvh;\n    max-height: 100dvh;\n    padding-bottom: var(--safe-area-bottom);\n    opacity: 1;\n    transition: opacity 0.2s ease-out, background-color 0.2s ease-out;\n}\nbody.js-loading {\n    opacity: 1;\n    background: #121212;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}\n/* Modificar la transicin del overlay de carga */\n.js-loading-overlay {\n    position: fixed;\n    inset: 0;\n    background: #121212;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 9999;\n    transition: opacity 0.3s ease-out, visibility 0.3s ease-out;\n}\n.js-loading-overlay.hidden {\n    opacity: 0;\n    visibility: hidden;\n    pointer-events: none;\n}\n.loader {\n    width: 48px;\n    height: 48px;\n    border: 5px solid #fff;\n    border-bottom-color: #5e5e5e;\n    border-radius: 50%;\n    animation: rotation 1s linear infinite;\n}\n@keyframes rotation {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\n.toolbar {\n    width: 100%;\n    height: var(--header-height);\n    max-width: var(--game-width);\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n    color: var(--color-ui);\n    font-family: var(--font-toolbar-family);\n    font-size: var(--font-size-ui);\n}\n.level-number {\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    font-size: var(--font-size-ui);\n}\n.menu {\n    all: unset;\n    width: calc(var(--font-size-ui) * 1.3);\n    height: calc(var(--font-size-ui) * 1.3);\n    position: relative;\n    cursor: pointer;\n}\nsvg {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    pointer-events: none;\n}\n.menu svg {\n    width: 100%;\n    height: 100%;\n}\n.menu svg path {\n    transition: transform 0.2s ease;\n    stroke: var(--color-ui);\n}\n.menu::before,\n.menu::after,\n.menu-middle,\n.menu div {\n    display: none;\n}\n.title-container {\n    width: 100%;\n    height: var(--title-height);\n    margin: 0;\n    padding: 0 var(--title-padding-inline);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 0 0 auto;\n    margin-top: auto;\n    min-height: var(--title-height);\n}\n.title {\n    width: 100%;\n    margin: 0;\n    font-size: min(24px, calc(var(--font-size-title) * var(--platform-scale)));\n    transform-origin: center;\n    line-height: 1.2;\n    color: var(--color-title);\n    font-family: var(--font-title-family);\n    text-align: center;\n    white-space: nowrap;\n    overflow: visible;\n    outline: 0;\n    display: block;\n    min-height: 1.2em;\n}\n.no-select {\n    user-select: none;\n}\n.board {\n    position: relative;\n    width: var(--board-width);\n    height: var(--board-width);\n    min-height: var(--board-width);\n    max-height: var(--board-width);\n    max-width: var(--board-width);\n    display: grid;\n    grid-template-columns: repeat(4, var(--cell-size));\n    grid-template-rows: repeat(4, var(--cell-size));\n    gap: var(--cell-gap);\n    padding: 0;\n    flex: 0 0 auto;\n    background: transparent;\n    touch-action: none;\n    user-select: none;\n    box-sizing: border-box;\n    margin: auto 0;\n    place-content: center;\n}\n.board svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n.board svg:not(:first-child) {\n    display: none;\n}\n.cell {\n    position: relative;\n    background: var(--color-cell);\n    border-radius: var(--cell-radius);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: var(--border-light);\n    box-shadow: var(--shadow-sm), var(--shadow-md);\n    transition: var(--transition-base);\n    backface-visibility: hidden;\n    transform-origin: center;\n    width: var(--cell-size);\n    height: var(--cell-size);\n    aspect-ratio: 1;\n    font-weight: var(--font-cell-weight);\n}\n.cell::before,\n.cell::after {\n    content: '';\n    position: absolute;\n    inset: 0;\n    pointer-events: none;\n}\n.cell::before {\n    background: var(--effect-ambient);\n    mix-blend-mode: var(--blend-before, overlay);\n    z-index: 1;\n}\n.cell::after {\n    background: var(--effect-overlay);\n    mix-blend-mode: var(--blend-after, multiply);\n    z-index: 2;\n}\n.hitbox {\n    position: absolute;\n    inset: 0;\n    margin: auto;\n    width: 70%;\n    height: 70%;\n    border-radius: 15px;\n    background: transparent;\n    border: none;\n    cursor: pointer;\n    z-index: 4;\n}\n.mark {\n    position: absolute;\n    width: var(--mark-size);\n    height: var(--mark-size);\n    top: calc(50% - var(--mark-size) / 2);\n    border-radius: calc(var(--cell-radius) * 1.5);\n    z-index: 2;\n    pointer-events: none;\n    transition: var(--transition-base);\n    backface-visibility: hidden;\n    will-change: transform, background-color;\n}\n.mark.selected {\n    background: var(--color-selected);\n}\n.hitbox:hover+.mark:not(.selected) {\n    background: var(--color-hover);\n}\n.text {\n    font-size: calc(var(--cell-size) * 0.6);\n    color: var(--color-letters);\n    z-index: 3;\n    pointer-events: none;\n    transition: var(--transition-base);\n    backface-visibility: hidden;\n    will-change: transform, color;\n}\n.cell.found-temp {\n    background: var(--found-bg);\n    box-shadow: var(--found-shadow);\n    animation: cell-found var(--animation-duration-found) var(--animation-timing) forwards;\n    animation-duration: var(--animation-duration-found);\n    animation-timing-function: var(--animation-timing);\n    transition: all calc(var(--animation-duration-found) * 0.5) var(--animation-timing);\n    will-change: transform;\n    transform: translate(0) scale(var(--found-scale));\n}\n.cell.found-temp .text {\n    color: white;\n    transform: scale(1.1);\n}\n.cell.unused {\n    transform: scale(var(--unused-scale));\n    opacity: var(--unused-opacity);\n}\n.board svg line {\n    stroke: var(--color-line);\n    stroke-width: var(--line-width);\n    stroke-linecap: var(--line-cap, round);\n    stroke-dasharray: var(--line-dash, none);\n    animation: var(--line-animation, none);\n    z-index: inherit;\n}\n.modal-overlay {\n    position: fixed;\n    inset: 0;\n    background: var(--modal-backdrop);\n    backdrop-filter: var(--blur-overlay);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 999;\n    height: 100dvh;\n    opacity: 0;\n    visibility: hidden;\n    transition:\n        opacity 0.3s ease-out,\n        visibility 0.3s ease-out;\n}\n.modal-overlay.active {\n    opacity: 1;\n    visibility: visible;\n}\n.modal-content {\n    background: var(--color-modal);\n    border-radius: var(--modal-border-radius);\n    color: var(--color-menu);\n    padding: min(24px, 4vw);\n    width: var(--modal-width);\n    min-height: var(--modal-min-height);\n    max-height: var(--modal-max-height);\n    border: var(--border-light);\n    box-shadow: var(--shadow-lg);\n    z-index: 1;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    transform: scale(0.95);\n    opacity: 0;\n    transition:\n        transform 0.3s var(--animation-timing),\n        opacity 0.3s var(--animation-timing);\n}\n.modal-overlay.active .modal-content {\n    transform: scale(1);\n    opacity: 1;\n    animation: modal-open 0.3s ease-out;\n}\n.modal-content h2 {\n    font-size: var(--font-size-modal-h2);\n    margin-bottom: 16px;\n    text-align: center;\n}\n.menu-options {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap: min(16px, 3vh);\n    margin: auto 0;\n    padding: min(16px, 3vh) 0;\n}\n.menu-options button {\n    all: unset;\n    background: var(--color-button);\n    padding: 8px;\n    border-radius: 8px;\n    text-align: center;\n    cursor: pointer;\n    transition: background-color 0.2s ease;\n    font-size: var(--font-size-ui);\n}\n.menu-options button:hover {\n    background: var(--color-hover);\n}\n.modal-header {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    margin-bottom: 16px;\n}\n.back-button {\n    all: unset;\n    width: 24px;\n    height: 24px;\n    position: relative;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n}\n.arrow-left {\n    width: 8px;\n    height: 8px;\n    border-left: 2px solid var(--color-ui);\n    border-bottom: 2px solid var(--color-ui);\n    transform: rotate(45deg);\n}\n.theme-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n    gap: 12px;\n    padding: 12px;\n    max-height: 60vh;\n    overflow: hidden auto;\n    /* Volver a la alineacin original */\n    align-items: start;\n    justify-content: space-between;\n}\n.theme-option {\n    border: none;\n    cursor: pointer;\n    background: transparent;\n    transition: transform 0.2s ease;\n    /* Asegurar altura fija */\n    height: 110px;\n    width: 100%;\n    padding: 0;\n    /* Mantener el display flex pero centrar contenido */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.theme-category {\n    grid-column: 1 / -1;\n    color: var(--color-text);\n    font-size: 1.1em;\n    font-weight: 600;\n    opacity: 0.9;\n    margin-top: 16px;\n    margin-bottom: 8px;\n    padding-bottom: 4px;\n    border-bottom: 1px solid var(--color-ui);\n}\n.theme-category:first-child {\n    margin-top: 0;\n}\n.preview-wrapper {\n    --theme-title-single-line: 1.25rem;\n    --theme-title-multi-line: 1rem;\n    --theme-title-spacing: 8px;\n    --theme-title-pixel-single: 1rem;\n    --theme-title-pixel-multi: 0.875rem;\n    container-type: inline-size;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-rows: 1fr auto;\n    gap: 8px;\n    padding: 8px;\n    background: var(--color-bg);\n    border-radius: 8px;\n    place-items: center;\n    place-content: center;\n    align-items: stretch;\n}\n.preview-cell {\n    /* Tamao fijo para todas las celdas */\n    width: 48px;\n    height: 48px;\n    aspect-ratio: 1;\n    background: var(--color-cell);\n    border: var(--border-light);\n    border-radius: var(--cell-radius);\n    box-shadow: var(--shadow-sm);\n    position: relative;\n    /* Mejorar centrado */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    /* Eliminar margin:auto redundante */\n    place-self: center;\n}\n.preview-mark {\n    position: absolute;\n    inset: 15%;\n    border-radius: inherit;\n    background: var(--color-selected);\n    opacity: 0.8;\n}\n.preview-title {\n    width: 100%;\n    margin: 0;\n    padding: 4px 8px;\n    color: var(--color-title);\n    font-family: var(--font-title-family);\n    font-weight: 500;\n    text-align: center;\n    font-size: 0.9rem;\n    line-height: 1.2;\n    /* Nueva configuracin fija para dos lneas */\n    height: 2.4em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    /* Ajuste de texto automtico */\n    word-break: normal;\n    overflow: hidden;\n    white-space: normal;\n}\n/* Nueva clase para trminos que no deben dividirse */\n.preview-title.no-break {\n    white-space: nowrap !important;\n    word-break: keep-all !important;\n}\n.preview-text {\n    color: var(--color-letters);\n    font-family: var(--font-title-family);\n    z-index: 1;\n}\n.word-list {\n    flex: 0 0 var(--words-height);\n    margin-top: auto;\n    display: flex;\n    flex-wrap: wrap;\n    place-content: flex-start center;\n    gap: var(--word-list-gap);\n    margin-bottom: auto;\n}\n.word {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    height: var(--word-height);\n    min-height: var(--word-height);\n    max-height: var(--word-height);\n    border-radius: var(--cell-radius);\n    background: var(--color-cell);\n    border: var(--border-light);\n    box-shadow: var(--shadow-sm);\n    transition: all 0.3s ease;\n    width: calc(var(--word-content-width) + (var(--word-padding-inline) * 2));\n    font-size: var(--word-font-size);\n}\n.word:not(.found) {\n    opacity: 1;\n    color: var(--color-letters);\n}\n.word.found {\n    background: var(--color-selected);\n    transform: translate(0);\n    font-family: inherit;\n    color: var(--color-words);\n}\n.word span.fading-out {\n    opacity: 0;\n    position: absolute;\n}\n.word span.fading-in {\n    opacity: 0;\n}\n.victory-time {\n    text-align: center;\n    font-size: var(--font-size-ui);\n    margin-bottom: 20px;\n    color: var(--color-text);\n}\n@media (prefers-reduced-motion: reduce) {\n    :root {\n        --animation-duration-found: 300ms;\n        --animation-duration-particle: 200ms;\n        --found-scale: 1.05;\n        --unused-scale: 0.95;\n    }\n}\n#confetti-canvas {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100dvh;\n    pointer-events: none;\n    z-index: 9999;\n}\n#victory-modal {\n    position: fixed;\n    z-index: 999;\n}\n#victory-modal #confetti-canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    z-index: 1;\n}\n#victory-modal .modal-content {\n    position: relative;\n    z-index: 2;\n}\n@keyframes cell-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1) blur(0);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: brightness(var(--found-brightness, 1.5)) blur(var(--found-blur, 2px));\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1) blur(0);\n    }\n}\n[data-theme] .found-temp {\n    animation-duration: var(--animation-duration-found) !important;\n    animation-timing-function: var(--animation-timing) !important;\n}\n.game-container {\n    width: var(--game-width);\n    height: calc(100dvh - var(--header-height) - var(--safe-area-bottom));\n    min-height: calc(var(--title-height) + var(--board-height) + var(--words-height) + (var(--game-min-gap) * 3));\n    max-height: 100dvh;\n    padding: var(--game-min-gap);\n    padding-bottom: env(safe-area-inset-bottom);\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    gap: var(--game-dynamic-gap);\n    align-items: center;\n    container-type: inline-size;\n}\n.animated-letter {\n    will-change: transform, opacity;\n}\n.animated-letter.animating {\n    animation: letter-motion-blur 300ms forwards;\n    transition: all 300ms var(--animation-timing);\n}\n[data-theme] .animated-letter.animating {\n    animation-duration: calc(var(--animation-duration-found) * 0.8);\n    animation-timing-function: var (--animation-timing);\n}\n@keyframes letter-motion-blur {\n    0% {\n        filter: blur(0);\n    }\n    50% {\n        filter: blur(2px);\n    }\n    100% {\n        filter: blur(0);\n    }\n}\n@keyframes modal-open {\n    0% {\n        opacity: 0;\n        transform: scale(0.95);\n    }\n    100% {\n        opacity: 1;\n        transform: scale(1);\n    }\n}\n.toggle-button {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    transition: all 0.2s ease;\n    padding: 8px 16px;\n    border-radius: 8px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    background: var(--color-button);\n}\n.toggle-button.active {\n    background: var(--color-selected);\n    opacity: 1;\n}\n.toggle-button:not(.active) {\n    opacity: 0.7;\n}\n.toggle-button:active {\n    transform: scale(0.95);\n}\n.toggle-button .icon {\n    font-size: 1.2em;\n    transition: transform 0.2s ease;\n}\n.toggle-button:hover {\n    opacity: 0.9;\n}\n.toggle-button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n.toggle-button:disabled:hover {\n    opacity: 0.5;\n    transform: none;\n}\n\n/* Theme: 8-Bit */\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=DotGothic16&display=swap');\n:root[data-theme='8bitadventure'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Press Start 2P', cursive;\n    --font-title-family: 'Press Start 2P', cursive;\n    --font-cell-family: 'DotGothic16', sans-serif;\n    /* Colores */\n    --color-bg: #581845;\n    --color-cell: #900c3f;\n    --color-modal: rgb(88 24 69 / 95%);\n    --color-button: #ff5733;\n    --color-letters: #fc0;\n    --color-title: #fc0;\n    --color-selected: #ff5733;\n    --color-hover: #c70039;\n    --color-line: #fc0;\n    --color-ui: #fc0;\n    --color-words: #fc0;\n    --color-menu: #fc0;\n    /* Efectos */\n    --shadow-opacity: 0.6;\n    --border-light: 2px solid #ff5733;\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 87 51 / 20%);\n    --effect-color-2: rgb(255 204 0 / 10%);\n    --glow-radius: 12px;\n    --glow-color: rgb(199 0 57 / 40%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff5733, #fc0);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 25px rgb(255 87 51 / 50%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.15;\n    --confetti-colors: #fc0, #ff5733, #c70039, #900c3f;\n}\n:root[data-theme='8bitadventure'] .board {\n    background: repeating-linear-gradient(\n        45deg,\n        #581845,\n        #581845 10px,\n        #4a1339 10px,\n        #4a1339 20px\n    );\n    border: 4px solid #ff5733;\n    image-rendering: pixelated;\n}\n:root[data-theme='8bitadventure'] .cell {\n    background: #900c3f;\n    border: 2px solid #ff5733;\n    box-shadow:\n        inset 2px 2px 0 rgb(255 255 255 / 20%),\n        inset -2px -2px 0 rgb(0 0 0 / 20%);\n    image-rendering: pixelated;\n    align-items: baseline;\n}\n:root[data-theme='8bitadventure'] .title {\n    text-shadow:\n        2px 2px 0 #ff5733,\n        4px 4px 0 #c70039;\n    letter-spacing: 2px;\n    image-rendering: pixelated;\n}\n:root[data-theme='8bitadventure'] .found-temp {\n    animation: bit8-found 0.6s steps(6);\n}\n@keyframes bit8-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: brightness(1.5);\n        background: var(--found-bg);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='8bitadventure'] .mark.selected {\n    animation: bit8-selected 0.8s steps(4) infinite;\n}\n@keyframes bit8-selected {\n    0% {\n        background: #ff5733;\n    }\n    33% {\n        background: #c70039;\n    }\n    66% {\n        background: #900c3f;\n    }\n    100% {\n        background: #ff5733;\n    }\n}\n\n/* Theme: Arcade */\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Pixelify+Sans&display=swap');\n:root[data-theme='arcade'] {\n    /* Fuentes */\n    --font-toolbar-family: 'VT323', monospace;\n    --font-title-family: 'Press Start 2P', cursive;\n    --font-cell-family: 'Pixelify Sans', sans-serif;\n    /* Colores */\n    --color-bg: #1a1a2e;\n    --color-cell: #2a2a3e;\n    --color-modal: rgb(26 26 46 / 95%);\n    --color-button: #2a2a3e;\n    --color-letters: #ffd700;\n    --color-title: #ffd700;\n    --color-selected: #8a2be2;\n    --color-hover: rgb(138 43 226 / 80%);\n    --color-line: #00bfff;\n    --color-ui: #ff69b4;\n    --color-words: #fff;\n    --color-menu: #ffd700;\n    /* Efectos */\n    --shadow-opacity: 0.5;\n    --border-light: 2px solid #ffd700;\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 105 180 / 10%);\n    --effect-color-2: rgb(0 191 255 / 10%);\n    --glow-radius: 12px;\n    --glow-color: rgb(255 215 0 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff6347, #8a2be2);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 20px rgb(255 105 180 / 50%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.3;\n    --confetti-colors: #ffd700, #ff6347, #8a2be2, #ff69b4;\n}\n:root[data-theme='arcade'] .board {\n    background: repeating-linear-gradient(\n        45deg,\n        #1a1a2e,\n        #1a1a2e 10px,\n        #2a2a3e 10px,\n        #2a2a3e 20px\n    );\n}\n:root[data-theme='arcade'] .cell {\n    border: 2px solid #ffd700;\n    image-rendering: pixelated;\n    box-shadow:\n        inset 0 0 0 2px rgb(255 215 0 / 20%),\n        0 0 10px rgb(255 215 0 / 30%);\n}\n:root[data-theme='arcade'] .title {\n    text-shadow:\n        2px 2px 0 #ff6347,\n        4px 4px 0 #8a2be2;\n    letter-spacing: 1px;\n    line-height: 1.5;\n}\n:root[data-theme='arcade'] .toolbar {\n    filter: drop-shadow(2px 2px 0 #8a2be2);\n}\n@keyframes arcade-found {\n    0% {\n        transform: scale(1) rotate(0deg);\n    }\n    25% {\n        transform: scale(1.15) rotate(-5deg);\n    }\n    75% {\n        transform: scale(1.15) rotate(5deg);\n    }\n    100% {\n        transform: scale(1) rotate(0deg);\n    }\n}\n:root[data-theme='arcade'] .found-temp {\n    animation-name: arcade-found !important;\n}\n:root[data-theme='arcade'] .mark.selected {\n    border: 2px solid #ffd700;\n    animation: arcade-blink 1s steps(2) infinite;\n}\n@keyframes arcade-blink {\n    0%,\n    100% {\n        opacity: 1;\n        border-color: #ffd700;\n    }\n    50% {\n        opacity: 0.7;\n        border-color: #ff69b4;\n    }\n}\n\n/* Theme: Battle */\n@import url('https://fonts.googleapis.com/css2?family=Staatliches&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Quantico:wght@700&display=swap');\n:root[data-theme='battleready'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Black Ops One', cursive;\n    --font-title-family: 'Staatliches', cursive;\n    --font-cell-family: 'Quantico', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #2f2f2f, #8b4513);\n    --color-cell: #2a2a2a;\n    --color-modal: rgb(42 42 42 / 95%);\n    --color-button: linear-gradient(145deg, #dc143c, #228b22);\n    --color-letters: #ffd700;\n    --color-title: #ffd700;\n    --color-selected: #dc143c;\n    --color-hover: rgb(220 20 60 / 80%);\n    --color-line: #1e90ff;\n    --color-ui: #ffd700;\n    --color-words: #fff;\n    --color-menu: #ffd700;\n    /* Efectos */\n    --cell-radius: 4px;\n    --shadow-opacity: 0.5;\n    --border-light: 2px solid rgb(255 215 0 / 20%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(139 69 19 / 20%);\n    --effect-color-2: rgb(34 139 34 / 20%);\n    --glow-radius: 15px;\n    --glow-color: rgb(220 20 60 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #dc143c, #ffd700);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 25px rgb(30 144 255 / 50%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.25;\n    --confetti-colors: #dc143c, #ffd700, #228b22, #1e90ff;\n}\n:root[data-theme='battleready'] .cell {\n    border: 2px solid rgb(255 215 0 / 20%);\n    box-shadow:\n        inset 0 0 10px rgb(220 20 60 / 20%),\n        0 0 15px rgb(30 144 255 / 20%);\n    background: linear-gradient(\n        135deg,\n        rgb(42 42 42 / 95%),\n        rgb(42 42 42 / 85%)\n    );\n}\n:root[data-theme='battleready'] .title {\n    text-shadow:\n        2px 2px 0 #dc143c,\n        -2px -2px 0 #228b22;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n}\n@keyframes battle-found {\n    0% {\n        transform: scale(1);\n    }\n    25% {\n        transform: scale(1.15) rotate(-2deg);\n    }\n    75% {\n        transform: scale(1.15) rotate(2deg);\n    }\n    100% {\n        transform: scale(1);\n    }\n}\n:root[data-theme='battleready'] .found-temp {\n    animation: battle-found 0.5s cubic-bezier(0.2, 0, 0.2, 1);\n}\n:root[data-theme='battleready'] .mark.selected {\n    background: #dc143c;\n    animation: battle-pulse 1.5s infinite;\n}\n@keyframes battle-pulse {\n    0%,\n    100% {\n        box-shadow:\n            0 0 15px #dc143c,\n            0 0 30px #ffd700;\n    }\n    50% {\n        box-shadow:\n            0 0 20px #228b22,\n            0 0 40px #1e90ff;\n    }\n}\n\n/* Theme: Classic */\n@import url('https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500;700&display=swap');\n:root[data-theme='classicconsole'] {\n    /* Fuentes */\n    --font-toolbar-family: 'IBM Plex Mono', monospace;\n    --font-title-family: 'IBM Plex Mono', monospace;\n    --font-cell-family: 'Inconsolata', monospace;\n    /* Colores */\n    --color-bg: #2c3e50;\n    --color-cell: rgb(74 144 226 / 15%);\n    --color-modal: rgb(44 62 80 / 95%);\n    --color-button: #4a90e2;\n    --color-letters: #50e3c2;\n    --color-title: #50e3c2;\n    --color-selected: #f5a623;\n    --color-hover: #7fc43b;\n    --color-line: #d0021b;\n    --color-ui: #7fc43b;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --shadow-opacity: 0.5;\n    --border-light: 1px solid rgb(74 144 226 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(74 144 226 / 10%);\n    --effect-color-2: rgb(80 227 194 / 10%);\n    --glow-radius: 15px;\n    --glow-color: rgb(245 166 35 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #4a90e2, #50e3c2);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 30px rgb(208 2 27 / 50%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.2;\n    --confetti-colors: #4a90e2, #50e3c2, #f5a623, #b8e986;\n}\n:root[data-theme='classicconsole'] .board {\n    border: 2px solid #4a90e2;\n}\n:root[data-theme='classicconsole'] .cell {\n    border: var(--border-light);\n    background: linear-gradient(135deg,\n            rgb(52 73 94 / 100%) 0%,\n            rgb(52 73 94 / 90%) 100%);\n    box-shadow:\n        inset 0 0 0 1px rgb(74 144 226 / 10%),\n        0 0 10px rgb(80 227 194 / 20%);\n}\n:root[data-theme='classicconsole'] .title {\n    text-shadow: 2px 2px 4px rgb(74 144 226 / 40%);\n    letter-spacing: 0.1em;\n}\n@keyframes console-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: brightness(1.3) hue-rotate(45deg);\n        box-shadow:\n            0 0 20px rgb(245 166 35 / 60%),\n            0 0 40px rgb(184 233 134 / 40%);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='classicconsole'] .found-temp {\n    animation: console-found 0.7s cubic-bezier(0.4, 0, 0.2, 1);\n}\n:root[data-theme='classicconsole'] .mark.selected {\n    animation: console-selected 2s infinite;\n}\n@keyframes console-selected {\n    0% {\n        background: #4a90e2;\n    }\n    33% {\n        background: #50e3c2;\n    }\n    66% {\n        background: #f5a623;\n    }\n    100% {\n        background: #4a90e2;\n    }\n}\n\n/* Theme: Cyberpunk */\n@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&display=swap');\n:root[data-theme='cyberpunk'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Share Tech Mono', monospace;\n    --font-title-family: 'Orbitron', sans-serif;\n    --font-cell-family: 'Rajdhani', sans-serif;\n    /* Colores */\n    --color-bg: #1e1e1e;\n    --color-cell: #2a2a2a;\n    --color-modal: linear-gradient(\n        180deg,\n        rgb(30 30 30 / 95%),\n        rgb(255 69 0 / 10%)\n    );\n    --color-button: linear-gradient(145deg, #2a2a2a, #ff4500);\n    --color-letters: #0f0;\n    --color-title: #0f0;\n    --color-selected: #f0f;\n    --color-hover: rgb(255 0 255 / 80%);\n    --color-line: #0ff;\n    --color-ui: #f0f;\n    --color-words: #0f0;\n    --color-menu: #0ff;\n    /* Efectos */\n    --cell-radius: 2px;\n    --shadow-opacity: 0.6;\n    --border-light: 1px solid #0f0;\n    /* Efectos especiales */\n    --effect-color-1: rgb(0 255 0 / 15%);\n    --effect-color-2: rgb(255 69 0 / 15%);\n    --glow-radius: 20px;\n    --glow-color: rgb(0 255 0 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #f0f, #0ff);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 30px rgb(0 255 255 / 60%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.2;\n    --confetti-colors: #0f0, #f0f, #0ff, #ff4500;\n}\n:root[data-theme='cyberpunk'] .board {\n    background: linear-gradient(rgb(30 30 30 / 80%), rgb(42 42 42 / 80%));\n}\n:root[data-theme='cyberpunk'] .cell {\n    border: 1px solid rgb(0 255 0 / 20%);\n    background: linear-gradient(135deg, #1e1e1e, #2a2a2a);\n    box-shadow:\n        inset 0 0 15px rgb(0 255 0 / 10%),\n        0 0 10px rgb(0 255 255 / 20%),\n        0 0 20px rgb(255 69 0 / 10%);\n}\n:root[data-theme='cyberpunk'] .title {\n    text-shadow:\n        0 0 10px rgb(0 255 0 / 70%),\n        0 0 20px rgb(0 255 0 / 50%);\n    letter-spacing: 2px;\n}\n:root[data-theme='cyberpunk'] .timer {\n    font-family: 'Share Tech Mono', monospace;\n    color: #ff4500;\n    text-shadow: 0 0 10px rgb(255 69 0 / 50%);\n}\n:root[data-theme='cyberpunk'] .level-number {\n    font-family: 'Share Tech Mono', monospace;\n    color: #0ff;\n    text-shadow: 0 0 10px rgb(0 255 255 / 50%);\n}\n@keyframes cyberpunk-found {\n    0% {\n        transform: scale(1) skew(0deg);\n        filter: hue-rotate(0deg);\n    }\n    50% {\n        transform: scale(1.1) skew(-5deg);\n        filter: hue-rotate(90deg);\n        box-shadow:\n            0 0 30px #f0f,\n            0 0 60px #0ff;\n    }\n    100% {\n        transform: scale(1) skew(0deg);\n        filter: hue-rotate(0deg);\n    }\n}\n:root[data-theme='cyberpunk'] .found-temp {\n    animation-name: cyberpunk-found !important;\n}\n:root[data-theme='cyberpunk'] .mark.selected {\n    box-shadow:\n        0 0 20px #f0f,\n        0 0 40px #0ff;\n    animation: cyberpunk-glow 2s infinite;\n}\n@keyframes cyberpunk-glow {\n    0%,\n    100% {\n        opacity: 0.8;\n        transform: scale(1);\n        box-shadow:\n            0 0 20px #f0f,\n            0 0 40px #0ff;\n    }\n    50% {\n        opacity: 1;\n        transform: scale(1.1);\n        box-shadow:\n            0 0 30px #0f0,\n            0 0 50px #ff4500;\n    }\n}\n\n/* Theme: Dark */\n@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Rubik:wght@500;700&display=swap');\n:root[data-theme='dark'] {\n    --cell-radius: min(8px, 1.5vw);\n    /* Fuentes */\n    --font-toolbar-family: 'JetBrains Mono', monospace;\n    --font-title-family: 'Rubik', sans-serif;\n    --font-cell-family: 'Rubik', sans-serif;\n    --font-cell-weight: 700;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #121212 0%, #1a1a1a 100%);\n    --color-cell: linear-gradient(145deg, #1e1e1e, #2d2d2d);\n    --color-modal: rgb(23 23 23 / 95%);\n    --color-button: linear-gradient(145deg, #2d2d2d, #232323);\n    --color-letters: #fff;\n    --color-title: #3498db;\n    --color-words: #fff;\n    --color-menu: #fff;\n    --color-ui: #3498db;\n    --color-selected: #3498db;\n    --color-hover: rgb(52 152 219 / 80%);\n    --color-line: #2ecc71;\n    /* Efectos */\n    --effect-color-1: rgb(52 152 219 / 5%);\n    --effect-color-2: rgb(46 204 113 / 5%);\n    --blend-before: overlay;\n    --glow-radius: 25px;\n    --glow-color: rgb(52 152 219 / 20%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #3498db, #2ecc71);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 30px rgb(52 152 219 / 60%);\n    --unused-scale: 0.8;\n    --unused-opacity: 0.3;\n    --confetti-colors: #ffd700, #ff3939, #4169e1, #ff69b4;\n}\n/* Efectos especiales para Dark */\n:root[data-theme='dark'] .board {\n    background: linear-gradient(rgb(18 18 18 / 70%), rgb(26 26 26 / 70%));\n}\n:root[data-theme='dark'] .cell {\n    border: 1px solid rgb(255 255 255 / 5%);\n    box-shadow:\n        inset 0 2px 4px rgb(255 255 255 / 5%),\n        0 4px 8px rgb(0 0 0 / 20%);\n}\n:root[data-theme='dark'] .title {\n    color: transparent;\n    background: linear-gradient(to right, #3498db, #2ecc71);\n    background-clip: text;\n}\n:root[data-theme='dark'] .toolbar {\n    filter: drop-shadow(3px 3px 2px rgb(52 152 219 / 40%));\n}\n@keyframes dark-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(1.1);\n        filter: brightness(1.5);\n        box-shadow: 0 0 30px rgb(45 125 210 / 60%);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='dark'] .found-temp {\n    animation-name: dark-found !important;\n}\n\n/* Theme: Dawn */\n@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&display=swap');\n:root[data-theme='digitaldawn'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Orbitron', sans-serif;\n    --font-title-family: 'Rajdhani', sans-serif;\n    --font-cell-family: 'Space Grotesk', sans-serif;\n    /* Colores */\n    --color-bg: #0a0a1a;\n    --color-cell: #1a1a2a;\n    --color-modal: rgb(10 10 26 / 95%);\n    --color-button: #8a2be2;\n    --color-letters: #fff;\n    --color-title: #fff;\n    --color-selected: #ff6347;\n    --color-hover: #ff6347;\n    --color-line: #00bfff;\n    --color-ui: #00bfff;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --cell-radius: 8px;\n    --shadow-opacity: 0.6;\n    --border-light: 1px solid rgb(0 191 255 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 99 71 / 10%);\n    --effect-color-2: rgb(0 191 255 / 10%);\n    --glow-radius: 25px;\n    --glow-color: rgb(138 43 226 / 40%);\n    /* Animaciones */\n    --found-bg: linear-gradient(135deg, #ff6347, #8a2be2);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 40px rgb(0 191 255 / 50%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.15;\n    --confetti-colors: #ff6347, #ffd700, #00bfff, #8a2be2;\n}\n:root[data-theme='digitaldawn'] .board {\n    background: linear-gradient(\n        135deg,\n        rgb(10 10 26 / 95%) 0%,\n        rgb(138 43 226 / 10%) 100%\n    );\n}\n:root[data-theme='digitaldawn'] .cell {\n    background: linear-gradient(\n        145deg,\n        rgb(26 26 42 / 100%) 0%,\n        rgb(26 26 42 / 80%) 100%\n    );\n    box-shadow: 0 0 20px rgb(0 191 255 / 10%);\n}\n:root[data-theme='digitaldawn'] .title {\n    text-shadow:\n        0 0 10px rgb(0 191 255 / 50%),\n        0 0 20px rgb(138 43 226 / 30%);\n}\n:root[data-theme='digitaldawn'] .toolbar {\n    filter: drop-shadow(0 0 10px rgb(0 191 255 / 40%));\n}\n@keyframes dawn-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: brightness(1.5);\n        box-shadow:\n            0 0 30px rgb(255 99 71 / 60%),\n            0 0 50px rgb(0 191 255 / 40%);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='digitaldawn'] .found-temp {\n    animation: dawn-found 0.7s ease-in-out;\n}\n:root[data-theme='digitaldawn'] .mark.selected {\n    animation: dawn-selected 2s infinite;\n}\n@keyframes dawn-selected {\n    0% {\n        background: #ff6347;\n    }\n    33% {\n        background: #ffd700;\n    }\n    66% {\n        background: #00bfff;\n    }\n    100% {\n        background: #ff6347;\n    }\n}\n\n/* Theme: Dreams */\n@import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Syne+Mono&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Righteous&display=swap');\n:root[data-theme='dreams'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Syne Mono', monospace;\n    --font-title-family: 'Chakra Petch', sans-serif;\n    --font-cell-family: 'Righteous', cursive;\n    /* Colores */\n    --color-bg: #2f4f4f;\n    --color-cell: #3a5f5f;\n    --color-modal: rgb(47 79 79 / 95%);\n    --color-button: #3a5f5f;\n    --color-letters: #00ff7f;\n    --color-title: #00ff7f;\n    --color-selected: #ff1493;\n    --color-hover: rgb(255 20 147 / 80%);\n    --color-line: #1e90ff;\n    --color-ui: #ff1493;\n    --color-words: #fff;\n    --color-menu: #00ff7f;\n    /* Efectos */\n    --cell-radius: 4px;\n    --shadow-opacity: 0.5;\n    --border-light: 1px solid rgb(0 255 127 / 20%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 140 0 / 10%);\n    --effect-color-2: rgb(30 144 255 / 10%);\n    --glow-radius: 20px;\n    --glow-color: rgb(0 255 127 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff1493, #1e90ff);\n    --found-scale: 1.12;\n    --found-shadow: 0 0 25px rgb(255 20 147 / 50%);\n    --unused-scale: 0.88;\n    --unused-opacity: 0.25;\n    --confetti-colors: #ff1493, #00ff7f, #1e90ff, #ff8c00;\n}\n:root[data-theme='dreams'] .board {\n    background: linear-gradient(rgb(47 79 79 / 80%), rgb(58 95 95 / 80%));\n}\n:root[data-theme='dreams'] .cell {\n    border: 1px solid rgb(0 255 127 / 20%);\n    box-shadow:\n        inset 0 0 18px rgb(0 255 127 / 10%),\n        0 0 12px rgb(30 144 255 / 20%);\n}\n:root[data-theme='dreams'] .title {\n    text-shadow:\n        0 0 12px rgb(0 255 127 / 60%),\n        0 0 24px rgb(30 144 255 / 40%);\n    letter-spacing: 1px;\n}\n:root[data-theme='dreams'] .toolbar {\n    filter: drop-shadow(0 0 12px rgb(30 144 255 / 50%));\n}\n@keyframes dreams-found {\n    0% {\n        transform: scale(1) rotate(0deg);\n        filter: saturate(1);\n    }\n    50% {\n        transform: scale(1.12) rotate(5deg);\n        filter: saturate(1.5);\n        box-shadow:\n            0 0 30px #ff1493,\n            0 0 50px #1e90ff;\n    }\n    100% {\n        transform: scale(1) rotate(0deg);\n        filter: saturate(1);\n    }\n}\n:root[data-theme='dreams'] .found-temp {\n    animation-name: dreams-found !important;\n}\n:root[data-theme='dreams'] .mark.selected {\n    box-shadow:\n        0 0 15px #ff1493,\n        0 0 30px #1e90ff;\n    animation: dreams-pulse 2s ease infinite;\n}\n@keyframes dreams-pulse {\n    0%,\n    100% {\n        opacity: 0.8;\n        transform: scale(1);\n    }\n    50% {\n        opacity: 1;\n        transform: scale(1.08);\n    }\n}\n\n/* Theme: Elemental */\n@import url('https://fonts.googleapis.com/css2?family=Righteous&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Rubik:wght@500&display=swap');\n:root[data-theme='elementalfury'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Righteous', cursive;\n    --font-title-family: 'Permanent Marker', cursive;\n    --font-cell-family: 'Rubik', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #1e90ff, #ff4500);\n    --color-cell: #2f4f4f;\n    --color-modal: rgb(47 79 79 / 95%);\n    --color-button: linear-gradient(145deg, #32cd32, #ff4500);\n    --color-letters: #ffd700;\n    --color-title: #ffd700;\n    --color-selected: #8b008b;\n    --color-hover: rgb(139 0 139 / 80%);\n    --color-line: #32cd32;\n    --color-ui: #32cd32;\n    --color-words: #ffd700;\n    --color-menu: #ffd700;\n    /* Efectos */\n    --cell-radius: 8px;\n    --shadow-opacity: 0.6;\n    --border-light: 2px solid rgb(255 215 0 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(30 144 255 / 20%);\n    --effect-color-2: rgb(255 69 0 / 20%);\n    --glow-radius: 25px;\n    --glow-color: rgb(50 205 50 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff4500, #1e90ff);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 30px rgb(139 0 139 / 60%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.2;\n    --confetti-colors: #ff4500, #1e90ff, #32cd32, #ffd700;\n}\n:root[data-theme='elementalfury'] .cell {\n    border: 2px solid rgb(255 215 0 / 30%);\n    box-shadow:\n        inset 0 0 20px rgb(50 205 50 / 20%),\n        0 0 15px rgb(139 0 139 / 30%);\n}\n:root[data-theme='elementalfury'] .title {\n    background: linear-gradient(to right, #ff4500 25%, #32cd32 75%);\n    background-clip: text;\n    -webkit-text-fill-color: transparent;\n    filter: drop-shadow(0 0 10px rgb(30 144 255));\n}\n:root[data-theme='elementalfury'] .toolbar {\n    filter: drop-shadow(2px 2px 4px rgb(139 0 139 / 40%));\n}\n@keyframes fury-found {\n    0% {\n        transform: scale(1) rotate(0deg);\n    }\n    50% {\n        transform: scale(1.15) rotate(5deg);\n        box-shadow:\n            0 0 30px #ff4500,\n            0 0 60px #1e90ff;\n    }\n    100% {\n        transform: scale(1) rotate(0deg);\n    }\n}\n:root[data-theme='elementalfury'] .found-temp {\n    animation-name: fury-found !important;\n}\n:root[data-theme='elementalfury'] .mark.selected {\n    background: #8b008b;\n    animation: elemental-pulse 2s infinite;\n}\n@keyframes elemental-pulse {\n    0%,\n    100% {\n        box-shadow:\n            0 0 20px #ff4500,\n            0 0 40px #1e90ff;\n    }\n    50% {\n        box-shadow:\n            0 0 30px #32cd32,\n            0 0 50px #ffd700;\n    }\n}\n\n/* Theme: Fantasy */\n@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Alegreya:wght@500;700&display=swap');\n:root[data-theme='fantasy'] {\n    /* Fuentes */\n    --font-toolbar-family: 'MedievalSharp', cursive;\n    --font-title-family: 'Cinzel', serif;\n    --font-cell-family: 'Alegreya', serif;\n    /* Colores */\n    --color-bg: #8b4513;\n    --color-cell: #a0522d;\n    --color-modal: rgb(139 69 19 / 95%);\n    --color-button: #a0522d;\n    --color-letters: #f0e68c;\n    --color-title: #f0e68c;\n    --color-selected: #ff4500;\n    --color-hover: rgb(255 69 0 / 80%);\n    --color-line: #6a5acd;\n    --color-ui: #f0e68c;\n    --color-words: #f0e68c;\n    --color-menu: #ffd700;\n    /* Efectos */\n    --cell-radius: 8px;\n    --shadow-opacity: 0.4;\n    --border-light: 2px solid rgb(240 230 140 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 69 0 / 10%);\n    --effect-color-2: rgb(106 90 205 / 10%);\n    --glow-radius: 18px;\n    --glow-color: rgb(240 230 140 / 25%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ffd700, #ff4500);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 20px rgb(255 215 0 / 40%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.3;\n    --confetti-colors: #ffd700, #ff4500, #6a5acd, #f0e68c;\n}\n:root[data-theme='fantasy'] .board {\n    background: linear-gradient(rgb(139 69 19 / 80%), rgb(160 82 45 / 80%));\n}\n:root[data-theme='fantasy'] .cell {\n    border: 2px solid rgb(240 230 140 / 30%);\n    box-shadow:\n        inset 0 0 15px rgb(240 230 140 / 10%),\n        0 0 10px rgb(106 90 205 / 20%);\n}\n:root[data-theme='fantasy'] .title {\n    text-shadow:\n        2px 2px 4px rgb(139 69 19 / 80%),\n        0 0 15px rgb(240 230 140 / 50%);\n    letter-spacing: 1px;\n}\n:root[data-theme='fantasy'] .toolbar {\n    filter: drop-shadow(2px 2px 4px rgb(139 69 19 / 60%));\n}\n@keyframes fantasy-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(1.1) rotate(3deg);\n        filter: brightness(1.3);\n        box-shadow:\n            0 0 25px #ffd700,\n            0 0 40px #ff4500;\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='fantasy'] .found-temp {\n    animation-name: fantasy-found !important;\n}\n:root[data-theme='fantasy'] .mark.selected {\n    border: 2px solid #ffd700;\n    box-shadow: 0 0 20px rgb(255 215 0 / 50%);\n    animation: fantasy-glow 1.5s ease-in-out infinite;\n}\n@keyframes fantasy-glow {\n    0%,\n    100% {\n        box-shadow: 0 0 15px #ffd700;\n    }\n    50% {\n        box-shadow: 0 0 25px #ff4500;\n    }\n}\n\n/* Theme: Forest */\n@import url('https://fonts.googleapis.com/css2?family=Philosopher:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Cormorant:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@500&display=swap');\n:root[data-theme='forest'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Philosopher', serif;\n    --font-title-family: 'Cormorant', serif;\n    --font-cell-family: 'Crimson Pro', serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #2f4f4f 0%, #228b22 200%);\n    --color-cell: linear-gradient(145deg, #2f4f4f, #3a5f5f);\n    --color-modal: rgb(47 79 79 / 95%);\n    --color-button: linear-gradient(145deg, #2f4f4f, #228b22);\n    --color-letters: #d3d3d3;\n    --color-title: #d3d3d3;\n    --color-selected: #8b0000;\n    --color-hover: rgb(139 0 0 / 80%);\n    --color-line: #a0522d;\n    --color-ui: #a0522d;\n    --color-words: #d3d3d3;\n    --color-menu: #d3d3d3;\n    /* Efectos */\n    --cell-radius: 6px;\n    --shadow-opacity: 0.45;\n    --border-light: 1px solid rgb(211 211 211 / 20%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(34 139 34 / 15%);\n    --effect-color-2: rgb(139 0 0 / 15%);\n    --glow-radius: 20px;\n    --glow-color: rgb(211 211 211 / 20%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #228b22, #a0522d);\n    --found-scale: 1.08;\n    --found-shadow: 0 0 22px rgb(34 139 34 / 45%);\n    --unused-scale: 0.92;\n    --unused-opacity: 0.28;\n    --confetti-colors: #228b22, #8b0000, #a0522d, #d3d3d3;\n}\n:root[data-theme='forest'] .board {\n    background: linear-gradient(rgb(47 79 79 / 85%), rgb(58 95 95 / 85%));\n}\n:root[data-theme='forest'] .cell {\n    background: linear-gradient(135deg, #2f4f4f, #228b22);\n    border: 1px solid rgb(211 211 211 / 20%);\n    box-shadow:\n        inset 0 0 20px rgb(34 139 34 / 20%),\n        0 0 15px rgb(139 0 0 / 15%);\n}\n:root[data-theme='forest'] .title {\n    text-shadow:\n        2px 2px 0 #228b22,\n        4px 4px 0 #8b0000;\n}\n:root[data-theme='forest'] .toolbar {\n    filter: drop-shadow(1px 1px 3px rgb(34 139 34 / 50%));\n}\n@keyframes forest-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(1.08);\n        filter: brightness(1.3);\n        box-shadow:\n            0 0 25px rgb(34 139 34 / 60%),\n            0 0 40px rgb(139 0 0 / 40%);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='forest'] .found-temp {\n    animation-name: forest-found !important;\n}\n:root[data-theme='forest'] .mark.selected {\n    background: rgb(34 139 34 / 80%);\n    box-shadow: 0 0 18px rgb(34 139 34 / 40%);\n    animation: forest-pulse 2s ease-in-out infinite;\n}\n@keyframes forest-pulse {\n    0%,\n    100% {\n        opacity: 0.8;\n        box-shadow: 0 0 18px rgb(34 139 34 / 40%);\n    }\n    50% {\n        opacity: 1;\n        box-shadow: 0 0 25px rgb(139 0 0 / 50%);\n    }\n}\n\n/* Theme: Game Over */\n@import url('https://fonts.googleapis.com/css2?family=Audiowide&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&display=swap');\n:root[data-theme='gameoverglow'] {\n    --font-toolbar-family: 'Audiowide', cursive;\n    --font-title-family: 'Audiowide', cursive;\n    --font-cell-family: 'Syncopate', sans-serif;\n    --color-bg: #210958;\n    --color-cell: rgb(0 206 209 / 15%);\n    --color-modal: rgb(0 0 0 / 95%);\n    --color-button: #ff1493;\n    --color-letters: #adff2f;\n    --color-title: #00ced1;\n    --color-selected: #ff4500;\n    --color-hover: #00ced1;\n    --color-line: #ff1493;\n    --color-ui: #adff2f;\n    --color-words: #f0e68c;\n    --color-menu: #ffd700;\n    /* Efectos */\n    --cell-radius: 4px;\n    --shadow-opacity: 0.8;\n    --border-light: 1px solid rgb(0 206 209 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 20 147 / 10%);\n    --effect-color-2: rgb(173 255 47 / 10%);\n    --glow-radius: 25px;\n    --glow-color: rgb(0 206 209 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff1493, #ff4500);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 20px rgb(255 20 147 / 60%),\n        0 0 40px rgb(0 206 209 / 40%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.15;\n    --confetti-colors: #ff1493, #ff4500, #adff2f, #00ced1;\n}\n:root[data-theme='gameoverglow'] .cell {\n    border: var(--border-light);\n    box-shadow:\n        inset 0 0 20px rgb(255 20 147 / 10%),\n        0 0 15px rgb(0 206 209 / 20%);\n    background: linear-gradient(\n        135deg,\n        rgb(45 45 45 / 100%) 0%,\n        rgb(45 45 45 / 80%) 100%\n    );\n}\n:root[data-theme='gameoverglow'] .title {\n    text-shadow:\n        0 0 10px rgb(0 206 209 / 80%),\n        0 0 20px rgb(255 20 147 / 40%);\n    letter-spacing: 2px;\n}\n@keyframes glow-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: brightness(1.5);\n        box-shadow:\n            0 0 40px rgb(255 20 147 / 80%),\n            0 0 80px rgb(173 255 47 / 60%);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='gameoverglow'] .found-temp {\n    animation: glow-found 0.8s ease-in-out;\n}\n:root[data-theme='gameoverglow'] .mark.selected {\n    animation: glow-pulse 1.5s infinite;\n    box-shadow: 0 0 20px rgb(0 206 209 / 60%);\n}\n@keyframes glow-pulse {\n    0%,\n    100% {\n        background: #ff4500;\n        box-shadow: 0 0 30px rgb(255 69 0 / 60%);\n    }\n    50% {\n        background: #ff1493;\n        box-shadow: 0 0 40px rgb(255 20 147 / 80%);\n    }\n}\n\n/* Theme: Glitch */\n@import url('https://fonts.googleapis.com/css2?family=Teko:wght@600&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Rubik+Glitch&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');\n:root[data-theme='glitcheffect'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Share Tech Mono', monospace;\n    --font-title-family: 'Rubik Glitch', cursive;\n    --font-cell-family: 'Teko', sans-serif;\n    /* Colores */\n    --color-bg: #1e1e1e;\n    --color-cell: #2a2a2a;\n    --color-modal: rgb(30 30 30 / 95%);\n    --color-button: linear-gradient(145deg, #f0f, #0ff);\n    --color-letters: #0ff;\n    --color-title: #0ff;\n    --color-selected: #f0f;\n    --color-hover: rgb(255 53 0 / 80%);\n    --color-line: #ff3700;\n    --color-ui: #f0f;\n    --color-words: #fff;\n    --color-menu: #0ff;\n    /* Efectos */\n    --cell-radius: 2px;\n    --shadow-opacity: 0.7;\n    --border-light: 1px solid rgb(0 255 255 / 20%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 0 255 / 10%);\n    --effect-color-2: rgb(0 255 255 / 10%);\n    --glow-radius: 15px;\n    --glow-color: rgb(255 53 0 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #f0f, #0ff);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 30px rgb(255 55 0 / 60%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.2;\n    --confetti-colors: #f0f, #0ff, #ff3500, #ff3700;\n}\n:root[data-theme='glitcheffect'] body::before {\n    content: '';\n    position: fixed;\n    inset: 0;\n    background: repeating-linear-gradient(\n        transparent 0%,\n        rgb(0 255 255 / 10%) 0.5%,\n        transparent 1%\n    );\n    animation: scan-lines 8s linear infinite;\n    pointer-events: none;\n}\n:root[data-theme='glitcheffect'] .board {\n    background: transparent;\n    overflow: hidden;\n}\n:root[data-theme='glitcheffect'] .cell {\n    border: 1px solid rgb(0 255 255 / 20%);\n    position: relative;\n    overflow: hidden;\n}\n:root[data-theme='glitcheffect'] .title {\n    text-shadow:\n        2px 0 #f0f,\n        -2px 0 #ff3500;\n    animation: glitch-title 3s infinite;\n}\n:root[data-theme='glitcheffect'] .text::after {\n    color: var(--color-title);\n    animation: glitch-text 2s infinite reverse;\n    clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);\n}\n@keyframes scan-lines {\n    0% {\n        transform: translateY(-100%);\n    }\n    100% {\n        transform: translateY(100%);\n    }\n}\n@keyframes glitch-bg {\n    0%,\n    100% {\n        transform: translateX(-100%);\n    }\n    50% {\n        transform: translateX(100%);\n    }\n}\n@keyframes glitch-title {\n    0%,\n    100% {\n        transform: none;\n        filter: none;\n    }\n    92% {\n        transform: skew(2deg);\n    }\n    94% {\n        transform: skew(-2deg);\n    }\n    96% {\n        transform: none;\n        filter: hue-rotate(90deg);\n    }\n    98% {\n        transform: none;\n        filter: hue-rotate(-90deg);\n    }\n}\n@keyframes glitch-text {\n    0%,\n    100% {\n        transform: none;\n        opacity: 0.8;\n    }\n    92% {\n        transform: translate(2px, -2px);\n        opacity: 0.8;\n    }\n    94% {\n        transform: translate(-2px, 2px);\n        opacity: 0.8;\n    }\n    96% {\n        transform: none;\n        opacity: 0;\n    }\n    98% {\n        transform: none;\n        opacity: 0.8;\n    }\n}\n:root[data-theme='glitcheffect'] .found-temp {\n    animation: glitch-found 0.6s steps(2, end);\n}\n@keyframes glitch-found {\n    0% {\n        transform: scale(1);\n        filter: none;\n    }\n    25% {\n        transform: scale(1.1) skew(10deg);\n        filter: hue-rotate(90deg);\n    }\n    50% {\n        transform: scale(1.1) skew(-10deg);\n        filter: hue-rotate(-90deg);\n    }\n    75% {\n        transform: scale(0.9);\n        filter: invert(1);\n    }\n    100% {\n        transform: scale(1);\n        filter: none;\n    }\n}\n:root[data-theme='glitcheffect'] .mark.selected {\n    animation: glitch-selected 1s steps(2, end) infinite;\n}\n@keyframes glitch-selected {\n    0%,\n    100% {\n        background: #f0f;\n        transform: none;\n    }\n    25% {\n        background: #0ff;\n        transform: translate(2px, -2px);\n    }\n    50% {\n        background: #ff3500;\n        transform: translate(-2px, 2px);\n    }\n    75% {\n        background: #ff3700;\n        transform: none;\n    }\n}\n\n/* Theme: Hero */\n@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Metamorphous&display=swap');\n:root[data-theme='herojourney'] {\n    /* Fuentes */\n    --font-toolbar-family: 'MedievalSharp', cursive;\n    --font-title-family: 'Cinzel', serif;\n    --font-cell-family: 'Metamorphous', cursive;\n    /* Colores */\n    --color-bg: #1a1a1a;\n    --color-cell: #2a2a2a;\n    --color-modal: rgb(26 26 26 / 95%);\n    --color-button: #8b0000;\n    --color-letters: #d3d3d3;\n    --color-title: #ffd700;\n    --color-selected: #aa9000;\n    --color-hover: #32cd32;\n    --color-line: #1e90ff;\n    --color-ui: #ffd700;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --cell-radius: 4px;\n    --shadow-opacity: 0.5;\n    --border-light: 2px solid rgb(255 215 0 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(139 0 0 / 20%);\n    --effect-color-2: rgb(255 215 0 / 10%);\n    --glow-radius: 20px;\n    --glow-color: rgb(50 205 50 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #8b0000, #ffd700);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 30px rgb(30 144 255 / 60%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.2;\n    --confetti-colors: #8b0000, #ffd700, #32cd32, #1e90ff;\n}\n:root[data-theme='herojourney'] .board {\n    background: radial-gradient(\n        circle at center,\n        rgb(139 0 0 / 20%) 0%,\n        rgb(26 26 26 / 90%) 70%\n    );\n    border: 3px solid rgb(255 215 0 / 30%);\n}\n:root[data-theme='herojourney'] .cell {\n    border: var(--border-light);\n    box-shadow: 0 0 15px rgb(30 144 255 / 20%);\n    background: linear-gradient(\n        135deg,\n        rgb(42 42 42 / 100%) 0%,\n        rgb(42 42 42 / 80%) 100%\n    );\n}\n:root[data-theme='herojourney'] .title {\n    text-shadow: 2px 2px 4px rgb(139 0 0 / 60%);\n    letter-spacing: 2px;\n}\n:root[data-theme='herojourney'] .toolbar {\n    filter: drop-shadow(1px 1px 2px rgb(139 0 0 / 40%));\n}\n@keyframes hero-found {\n    0% {\n        transform: scale(1);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        box-shadow: 0 0 30px #ffd700;\n    }\n    100% {\n        transform: scale(1);\n    }\n}\n:root[data-theme='herojourney'] .found-temp {\n    animation: hero-found 0.8s ease-out;\n}\n:root[data-theme='herojourney'] .mark.selected {\n    animation: hero-selected 1.5s infinite;\n}\n@keyframes hero-selected {\n    0%,\n    100% {\n        transform: scale(1);\n        box-shadow: 0 0 15px #ffd700;\n    }\n    50% {\n        transform: scale(1.1);\n        box-shadow: 0 0 25px #32cd32;\n    }\n}\n\n/* Theme: Light */\n@import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@500;700&display=swap');\n:root[data-theme='light'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Space Mono', monospace;\n    --font-title-family: 'Outfit', sans-serif;\n    --font-cell-family: 'DM Sans', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n    --color-cell: linear-gradient(145deg, #e9ecef, #dee2e6);\n    --color-modal: #f0f0f0;\n    --color-button: #e0e0e0;\n    --color-letters: #000;\n    --color-title: #1971c2;\n    --color-selected: #228be6;\n    --color-hover: rgb(34 139 230 / 80%);\n    --color-line: #1e5899;\n    --color-ui: #1864ab;\n    --color-words: #000;\n    --color-menu: #000;\n    /* Efectos */\n    --shadow-opacity: 0.2;\n    --border-light: 1px solid rgb(0 0 0 / 8%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, var(--color-selected), #4b9ced);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 16px rgb(45 125 210 / 25%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.4;\n    --confetti-colors: #ffaf00, #fe5840, #00d779, #58f;\n}\n/* Efectos especiales para Light */\n:root[data-theme='light'] .board {\n    background: linear-gradient(rgb(248 249 250 / 70%), rgb(233 236 239 / 70%));\n}\n:root[data-theme='light'] .cell {\n    border: 1px solid rgb(0 0 0 / 8%);\n    box-shadow:\n        inset 0 2px 4px rgb(255 255 255 / 90%),\n        0 4px 8px rgb(0 0 0 / 10%);\n}\n:root[data-theme='light'] .mark.selected {\n    box-shadow: 0 0 15px rgb(34 139 230 / 40%);\n}\n:root[data-theme='light'] .title {\n    text-shadow: 1px 1px 2px rgb(0 0 0 / 10%);\n}\n@keyframes light-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(1.15);\n        filter: brightness(1.3);\n        box-shadow: 0 0 25px rgb(45 125 210 / 40%);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='light'] .found-temp {\n    animation-name: light-found !important;\n}\n\n/* Theme: Mint */\n@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@500;700&display=swap');\n:root[data-theme='mint'] {\n    --cell-radius: min(12px, 2vw);\n    /* Fuentes */\n    --font-toolbar-family: 'DM Sans', sans-serif;\n    --font-title-family: 'DM Sans', sans-serif;\n    --font-cell-family: 'DM Sans', sans-serif;\n    --font-cell-weight: 700;\n    /* Colores */\n    --color-bg: #f0f9f6;\n    --color-cell: #fff;\n    --color-modal: rgb(255 255 255 / 95%);\n    --color-button: linear-gradient(145deg, #fff, #e6f3ee);\n    --color-letters: #2d3436;\n    --color-title: #00b894;\n    --color-words: #2d3436;\n    --color-menu: #2d3436;\n    --color-ui: #00b894;\n    --color-selected: #00b894;\n    --color-hover: rgb(0 184 148 / 80%);\n    --color-line: #00b894;\n    /* Efectos */\n    --effect-color-1: rgb(0 184 148 / 5%);\n    --effect-color-2: rgb(0 206 201 / 5%);\n    --glow-radius: 20px;\n    --glow-color: rgb(0 184 148 / 20%);\n    --border-light: 1px solid rgb(0 184 148 / 10%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #00b894, #00cec9);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 30px rgb(0 184 148 / 60%);\n}\n\n/* Theme: Mystic */\n@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500&display=swap');\n:root[data-theme='mysticshadows'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Orbitron', sans-serif;\n    --font-title-family: 'Cinzel', serif;\n    --font-cell-family: 'Space Grotesk', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #4b0082, #2f4f4f);\n    --color-cell: #2f4f4f;\n    --color-modal: rgb(47 79 79 / 95%);\n    --color-button: linear-gradient(145deg, #4b0082, #8a2be2);\n    --color-letters: #0ff;\n    --color-title: #0ff;\n    --color-selected: #ff1493;\n    --color-hover: rgb(255 20 147 / 80%);\n    --color-line: #8a2be2;\n    --color-ui: #ff1493;\n    --color-words: #fff;\n    --color-menu: #0ff;\n    /* Efectos */\n    --cell-radius: 12px;\n    --shadow-opacity: 0.7;\n    --border-light: 1px solid rgb(0 255 255 / 20%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(75 0 130 / 20%);\n    --effect-color-2: rgb(138 43 226 / 20%);\n    --glow-radius: 30px;\n    --glow-color: rgb(0 255 255 / 25%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #8a2be2, #ff1493);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 40px rgb(0 255 255 / 50%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.15;\n    --confetti-colors: #4b0082, #8a2be2, #0ff, #ff1493;\n}\n:root[data-theme='mysticshadows'] .cell {\n    border: 1px solid rgb(0 255 255 / 20%);\n    box-shadow:\n        inset 0 0 25px rgb(138 43 226 / 15%),\n        0 0 20px rgb(255 20 147 / 20%);\n}\n:root[data-theme='mysticshadows'] .title {\n    background: linear-gradient(to right, #0ff, #ff1493);\n    background-clip: text;\n    color: transparent;\n    text-shadow: 0 0 20px rgb(138 43 226 / 50%);\n}\n:root[data-theme='mysticshadows'] .toolbar {\n    filter: drop-shadow(0 0 10px rgba(0 255 255 / 50%));\n}\n@keyframes mystic-found {\n    0% {\n        transform: scale(1);\n        filter: hue-rotate(0deg);\n    }\n    50% {\n        transform: scale(1.1);\n        filter: hue-rotate(180deg);\n        box-shadow:\n            0 0 40px #4b0082,\n            0 0 80px #8a2be2;\n    }\n    100% {\n        transform: scale(1);\n        filter: hue-rotate(360deg);\n    }\n}\n:root[data-theme='mysticshadows'] .found-temp {\n    animation-name: mystic-found !important;\n}\n:root[data-theme='mysticshadows'] .mark.selected {\n    animation: shadow-wave 3s ease infinite;\n}\n@keyframes shadow-wave {\n    0%,\n    100% {\n        box-shadow:\n            0 0 20px #4b0082,\n            0 0 40px #8a2be2;\n    }\n    50% {\n        box-shadow:\n            0 0 30px #0ff,\n            0 0 60px #ff1493;\n    }\n}\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n    display: block;\n    max-width: 100%;\n}\n\n/* Theme: Neon */\n@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&display=swap');\n:root[data-theme='neon'] {\n    --cell-radius: min(8px, 1.5vw);\n    /* Fuentes */\n    --font-toolbar-family: 'Orbitron', sans-serif;\n    --font-title-family: 'Orbitron', sans-serif;\n    --font-cell-family: 'Rajdhani', sans-serif;\n    --font-cell-weight: 700;\n    /* Colores */\n    --color-bg: #000;\n    --color-cell: #1a1a1a;\n    --color-modal: rgb(0 0 0 / 95%);\n    --color-button: linear-gradient(145deg, #1a1a1a, #000);\n    --color-letters: #0f0;\n    --color-title: #f0f;\n    --color-words: #fff;\n    --color-menu: #0ff;\n    --color-ui: #0ff;\n    --color-selected: #f0f;\n    --color-hover: rgb(255 0 255 / 80%);\n    --color-line: #0f0;\n    /* Efectos */\n    --effect-color-1: rgb(0 255 255 / 10%);\n    --effect-color-2: rgb(255 0 255 / 10%);\n    --glow-radius: 30px;\n    --glow-color: rgb(0 255 255 / 30%);\n    --border-light: 1px solid rgb(0 255 255 / 20%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #0ff, #f0f);\n    --found-scale: 1.2;\n    --found-shadow: 0 0 30px rgb(0 255 255 / 80%);\n}\n\n/* Theme: Nostalgia */\n@import url('https://fonts.googleapis.com/css2?family=Monoton&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;700&display=swap');\n:root[data-theme='neonnostalgia'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Monoton', cursive;\n    --font-title-family: 'Monoton', cursive;\n    --font-cell-family: 'Chakra Petch', sans-serif;\n    /* Colores */\n    --color-bg: #360000;\n    --color-cell: rgb(0 163 224 / 15%);\n    --color-modal: rgb(0 0 0 / 95%);\n    --color-button: #360000;\n    --color-letters: #fbb03b;\n    --color-title: #fbb03b;\n    --color-selected: #f15a29;\n    --color-hover: #00a3e0;\n    --color-line: #d5006d;\n    --color-ui: #f15a29;\n    --color-words: #fff;\n    --color-menu: #fbb03b;\n    /* Efectos */\n    --cell-radius: 4px;\n    --border-light: 2px solid rgb(251 176 59 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(57 181 74 / 10%);\n    --effect-color-2: rgb(0 163 224 / 10%);\n    --glow-radius: 30px;\n    --glow-color: rgb(213 0 109 / 40%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #39b54a, #00a3e0);\n    --found-scale: 1.2;\n    --found-shadow: 0 0 20px rgb(213 0 109 / 60%),\n        0 0 40px rgb(251 176 59 / 40%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.2;\n    --confetti-colors: #39b54a, #00a3e0, #f15a29, #fbb03b, #d5006d;\n}\n:root[data-theme='neonnostalgia'] .board {\n    background: transparent;\n    border: 3px solid rgb(213 0 109 / 30%);\n    box-shadow: 0 0 50px rgb(0 163 224 / 20%);\n}\n:root[data-theme='neonnostalgia'] .cell {\n    border: 2px solid rgb(251 176 59 / 20%);\n    box-shadow:\n        inset 0 0 20px rgb(57 181 74 / 20%),\n        0 0 15px rgb(213 0 109 / 30%);\n    background: linear-gradient(\n        135deg,\n        rgb(42 42 42 / 100%) 0%,\n        rgb(42 42 42 / 80%) 100%\n    );\n}\n:root[data-theme='neonnostalgia'] .title {\n    text-shadow:\n        0 0 5px rgb(251 176 59 / 80%),\n        0 0 10px rgb(241 90 41 / 60%),\n        0 0 20px rgb(213 0 109 / 40%);\n}\n@keyframes neon-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: brightness(1.5);\n        box-shadow:\n            0 0 30px rgb(57 181 74 / 60%),\n            0 0 60px rgb(0 163 224 / 40%);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='neonnostalgia'] .found-temp {\n    animation: neon-found 0.8s ease-in-out;\n}\n:root[data-theme='neonnostalgia'] .mark.selected {\n    animation: neon-pulse 2s infinite;\n}\n@keyframes neon-pulse {\n    0%,\n    100% {\n        background: #00a3e0;\n        box-shadow: 0 0 20px rgb(0 163 224 / 60%);\n    }\n    50% {\n        background: #f15a29;\n        box-shadow: 0 0 30px rgb(241 90 41 / 60%);\n    }\n}\n\n/* Theme: Odyssey */\n@import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Audiowide&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Tomorrow:wght@500&display=swap');\n:root[data-theme='odyssey'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Audiowide', cursive;\n    --font-title-family: 'Exo 2', sans-serif;\n    --font-cell-family: 'Tomorrow', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #1e1e1e, #8a2be2 200%);\n    --color-cell: linear-gradient(145deg, #1e1e1e, #2a2a2a);\n    --color-modal: linear-gradient(\n        180deg,\n        rgb(30 30 30 / 95%),\n        rgb(138 43 226 / 10%)\n    );\n    --color-button: linear-gradient(145deg, #2a2a2a, #ff4500);\n    --color-letters: #00bfff;\n    --color-title: #00bfff;\n    --color-selected: #ff4500;\n    --color-hover: rgb(255 215 0 / 80%);\n    --color-line: #ff4500;\n    --color-ui: #ff4500;\n    --color-words: #fff;\n    --color-menu: #00bfff;\n    /* Efectos */\n    --cell-radius: 5px;\n    --shadow-opacity: 0.55;\n    --border-light: 1px solid rgb(0 191 255 / 20%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(0 191 255 / 15%);\n    --effect-color-2: rgb(255 69 0 / 15%);\n    --glow-radius: 22px;\n    --glow-color: rgb(138 43 226 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #8a2be2, #ff4500);\n    --found-scale: 1.12;\n    --found-shadow: 0 0 30px rgb(138 43 226 / 50%);\n    --unused-scale: 0.88;\n    --unused-opacity: 0.25;\n    --confetti-colors: #00bfff, #ff4500, #ffd700, #8a2be2;\n}\n:root[data-theme='odyssey'] .board {\n    background: linear-gradient(rgb(30 30 30 / 85%), rgb(42 42 42 / 85%));\n}\n:root[data-theme='odyssey'] .cell {\n    background: linear-gradient(135deg, #1e1e1e, #2a2a2a);\n    border: 1px solid rgb(0 191 255 / 20%);\n    box-shadow:\n        inset 0 0 20px rgb(0 191 255 / 10%),\n        0 0 15px rgb(138 43 226 / 20%),\n        0 0 30px rgb(255 69 0 / 10%);\n}\n:root[data-theme='odyssey'] .title {\n    background: linear-gradient(to right, #00bfff, #8a2be2);\n    background-clip: text;\n    color: transparent;\n    text-shadow:\n        0 0 15px rgb(0 191 255 / 50%),\n        0 0 30px rgb(138 43 226 / 30%);\n    letter-spacing: 2px;\n}\n:root[data-theme='odyssey'] .toolbar {\n    filter: drop-shadow(0 0 10px rgb(255 69 0 / 50%));\n}\n@keyframes odyssey-found {\n    0% {\n        transform: scale(1) rotate(0deg);\n        filter: hue-rotate(0deg);\n    }\n    50% {\n        transform: scale(1.12) rotate(3deg);\n        filter: hue-rotate(180deg);\n        box-shadow:\n            0 0 35px rgb(138 43 226 / 60%),\n            0 0 55px rgb(255 69 0 / 40%);\n    }\n    100% {\n        transform: scale(1) rotate(0deg);\n        filter: hue-rotate(360deg);\n    }\n}\n:root[data-theme='odyssey'] .found-temp {\n    animation-name: odyssey-found !important;\n}\n:root[data-theme='odyssey'] .mark.selected {\n    box-shadow:\n        0 0 20px #8a2be2,\n        0 0 40px #ff4500;\n    animation: odyssey-glow 2.5s ease infinite;\n}\n@keyframes odyssey-glow {\n    0%,\n    100% {\n        box-shadow:\n            0 0 20px #ffd700,\n            0 0 40px #ff4500;\n        filter: brightness(1);\n    }\n    50% {\n        box-shadow:\n            0 0 30px #00bfff,\n            0 0 60px #8a2be2;\n        filter: brightness(1.3);\n    }\n}\n\n/* Theme: Pixel */\n@import url('https://fonts.googleapis.com/css2?family=Silkscreen:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=DotGothic16&display=swap');\n:root[data-theme='pixel'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Silkscreen', cursive;\n    --font-title-family: 'Press Start 2P', cursive;\n    --font-cell-family: 'DotGothic16', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #1a1a1a, #8a2be2 200%);\n    --color-cell: #2a2a2a;\n    --color-modal: rgb(26 26 26 / 95%);\n    --color-button: linear-gradient(145deg, #2a2a2a, #8a2be2);\n    --color-letters: #0ff;\n    --color-title: #0ff;\n    --color-selected: #ff69b4;\n    --color-hover: rgb(255 105 180 / 80%);\n    --color-line: #ffd700;\n    --color-ui: #ff69b4;\n    --color-words: #0ff;\n    --color-menu: #0ff;\n    /* Efectos */\n    --shadow-opacity: 0.5;\n    --border-light: 2px solid rgb(0 255 255 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 105 180 / 10%);\n    --effect-color-2: rgb(138 43 226 / 10%);\n    --glow-radius: 15px;\n    --glow-color: rgb(0 255 255 / 25%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff69b4, #8a2be2);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 25px rgb(255 105 180 / 50%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.3;\n    --confetti-colors: #ff69b4, #0ff, #ffd700, #ff6347;\n}\n:root[data-theme='pixel'] .board {\n    background-image: linear-gradient(\n            45deg,\n            transparent 25%,\n            rgb(255 99 71 / 10%) 25%\n        ),\n        linear-gradient(-45deg, transparent 25%, rgb(255 99 71 / 10%) 25%),\n        linear-gradient(45deg, rgb(255 99 71 / 10%) 75%, transparent 75%),\n        linear-gradient(-45deg, rgb(255 99 71 / 10%) 75%, transparent 75%);\n    background-size: 20px 20px;\n    background-color: #1a1a1a;\n    image-rendering: pixelated;\n}\n:root[data-theme='pixel'] .cell {\n    align-items: baseline;\n    border: 2px solid rgb(0 255 255 / 30%);\n    image-rendering: pixelated;\n    box-shadow:\n        inset 0 0 0 2px rgb(255 105 180 / 20%),\n        0 0 10px rgb(138 43 226 / 30%);\n}\n:root[data-theme='pixel'] .title {\n    text-shadow:\n        2px 2px 0 #ff69b4,\n        4px 4px 0 #8a2be2;\n    letter-spacing: 2px;\n    line-height: 1.5;\n}\n:root[data-theme='pixel'] .toolbar {\n    filter: drop-shadow(2px 2px 0 #ffd700);\n}\n@keyframes pixel-found {\n    0% {\n        transform: scale(1);\n        clip-path: inset(0 0 0 0);\n    }\n    50% {\n        transform: scale(1.15);\n        clip-path: inset(10% 10% 10% 10%);\n    }\n    100% {\n        transform: scale(1);\n        clip-path: inset(0 0 0 0);\n    }\n}\n:root[data-theme='pixel'] .found-temp {\n    animation-name: pixel-found !important;\n}\n:root[data-theme='pixel'] .mark.selected {\n    border: 2px dashed #ff69b4;\n    animation: pixel-rainbow 2s steps(6) infinite;\n}\n@keyframes pixel-rainbow {\n    0% {\n        border-color: #ff69b4;\n    }\n    20% {\n        border-color: #0ff;\n    }\n    40% {\n        border-color: #ffd700;\n    }\n    60% {\n        border-color: #ff6347;\n    }\n    80% {\n        border-color: #8a2be2;\n    }\n    100% {\n        border-color: #ff69b4;\n    }\n}\n\n/* Theme: Paradise */\n@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n:root[data-theme='pixelparadise'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Press Start 2P', cursive;\n    --font-title-family: 'Press Start 2P', cursive;\n    --font-cell-family: 'VT323', monospace;\n    /* Colores */\n    --color-bg: #6b5b95;\n    --color-cell: #92a8d1;\n    --color-modal: rgb(107 91 149 / 95%);\n    --color-button: #ff6f61;\n    --color-letters: #f7cac9;\n    --color-title: #f7cac9;\n    --color-selected: #88b04b;\n    --color-hover: #ff6f61;\n    --color-line: #f7cac9;\n    --color-ui: #f7cac9;\n    --color-words: #f7cac9;\n    --color-menu: #fff;\n    /* Efectos */\n    --shadow-opacity: 0.4;\n    --border-light: 2px solid #f7cac9;\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 111 97 / 20%);\n    --effect-color-2: rgb(136 176 75 / 10%);\n    --glow-radius: 15px;\n    --glow-color: rgb(247 202 201 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff6f61, #88b04b);\n    --found-scale: 1.2;\n    --found-shadow: 0 0 20px rgb(247 202 201 / 60%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.2;\n    --confetti-colors: #ff6f61, #88b04b, #92a8d1, #f7cac9;\n}\n:root[data-theme='pixelparadise'] .board {\n    background: linear-gradient(\n        45deg,\n        rgb(107 91 149 / 80%),\n        rgb(146 168 209 / 40%)\n    );\n    image-rendering: pixelated;\n}\n:root[data-theme='pixelparadise'] .title {\n    text-shadow: 2px 2px 0 #ff6f61;\n    letter-spacing: 1px;\n    image-rendering: pixelated;\n}\n:root[data-theme='pixelparadise'] .found-temp {\n    animation: pixel-found 0.5s steps(5);\n}\n@keyframes pixel-found {\n    0% {\n        transform: scale(1);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        background: var(--found-bg);\n    }\n    100% {\n        transform: scale(1);\n    }\n}\n:root[data-theme='pixelparadise'] .mark.selected {\n    animation: pixel-selected 1s steps(4) infinite;\n}\n@keyframes pixel-selected {\n    0%,\n    100% {\n        transform: scale(1);\n    }\n    50% {\n        transform: scale(1.1);\n    }\n}\n\n/* Theme: Retro */\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');\n:root[data-theme='retroarcade'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Press Start 2P', cursive;\n    --font-title-family: 'Press Start 2P', cursive;\n    --font-cell-family: 'VT323', monospace;\n    /* Colores */\n    --color-bg: #121212;\n    --color-cell: #1e1e1e;\n    --color-modal: rgb(30 30 30 / 95%);\n    --color-button: #ff3d00;\n    --color-letters: #ffd600;\n    --color-title: #ffd600;\n    --color-selected: #00b0ff;\n    --color-hover: #00e676;\n    --color-line: #00b0ff;\n    --color-ui: #00e676;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --shadow-opacity: 0.6;\n    --border-light: 2px solid rgb(0 176 255 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 61 0 / 10%);\n    --effect-color-2: rgb(0 176 255 / 10%);\n    --glow-radius: 20px;\n    --glow-color: rgb(0 230 118 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff3d00, #00b0ff);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 30px rgb(255 214 0 / 50%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.15;\n    --confetti-colors: #ff3d00, #00b0ff, #ffd600, #00e676;\n}\n:root[data-theme='retroarcade'] .board {\n    background: repeating-linear-gradient(\n        45deg,\n        #121212,\n        #121212 10px,\n        #1a1a1a 10px,\n        #1a1a1a 20px\n    );\n    box-shadow:\n        inset 0 0 20px rgb(0 176 255 / 20%),\n        0 0 30px rgb(255 61 0 / 30%);\n}\n:root[data-theme='retroarcade'] .cell {\n    border: 2px solid rgb(0 176 255 / 30%);\n    box-shadow:\n        inset 0 0 10px rgb(0 230 118 / 20%),\n        0 0 15px rgb(255 61 0 / 20%);\n    image-rendering: pixelated;\n}\n:root[data-theme='retroarcade'] .title {\n    text-shadow:\n        3px 3px 0 #ff3d00,\n        -3px -3px 0 #00b0ff;\n}\n@keyframes arcade-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: brightness(1.5) hue-rotate(45deg);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='retroarcade'] .found-temp {\n    animation: arcade-found 0.6s steps(4);\n}\n:root[data-theme='retroarcade'] .mark.selected {\n    animation: arcade-selected 1s steps(2) infinite;\n}\n@keyframes arcade-selected {\n    0%,\n    100% {\n        background: #00b0ff;\n        transform: translateY(0);\n    }\n    50% {\n        background: #00e676;\n        transform: translateY(-2px);\n    }\n}\n\n/* Theme: Rainbow */\n@import url('https://fonts.googleapis.com/css2?family=Righteous&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap');\n:root[data-theme='retrorainbow'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Righteous', cursive;\n    --font-title-family: 'Righteous', cursive;\n    --font-cell-family: 'Quicksand', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(\n        135deg,\n        rgb(70 130 180 / 90%),\n        /* Steel Blue */ rgb(138 43 226 / 90%) /* Blue Violet */\n    );\n    --color-cell: rgb(255 99 71 / 15%);\n    --color-modal: rgb(0 0 0 / 90%);\n    --color-button: #ff6347;\n    --color-letters: #ffd700;\n    --color-title: #ffd700;\n    --color-selected: #32cd32;\n    --color-hover: #4682b4;\n    --color-line: #8a2be2;\n    --color-ui: #ffd700;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --cell-radius: 8px;\n    --shadow-opacity: 0.6;\n    --border-light: 2px solid rgb(255 215 0 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(255 99 71 / 10%);\n    --effect-color-2: rgb(50 205 50 / 10%);\n    --glow-radius: 25px;\n    --glow-color: rgb(138 43 226 / 30%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff6347, #8a2be2);\n    --found-scale: 1.12;\n    --found-shadow: 0 0 25px rgb(255 215 0 / 50%), 0 0 50px rgb(50 205 50 / 30%);\n    --unused-scale: 0.88;\n    --unused-opacity: 0.2;\n    --confetti-colors: #ff6347, #4682b4, #ffd700, #32cd32, #8a2be2;\n}\n:root[data-theme='retrorainbow'] .board {\n    box-shadow:\n        0 0 40px rgb(138 43 226 / 20%),\n        inset 0 0 25px rgb(255 215 0 / 10%);\n}\n:root[data-theme='retrorainbow'] .cell {\n    border: var(--border-light);\n    background: linear-gradient(\n        145deg,\n        rgb(61 61 61 / 100%) 0%,\n        rgb(61 61 61 / 80%) 100%\n    );\n    box-shadow:\n        inset 0 0 15px rgb(255 215 0 / 10%),\n        0 0 20px rgb(138 43 226 / 15%);\n    position: relative;\n}\n:root[data-theme='retrorainbow'] .cell::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background: linear-gradient(\n        135deg,\n        transparent 0%,\n        rgb(138 43 226 / 5%) 100%\n    );\n    pointer-events: none;\n}\n:root[data-theme='retrorainbow'] .title {\n    text-shadow:\n        2px 2px 0 #ff6347,\n        -2px -2px 0 #4682b4;\n    letter-spacing: 1px;\n}\n@keyframes rainbow-found {\n    0% {\n        transform: scale(1);\n        filter: hue-rotate(0deg);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: hue-rotate(180deg) brightness(1.3);\n    }\n    100% {\n        transform: scale(1);\n        filter: hue-rotate(360deg);\n    }\n}\n:root[data-theme='retrorainbow'] .found-temp {\n    animation: rainbow-found 1s ease-in-out;\n}\n:root[data-theme='retrorainbow'] .mark.selected {\n    animation: rainbow-cycle 2s infinite;\n}\n@keyframes rainbow-cycle {\n    0% {\n        background: #ff6347;\n    }\n    25% {\n        background: #4682b4;\n    }\n    50% {\n        background: #04d0ca;\n    }\n    75% {\n        background: #32cd32;\n    }\n    100% {\n        background: #8a2be2;\n    }\n}\n\n/* Theme: Solarized */\n@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@500;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500;700&display=swap');\n:root[data-theme='solarized'] {\n    /* Fuentes ms apropiadas para un tema tipo terminal */\n    --font-toolbar-family: 'Source Code Pro', monospace;\n    --font-title-family: 'Fira Code', monospace;\n    --font-cell-family: 'IBM Plex Mono', monospace;\n    --color-bg: #002b36;\n    --color-cell: #073642;\n    --color-modal: rgb(0 43 54 / 95%);\n    --color-button: #073642;\n    --color-letters: #b9c3c3;\n    --color-title: #b9c3c3;\n    --color-selected: #859900;\n    --color-hover: #687800;\n    --color-line: #cb4b16;\n    --color-ui: #2aa198;\n    --color-words: #b9c3c3;\n    --color-menu: #b9c3c3;\n    /* Efectos de terminal */\n    --shadow-opacity: 0.4;\n    --border-light: 1px solid #094754;\n    /* Efectos especiales */\n    --effect-color-1: rgb(133 153 0 / 10%);\n    --effect-color-2: rgb(203 75 22 / 10%);\n    --glow-radius: 15px;\n    --glow-color: rgb(133 153 0 / 20%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #859900, #2aa198);\n    /* green to cyan */\n    --found-scale: 1.05;\n    --unused-scale: 0.95;\n    --unused-opacity: 0.25;\n    --confetti-colors: #859900, #2aa198, #268bd2, #6c71c4;\n}\n:root[data-theme='solarized'] .board {\n    background: #001f27;\n    box-shadow:\n        inset 0 0 20px rgb(0 0 0 / 30%),\n        inset 0 0 60px rgb(7 54 66 / 50%);\n}\n:root[data-theme='solarized'] .cell {\n    border: 1px solid #094754;\n    background: linear-gradient(135deg, #073642, #002b36);\n    box-shadow:\n        inset 0 0 10px rgb(0 0 0 / 20%),\n        0 0 2px rgb(133 153 0 / 20%);\n}\n:root[data-theme='solarized'] .title {\n    letter-spacing: 1px;\n    text-shadow: 0 0 10px rgb(147 161 161 / 30%);\n}\n:root[data-theme='solarized'] .toolbar {\n    filter: drop-shadow(0 0 8px rgb(42 161 152 / 40%));\n}\n@keyframes solarized-found {\n    0%,\n    100% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: scale(1.05);\n        filter: brightness(1.2);\n        box-shadow:\n            0 0 20px rgb(133 153 0 / 40%),\n            0 0 40px rgb(42 161 152 / 30%);\n    }\n}\n:root[data-theme='solarized'] .found-temp {\n    animation-name: solarized-found !important;\n}\n:root[data-theme='solarized'] .mark.selected {\n    animation: solarized-cursor 2s ease infinite;\n}\n@keyframes solarized-cursor {\n    0%,\n    100% {\n        box-shadow: 0 0 15px rgb(133 153 0);\n    }\n    50% {\n        box-shadow: 0 0 25px rgb(203 75 22);\n    }\n}\n\n/* Theme: Stealth */\n@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap');\n:root[data-theme='stealth'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Roboto Mono', monospace;\n    --font-title-family: 'Space Grotesk', sans-serif;\n    --font-cell-family: 'Inter', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #000, #696969);\n    --color-cell: linear-gradient(145deg, #696969, #000);\n    --color-modal: linear-gradient(\n        180deg,\n        rgb(0 0 0 / 95%),\n        rgb(169 169 169 / 95%)\n    );\n    --color-button: linear-gradient(145deg, #696969, #a9a9a9);\n    --color-letters: #fff;\n    --color-title: #fff;\n    --color-selected: #898989;\n    --color-hover: #646464;\n    --color-line: #a9a9a9;\n    --color-ui: #c0c0c0;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --cell-radius: 2px;\n    --shadow-opacity: 0.4;\n    --border-light: 1px solid rgb(255 255 255 / 10%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(169 169 169 / 10%);\n    --effect-color-2: rgb(192 192 192 / 10%);\n    --glow-radius: 16px;\n    --glow-color: rgb(255 255 255 / 15%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #646464, #898989);\n    --found-scale: 1.08;\n    --found-shadow: 0 0 20px rgb(255 255 255 / 30%);\n    --unused-scale: 0.92;\n    --unused-opacity: 0.2;\n    --confetti-colors: #fff, #c0c0c0, #a9a9a9, #696969;\n}\n:root[data-theme='stealth'] .board {\n    background: linear-gradient(rgb(0 0 0 / 90%), rgb(26 26 26 / 90%));\n}\n:root[data-theme='stealth'] .cell {\n    border: 1px solid rgb(255 255 255 / 10%);\n    background: linear-gradient(135deg, #696969, #000);\n    box-shadow:\n        inset 0 0 20px rgb(255 255 255 / 5%),\n        0 0 15px rgb(169 169 169 / 20%);\n}\n:root[data-theme='stealth'] .title {\n    text-shadow: 0 0 15px rgb(255 255 255 / 30%);\n    letter-spacing: 3px;\n}\n:root[data-theme='stealth'] .toolbar {\n    filter: drop-shadow(0 0 10px rgb(192 192 192 / 40%));\n}\n@keyframes stealth-found {\n    0% {\n        transform: scale(1);\n        filter: contrast(1);\n    }\n    50% {\n        transform: scale(1.08);\n        filter: contrast(1.3);\n        box-shadow:\n            0 0 25px rgb(192 192 192 / 40%),\n            0 0 40px rgb(169 169 169 / 30%);\n    }\n    100% {\n        transform: scale(1);\n        filter: contrast(1);\n    }\n}\n:root[data-theme='stealth'] .found-temp {\n    animation-name: stealth-found !important;\n}\n:root[data-theme='stealth'] .mark.selected {\n    box-shadow: 0 0 20px rgb(192 192 192 / 30%);\n    animation: stealth-fade 2s ease-in-out infinite;\n}\n@keyframes stealth-fade {\n    0%,\n    100% {\n        background: #646464;\n        box-shadow: 0 0 20px rgb(169 169 169 / 30%);\n    }\n    50% {\n        background: #898989;\n        box-shadow: 0 0 30px rgb(192 192 192 / 40%);\n    }\n}\n\n/* Theme: Synthwave */\n@import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap');\n:root[data-theme='synthwave'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Space Mono', monospace;\n    --font-title-family: 'Space Grotesk', sans-serif;\n    --font-cell-family: 'Space Mono', monospace;\n    /* Colores */\n    --color-bg: linear-gradient(180deg, #1a0f2e 0%, #2d1f3d 100%);\n    --color-cell: linear-gradient(135deg, #2d1f3d 0%, #1a0f2e 100%);\n    --color-modal: rgb(26 15 46 / 95%);\n    --color-button: linear-gradient(145deg, #2d1f3d, #241831);\n    --color-letters: #ff65d4;\n    --color-title: #ff65d4;\n    --color-selected: #f700ff;\n    --color-hover: rgb(247 0 255 / 80%);\n    --color-line: #00fff9;\n    --color-ui: #00fff9;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --cell-radius: 12px;\n    --shadow-opacity: 0.5;\n    --border-light: 1px solid rgb(255 101 212 / 20%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #f700ff, #00fff9);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 20px rgb(247 0 255 / 40%), 0 0 40px rgb(0 255 249 / 20%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.2;\n    --confetti-colors: #fb36ff, #ffdf36, #f667ff, #ff6565;\n}\n/* Efectos especiales para Synthwave */\n:root[data-theme='synthwave'] .board {\n    background: linear-gradient(rgb(26 15 46 / 70%), rgb(45 31 61 / 70%));\n}\n:root[data-theme='synthwave'] .cell {\n    border: 1px solid rgb(247 0 255 / 20%);\n    box-shadow:\n        inset 0 0 20px rgb(247 0 255 / 10%),\n        0 0 15px rgb(0 255 249 / 20%);\n}\n:root[data-theme='synthwave'] .title {\n    background: linear-gradient(to right, #f700ff, #00fff9);\n    background-clip: text;\n    color: transparent;\n    text-shadow:\n        0 0 10px rgb(247 0 255 / 50%),\n        0 0 20px rgb(0 255 249 / 30%);\n}\n:root[data-theme='synthwave'] .toolbar {\n    filter: drop-shadow(0 0 10px rgb(0 255 249 / 70%));\n}\n@keyframes synthwave-found {\n    0% {\n        filter: hue-rotate(0deg) brightness(1);\n        transform: scale(1);\n    }\n    50% {\n        filter: hue-rotate(180deg) brightness(1.8);\n        transform: scale(1.15);\n        box-shadow:\n            0 0 30px rgb(247 0 255 / 60%),\n            0 0 60px rgb(0 255 249 / 40%);\n    }\n    100% {\n        filter: hue-rotate(360deg) brightness(1);\n        transform: scale(1);\n    }\n}\n:root[data-theme='synthwave'] .found-temp {\n    animation-name: synthwave-found !important;\n}\n:root[data-theme='synthwave'] .mark.selected {\n    animation: synthwave-glow 2s infinite;\n}\n@keyframes synthwave-glow {\n    0%,\n    100% {\n        box-shadow:\n            0 0 20px #f700ff,\n            0 0 40px #00fff9;\n    }\n    50% {\n        box-shadow:\n            0 0 40px #f700ff,\n            0 0 80px #00fff9;\n    }\n}\n\n/* Theme: Techno */\n@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@500&display=swap');\n:root[data-theme='technovibes'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Syncopate', sans-serif;\n    --font-title-family: 'Orbitron', sans-serif;\n    --font-cell-family: 'Chakra Petch', sans-serif;\n    /* Colores */\n    --color-bg: #2d0036;\n    --color-cell: #1a1a1a;\n    --color-modal: rgb(26 26 26 / 95%);\n    --color-button: linear-gradient(145deg, #f0f, #1e90ff);\n    --color-letters: #ffd700;\n    --color-title: #0f0;\n    --color-selected: #f0f;\n    --color-hover: rgb(255 0 255 / 70%);\n    --color-line: #0f0;\n    --color-ui: #1e90ff;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --shadow-opacity: 0.6;\n    --border-light: 1px solid rgb(0 255 0 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(30 144 255 / 15%);\n    --effect-color-2: rgb(255 99 71 / 15%);\n    --glow-radius: 20px;\n    --glow-color: rgb(0 255 0 / 20%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #f0f, #1e90ff);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 35px rgb(0 255 0 / 50%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.2;\n    --confetti-colors: #0f0, #f0f, #1e90ff, #ffd700;\n}\n:root[data-theme='technovibes'] .cell {\n    border: 1px solid rgb(0 255 0 / 30%);\n    box-shadow:\n        inset 0 0 15px rgb(30 144 255 / 20%),\n        0 0 10px rgb(255 0 255 / 20%);\n    background: linear-gradient(\n        135deg,\n        rgb(26 26 26 / 90%),\n        rgb(26 26 26 / 70%)\n    );\n}\n:root[data-theme='technovibes'] .title {\n    text-shadow:\n        0 0 10px rgb(0 255 0 / 70%),\n        0 0 20px rgb(30 144 255 / 50%);\n    letter-spacing: 3px;\n}\n@keyframes techno-found {\n    0% {\n        transform: scale(1);\n        filter: hue-rotate(0deg);\n    }\n    50% {\n        transform: scale(1.1);\n        filter: hue-rotate(180deg);\n        border-color: #f0f;\n    }\n    100% {\n        transform: scale(1);\n        filter: hue-rotate(360deg);\n    }\n}\n:root[data-theme='technovibes'] .found-temp {\n    animation: techno-found 0.6s cubic-bezier(0.4, 0, 0.2, 1);\n}\n:root[data-theme='technovibes'] .mark.selected {\n    animation: techno-pulse 2s infinite;\n}\n@keyframes techno-pulse {\n    0%,\n    100% {\n        box-shadow:\n            0 0 15px #0f0,\n            0 0 30px #1e90ff;\n    }\n    50% {\n        box-shadow:\n            0 0 25px #f0f,\n            0 0 50px #ffd700;\n    }\n}\n\n/* Theme: Vintage */\n@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Old+Standard+TT:wght@400;700&display=swap');\n:root[data-theme='vintagevibes'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Playfair Display', serif;\n    --font-title-family: 'Playfair Display', serif;\n    --font-cell-family: 'Old Standard TT', serif;\n    /* Colores */\n    --color-bg: #7d7d7d;\n    --color-cell: #c0c0c0;\n    --color-modal: rgb(125 125 125 / 95%);\n    --color-button: #c5793a;\n    --color-letters: #c5793a;\n    --color-title: #f5deb3;\n    --color-selected: #d2691e;\n    --color-hover: #a0522d;\n    --color-line: #d2691e;\n    --color-ui: #f5deb3;\n    --color-words: #bb955c;\n    --color-menu: #f5deb3;\n    /* Efectos */\n    --cell-radius: 2px;\n    --shadow-opacity: 0.4;\n    --border-light: 1px solid rgb(245 222 179 / 30%);\n    /* Efectos especiales */\n    --effect-color-1: rgb(160 82 45 / 10%);\n    --effect-color-2: rgb(210 105 30 / 10%);\n    --glow-radius: 20px;\n    --glow-color: rgb(245 222 179 / 20%);\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #60301a, #43220b);\n    --found-scale: 1.08;\n    --found-shadow: 0 0 25px rgb(245 222 179 / 40%);\n    --unused-scale: 0.92;\n    --unused-opacity: 0.25;\n    --confetti-colors: #c0c0c0, #a0522d, #d2691e, #f5deb3;\n}\n:root[data-theme='vintagevibes'] .board {\n    background: transparent;\n    border: 3px solid rgb(245 222 179 / 30%);\n    box-shadow: inset 0 0 30px rgb(160 82 45 / 20%);\n}\n:root[data-theme='vintagevibes'] .cell {\n    align-items: end;\n    border: var(--border-light);\n    box-shadow:\n        inset 0 0 15px rgb(160 82 45 / 10%),\n        0 2px 4px rgb(0 0 0 / 10%);\n}\n:root[data-theme='vintagevibes'] .title {\n    text-shadow: 2px 2px 4px rgb(160 82 45 / 40%);\n    font-style: italic;\n    letter-spacing: 0.05em;\n}\n:root[data-theme='vintagevibes'] .toolbar {\n    filter: drop-shadow(1px 1px 2px rgb(160 82 45 / 30%));\n}\n@keyframes vintage-found {\n    0% {\n        transform: scale(1);\n        filter: sepia(0);\n    }\n    50% {\n        transform: scale(var(--found-scale));\n        filter: sepia(0.5) brightness(1.2);\n        box-shadow:\n            0 0 20px rgb(210 105 30 / 60%),\n            0 0 40px rgb(245 222 179 / 40%);\n    }\n    100% {\n        transform: scale(1);\n        filter: sepia(0);\n    }\n}\n:root[data-theme='vintagevibes'] .found-temp {\n    animation: vintage-found 0.8s var(--animation-timing);\n}\n:root[data-theme='vintagevibes'] .mark.selected {\n    animation: vintage-selected 2s infinite;\n}\n@keyframes vintage-selected {\n    0%,\n    100% {\n        background: #854212;\n        transform: scale(1);\n    }\n    50% {\n        background: #442111;\n        transform: scale(1.05);\n    }\n}\n:root[data-theme='vintagevibes'] .word {\n    font-family: var(--font-cell-family);\n    font-style: italic;\n}\n:root[data-theme='vintagevibes'] .word.found {\n    background: var(--found-bg);\n    color: #f5deb3;\n    text-shadow: 1px 1px 2px rgb(160 82 45 / 40%);\n}\n\n/* Theme: Bloodborne */\n@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Marcellus&display=swap');\n:root[data-theme='bloodborne'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Cinzel', serif;\n    --font-title-family: 'Cinzel', serif;\n    --font-cell-family: 'Marcellus', serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #050203 0%, #1e0a0a 100%);\n    --color-cell: #2b0b0b;\n    --color-modal: #0d0404;\n    --color-button: #900;\n    --color-letters: #d4c1c1;\n    --color-title: #d4c1c1;\n    --color-selected: #c00;\n    --color-hover: #c70000;\n    --color-line: #8b0000;\n    --color-ui: #900;\n    --color-words: #d4c1c1;\n    --color-menu: #d4c1c1;\n    /* Efectos */\n    --cell-radius: min(10px, 2vw);\n    --border-light: 1px solid rgb(139 0 0 / 30%);\n    --shadow-opacity: 0.8;\n    /* Animaciones */\n    --found-bg: radial-gradient(circle, #c00 0%, #800000 100%);\n    --found-scale: 1.12;\n    --found-shadow: 0 0 40px rgb(204 0 0 / 70%), 0 0 70px rgb(139 0 0 / 50%);\n    --unused-scale: 0.88;\n    --unused-opacity: 0.12;\n    --animation-duration-found: 750ms;\n    --animation-timing: cubic-bezier(0.3, 0, 0.7, 1);\n    --confetti-colors: #940004, #3c3c3c, #f00, #700000;\n}\n@keyframes bloodborne-found {\n    0% {\n        transform: scale(1) rotate(0deg);\n        filter: brightness(1) blur(0);\n    }\n    25% {\n        transform: scale(1.15) rotate(2deg);\n        filter: brightness(1.8) blur(2px);\n        box-shadow:\n            0 0 40px #c00,\n            0 0 80px #800000;\n    }\n    50% {\n        transform: scale(0.9) rotate(-2deg);\n        filter: brightness(0.7) blur(0);\n    }\n    75% {\n        transform: scale(1.1) rotate(1deg);\n        filter: brightness(1.4) blur(1px);\n    }\n    100% {\n        transform: scale(1) rotate(0deg);\n        filter: brightness(1) blur(0);\n    }\n}\n:root[data-theme='bloodborne'] .found-temp {\n    animation-name: bloodborne-found !important;\n}\n\n/* Theme: Dark Souls */\n@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Marcellus&display=swap');\n:root[data-theme='darksouls'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Cinzel', serif;\n    --font-title-family: 'Cinzel', serif;\n    --font-cell-family: 'Marcellus', serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #0c0c0c 0%, #221e1b 100%);\n    --color-cell: linear-gradient(135deg, #2b261f, #0f0b09);\n    --color-modal: rgb(13 13 13 / 95%);\n    --color-button: #bb6f10;\n    --color-letters: #e4d6a7;\n    --color-title: #e4d6a7;\n    --color-selected: #e19038;\n    --color-hover: #ffa533;\n    --color-line: #ff4500;\n    --color-ui: #bb6f10;\n    --color-words: #e4d6a7;\n    --color-menu: #e4d6a7;\n    /* Efectos */\n    --cell-radius: min(8px, 2vw);\n    --border-light: 1px solid rgb(255 140 0 / 30%);\n    --shadow-opacity: 0.85;\n    /* Animaciones */\n    --found-bg: radial-gradient(circle, #ff8c00 0%, #b35a00 100%);\n    --found-scale: 1.1;\n    --found-shadow: 0 0 30px rgb(255 140 0 / 60%), 0 0 60px rgb(255 69 0 / 40%);\n    --found-brightness: 2.2;\n    --found-blur: 4px;\n    --unused-scale: 0.9;\n    --unused-opacity: 0.15;\n    --animation-duration-found: 700ms;\n    --animation-timing: cubic-bezier(0.4, 0, 0.2, 1);\n    --confetti-colors: #4f4f4f, #dbb82c, #9c9c9c, #000;\n}\n@keyframes darksouls-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1) blur(0);\n    }\n    40% {\n        transform: scale(1.2);\n        filter: brightness(2.2) blur(4px);\n        box-shadow:\n            0 0 50px rgb(255 140 0 / 80%),\n            0 0 100px rgb(255 69 0 / 60%);\n    }\n    70% {\n        transform: scale(0.9);\n        filter: brightness(0.8) blur(0);\n    }\n    100% {\n        transform: scale(1);\n        filter: brightness(1) blur(0);\n    }\n}\n:root[data-theme='darksouls'] .found-temp {\n    animation-name: darksouls-found !important;\n}\n\n/* Theme: Elden Ring */\n@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Cormorant:wght@500;700&display=swap');\n:root[data-theme='eldenring'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Cinzel', serif;\n    --font-title-family: 'Cinzel', serif;\n    --font-cell-family: 'Cormorant', serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #0f0e0a 0%, #2b2615 100%);\n    --color-cell: #2a2a2a;\n    --color-modal: #1f1f1f;\n    --color-button: #a58c00;\n    --color-letters: #ffebc2;\n    --color-title: #ffebc2;\n    --color-selected: #a58c00;\n    --color-hover: #634700;\n    --color-line: #ffc125;\n    --color-ui: #dac083;\n    --color-words: #ffebc2;\n    --color-menu: #ffebc2;\n    /* Efectos */\n    --cell-radius: 15%;\n    --border-light: 2px solid rgb(255 215 0 / 30%);\n    --shadow-opacity: 0.6;\n    /* Animaciones */\n    --found-bg: radial-gradient(circle, #ffd700 0%, #daa520 100%);\n    --found-scale: 1.12;\n    --found-shadow: 0 0 45px rgb(255 215 0 / 60%),\n        0 0 80px rgb(218 165 32 / 50%);\n    --unused-scale: 0.9;\n    --unused-opacity: 0.25;\n    --animation-duration-found: 900ms;\n    --animation-timing: cubic-bezier(0.4, 0, 0.2, 1);\n    --confetti-colors: #c3b38e, #6e6e6e, #2f2f2f, #e1e1c4;\n}\n@keyframes eldenring-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1);\n    }\n    20% {\n        transform: scale(1.2);\n        filter: brightness(2.5);\n        box-shadow:\n            0 0 50px #ffd700,\n            0 0 100px #daa520;\n    }\n    40% {\n        transform: scale(0.95) rotate(1deg);\n        filter: brightness(0.8);\n    }\n    60% {\n        transform: scale(1.1) rotate(-1deg);\n        filter: brightness(1.6);\n    }\n    100% {\n        transform: scale(1) rotate(0deg);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='eldenring'] .found-temp {\n    animation-name: eldenring-found !important;\n}\n\n/* Theme: Portal */\n@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@100;200;400&display=swap');\n:root[data-theme='portal'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Oswald', sans-serif;\n    --font-title-family: 'Oswald', sans-serif;\n    --font-cell-family: 'Oswald', sans-serif;\n    --font-cell-weight: 600;\n    --portal-blue: #27a7d8;\n    --portal-orange: #ff9a00;\n    --color-bg: linear-gradient(135deg, #e6e6e6 0%, #d1d1d1 100%);\n    --color-cell: radial-gradient(\n        circle at center,\n        #fff 30%,\n        #f2f2f2 50%,\n        #e6e6e6 70%,\n        #d1d1d1 100%\n    );\n    --color-modal: rgb(220 220 220 / 90%);\n    --color-button: #1a1a1a;\n    --color-letters: #1a1a1a;\n    --color-title: #1a1a1a;\n    --color-selected: var(--portal-blue);\n    --color-hover: var(--portal-orange);\n    --color-line: var(--portal-orange);\n    --color-ui: var(--portal-blue);\n    --color-words: #fff;\n    --color-menu: #000;\n    /* Configuracin de celdas */\n    --mark-size-override: calc(var(--mark-size) * 1.1);\n    /* Efectos y animaciones */\n    --border-light: 1px solid rgb(0 0 0 / 20%);\n    --shadow-opacity: 0.15;\n    --found-bg: var(--portal-orange);\n    --found-scale: 1.05;\n    --found-shadow: 0 0 0 1px rgb(0 0 0 / 20%), 0 0 30px rgb(0 168 214 / 40%),\n        0 0 60px rgb(255 68 0 / 30%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.2;\n    --animation-duration-found: 800ms;\n    --animation-timing: cubic-bezier(0.4, 0, 0.2, 1);\n    --confetti-colors: var(--portal-blue), var(--portal-orange), #ffc0cb, #fff;\n}\n/* Estilizar celdas como paneles de prueba */\n:root[data-theme='portal'] .cell {\n    background: radial-gradient(\n        circle at center,\n        #fff 30%,\n        #f2f2f2 50%,\n        #e6e6e6 70%,\n        #d1d1d1 100%\n    );\n    border:\n        calc(var(--cell-size) * 0.02),\n        solid #000;\n    box-shadow:\n        inset 0 0 0 1px rgb(255 255 255 / 90%),\n        inset 0 2px 0 rgb(255 255 255 / 50%),\n        0 0 0 1px rgb(0 0 0 / 80%);\n}\n/* Personalizacin tipogrfica ajustada */\n:root[data-theme='portal'] .title {\n    text-transform: uppercase;\n    letter-spacing: 1px;\n}\n:root[data-theme='portal'] .text {\n    padding-bottom: 0.1em;\n}\n/* Efecto de seleccin tipo portal */\n:root[data-theme='portal'] .mark {\n    height: var(--mark-size-override);\n    top: calc(50% - var(--mark-size-override) / 2);\n}\n:root[data-theme='portal'] .mark.selected {\n    box-shadow:\n        inset 0 0 0 1px rgb(255 255 255 / 20%),\n        0 0 20px rgb(0 168 214 / 40%);\n}\n:root[data-theme='portal'] .hitbox:hover + .mark:not(.selected) {\n    box-shadow:\n        inset 0 0 0 1px rgb(255 255 255 / 20%),\n        0 0 20px rgb(255 68 0 / 40%);\n}\n:root[data-theme='portal'] .found-temp {\n    animation: portal-found 0.8s var(--animation-timing);\n    background: #fff;\n}\n:root[data-theme='portal'] .menu-options {\n    color: #fff;\n}\n@keyframes logo-spin {\n    from {\n        transform: translate(-50%, -50%) rotate(0deg);\n    }\n    to {\n        transform: translate(-50%, -50%) rotate(360deg);\n    }\n}\n/* Vamos a usar el board como referencia */\n:root[data-theme='portal'] .board {\n    isolation: isolate;\n}\n:root[data-theme='portal'] .board::before {\n    content: '';\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: min(110%, 150vh);\n    aspect-ratio: 1;\n    background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 532 532\"><g id=\"c\"><g id=\"b\"><path id=\"a\" fill=\"rgba(0,0,0,0.08)\" d=\"M165 32C108 56 60 101 34 159l248-46\"/><use xlink:href=\"%23a\" transform=\"rotate(45 266 266)\"/></g><use xlink:href=\"%23b\" transform=\"rotate(90 266 266)\"/></g><use xlink:href=\"%23c\" transform=\"rotate(180 266 266)\"/></svg>')\n        center / 100% no-repeat;\n    transform: translate(-50%, -50%);\n    animation: logo-spin 60s linear infinite;\n    will-change: transform;\n    pointer-events: none;\n    z-index: 1;\n    mix-blend-mode: color;\n}\n/* Animacin de encontrar palabra ms dramtica */\n@keyframes portal-found {\n    0% {\n        transform: scale(1);\n        background: var(--portal-blue);\n    }\n    33% {\n        transform: scale(1.08);\n        background: var(--portal-blue);\n    }\n    40% {\n        transform: scale(1.08);\n        background: var(--portal-orange);\n    }\n    66% {\n        transform: scale(0.96);\n        background: var(--portal-orange);\n    }\n    100% {\n        transform: scale(1);\n        background: radial-gradient(\n            circle at center,\n            #fff 30%,\n            #f2f2f2 50%,\n            #e6e6e6 70%,\n            #d1d1d1 100%\n        );\n    }\n}\n\n/* Theme: Sekiro */\n@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500;700&display=swap');\n:root[data-theme='sekiro'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Cinzel', serif;\n    --font-title-family: 'Noto Serif JP', serif;\n    --font-cell-family: 'Noto Sans JP', sans-serif;\n    /* Colores */\n    --color-bg: linear-gradient(135deg, #1e1a17 0%, #39342d 100%);\n    --color-cell: #2b2823;\n    --color-modal: #1c1c1c;\n    --color-button: #b32d0f;\n    --color-letters: #f1efe9;\n    --color-title: #f76b6b;\n    --color-selected: #d0491e;\n    --color-hover: #f76b6b;\n    --color-line: #991b1b;\n    --color-ui: #f1efe9;\n    --color-words: #f1efe9;\n    --color-menu: #f1efe9;\n    /* Efectos */\n    --cell-radius: 8px;\n    --border-light: 1px solid rgb(185 28 28 / 30%);\n    --shadow-opacity: 0.5;\n    /* Animaciones */\n    --found-bg: radial-gradient(circle, #dc2626 0%, #991b1b 100%);\n    --found-scale: 1.2;\n    --found-shadow: 0 0 30px rgb(220 38 38 / 60%), 0 0 60px rgb(153 27 27 / 40%);\n    --unused-scale: 0.88;\n    --unused-opacity: 0.2;\n    --animation-duration-found: 600ms;\n    --animation-timing: cubic-bezier(0.22, 1, 0.36, 1);\n    --confetti-colors: #be5f46, #e3e2de, #6d6e71, #acbda9;\n}\n@keyframes sekiro-found {\n    0% {\n        transform: scale(1) translateX(0);\n        filter: brightness(1) blur(0);\n    }\n    10% {\n        transform: scale(1.25) translateX(-5%);\n        filter: brightness(2) blur(2px);\n    }\n    20% {\n        transform: scale(0.9) translateX(5%);\n        filter: brightness(0.8) blur(0);\n    }\n    30% {\n        transform: scale(1.15) translateX(0);\n        filter: brightness(1.5) blur(1px);\n    }\n    100% {\n        transform: scale(1) translateX(0);\n        filter: brightness(1) blur(0);\n    }\n}\n:root[data-theme='sekiro'] .found-temp {\n    animation-name: sekiro-found !important;\n}\n\n/* Theme: Zelda BOTW */\n@import url('https://fonts.googleapis.com/css2?family=Cardo:wght@400;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap');\n:root[data-theme='zelda-botw'] {\n    /* Fuentes */\n    --font-toolbar-family: 'Cardo', serif;\n    --font-title-family: 'Cardo', serif;\n    --font-cell-family: 'Noto Sans', sans-serif;\n    /* Colores - Paleta Sheikah mejorada */\n    --color-bg: linear-gradient(135deg, #0f1922 0%, #1a2f3d 50%, #243b4d 100%);\n    --color-cell: linear-gradient(145deg, rgb(38 67 87), rgb(29 53 67));\n    --color-modal: linear-gradient(\n        180deg,\n        rgb(22 40 52 / 98%) 0%,\n        rgb(15 25 34 / 95%) 100%\n    );\n    --color-button: linear-gradient(to bottom right, #5ccce0, #45b7ce);\n    --color-letters: #e8f1ff;\n    --color-title: #e8f1ff;\n    --color-selected: #25a5bc;\n    --color-hover: rgb(85 145 159 / 80%);\n    --color-line: cyan;\n    --color-ui: #7cd3e6;\n    --color-words: #e8f1ff;\n    --color-menu: #e8f1ff;\n    /* Efectos mejorados */\n    --cell-radius: 3px;\n    --border-light: 1px solid rgb(92 204 224 / 20%);\n    --shadow-opacity: 0.6;\n    --glow-effect: 0 0 20px rgb(69 183 206 / 20%);\n    /* Animaciones mejoradas */\n    --found-bg: radial-gradient(\n        circle,\n        rgb(92 204 224 / 100%) 0%,\n        rgb(69 183 206 / 90%) 50%,\n        rgb(44 149 171 / 80%) 100%\n    );\n    --found-scale: 1.15;\n    --found-shadow: 0 0 25px rgb(92 204 224 / 70%),\n        0 0 45px rgb(69 183 206 / 50%), inset 0 0 20px rgb(124 211 230 / 40%);\n    --unused-scale: 0.92;\n    --unused-opacity: 0.15;\n    --animation-duration-found: 800ms;\n    --animation-timing: cubic-bezier(0.4, 0, 0.2, 1);\n    --confetti-colors: #45b7ce, #e2e9f3, #2c95ab, #7cd3e6;\n}\n/* Modificar comportamiento de mark */\n:root[data-theme='zelda-botw'] .mark {\n    transition: all 0.2s ease;\n}\n:root[data-theme='zelda-botw'] .cell {\n    box-shadow:\n        var(--glow-effect),\n        inset 0 1px 1px rgb(255 255 255 / 10%),\n        inset 0 -1px 1px rgb(0 0 0 / 10%);\n}\n/* Actualizar animacin para que sea ms similar a los efectos del juego */\n@keyframes zelda-found {\n    0% {\n        transform: scale(1);\n        filter: brightness(1) blur(0);\n    }\n    30% {\n        transform: scale(1.15) rotate(1deg);\n        filter: brightness(2.5) blur(2px);\n        box-shadow:\n            0 0 35px rgb(92 204 224 / 80%),\n            0 0 65px rgb(69 183 206 / 60%),\n            inset 0 0 20px rgb(124 211 230 / 40%);\n    }\n    60% {\n        transform: scale(0.95) rotate(-1deg);\n        filter: brightness(0.95) blur(0);\n    }\n    100% {\n        transform: scale(1) rotate(0);\n        filter: brightness(1) blur(0);\n    }\n}\n:root[data-theme='zelda-botw'] .found-temp {\n    animation-name: zelda-found !important;\n    background: var(--found-bg);\n    border-color: rgb(124 211 230 / 40%);\n}\n\n/* Theme: Among Us */\n@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Goldman&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');\n:root[data-theme='amongus'] {\n    /* Fuentes */\n    --font-toolbar-family: 'VT323', monospace;\n    --font-title-family: 'Goldman', sans-serif;\n    --font-cell-family: 'Share Tech Mono', monospace;\n    --font-cell-weight: 600;\n    /* Colores */\n    --color-bg: linear-gradient(180deg, #0b1015 0%, #1b2a32 100%);\n    --color-cell: linear-gradient(to bottom, #1b2a32 60%, #132329 100%);\n    --color-modal: #15292f;\n    --color-button: #ff1c1c;\n    --color-letters: #fff;\n    --color-title: #fff;\n    --color-selected: #ff1c1c;\n    --color-hover: #2e5bff;\n    --color-line: #98ff4a;\n    --color-ui: #98ff4a;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --cell-radius: min(20px, 4vw);\n    --border-light: none;\n    --shadow-opacity: 0.4;\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ff1c1c, #ff4d4d);\n    --found-scale: 1.12;\n    --found-shadow: 0 6px 0 rgb(0 0 0 / 30%);\n    --unused-scale: 0.88;\n    --unused-opacity: 0.15;\n    --animation-duration-found: 700ms;\n    --animation-timing: cubic-bezier(0.2, 0, 0.4, 1);\n    --confetti-colors: #f00, #00f, #0f0, #ff0;\n}\n/* Efectos especiales Among Us */\n:root[data-theme='amongus'] .board {\n    background: linear-gradient(rgb(11 16 21 / 70%), rgb(27 42 50 / 70%));\n}\n:root[data-theme='amongus'] .cell {\n    border-radius: var(--cell-radius) var(--cell-radius)\n        calc(var(--cell-radius) * 1.8) calc(var(--cell-radius) * 1.8);\n    background: linear-gradient(180deg, #1b2a32 60%, #132329 100%);\n    box-shadow:\n        inset 0 -4px 0 #132329,\n        0 4px 8px rgb(0 0 0 / 20%);\n}\n:root[data-theme='amongus'] .hitbox:hover + .mark:not(.selected) {\n    border-radius: inherit;\n}\n:root[data-theme='amongus'] .mark.selected {\n    border-radius: inherit;\n    animation: sus-move 1s infinite;\n}\n:root[data-theme='amongus'] .title {\n    text-shadow: 0 0 3px red;\n}\n@keyframes sus-move {\n    0%,\n    100% {\n        transform: translateY(0);\n    }\n    50% {\n        transform: translateY(-3px);\n    }\n}\n@keyframes amongus-found {\n    0% {\n        transform: scale(1) translateY(0) rotate(0);\n        filter: brightness(1);\n    }\n    40% {\n        transform: scale(1.15) translateY(-10px) rotate(-3deg);\n        filter: brightness(1.4);\n    }\n    70% {\n        transform: scale(0.95) translateY(5px) rotate(3deg);\n        filter: brightness(0.9);\n    }\n    100% {\n        transform: scale(1) translateY(0) rotate(0);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='amongus'] .found-temp {\n    animation-name: amongus-found !important;\n}\n:root[data-theme='amongus'] .board svg line {\n    filter: drop-shadow(0 0 8px rgb(152 255 74 / 40%));\n}\n\n/* Theme: Minecraft */\n@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n:root[data-theme='minecraft'] {\n    --font-toolbar-family: 'VT323', monospace;\n    --font-title-family: 'Press Start 2P', monospace;\n    --font-cell-family: 'VT323', monospace;\n    /* Colores */\n    --color-bg: #45523e;\n    --color-cell: #747474;\n    --color-modal: #1a1a1a;\n    --color-button: #5794df;\n    --color-letters: #fff;\n    --color-title: #fff;\n    --color-selected: #5794df;\n    --color-hover: #549551;\n    --color-line: #ffd83d;\n    --color-ui: #66bb6a;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --border-light: 2px solid #000;\n    --shadow-opacity: 0.3;\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #5794df, #66bb6a);\n    --found-scale: 1.15;\n    --found-shadow: 3px 3px 0 #000;\n    --unused-scale: 0.85;\n    --unused-opacity: 0.2;\n    --confetti-colors: #5794df, #66bb6a, #ffd83d, #c6c6c6;\n}\n:root[data-theme='minecraft'] body {\n    background: var(--color-bg);\n}\n:root[data-theme='minecraft'] .board {\n    background: repeating-conic-gradient(\n        from 0deg at 0% 0%,\n        #45523e 0% 25%,\n        #3b4734 25% 50%,\n        #45523e 50% 75%,\n        #3b4734 75%\n    );\n    background-size: 32px 32px;\n}\n:root[data-theme='minecraft'] .cell {\n    background: repeating-conic-gradient(\n        from 0deg at 0% 0%,\n        #747474 0% 25%,\n        #656565 25% 50%,\n        #747474 50% 75%,\n        #656565 75%\n    );\n    background-size: 16px 16px;\n    image-rendering: pixelated;\n    border: 2px solid #000;\n    box-shadow:\n        inset -2px -2px 0 #404040,\n        inset 2px 2px 0 #8b8b8b;\n}\n:root[data-theme='minecraft'] .text {\n    transform: translateY(-1px);\n    text-shadow: 2px 2px #000;\n}\n/* Animacin especfica de Minecraft */\n@keyframes minecraft-found {\n    0% {\n        transform: translateY(0);\n    }\n    25% {\n        transform: translateY(-8px);\n    }\n    50% {\n        transform: translateY(-6px);\n    }\n    75% {\n        transform: translateY(-8px);\n    }\n    100% {\n        transform: translateY(0);\n    }\n}\n:root[data-theme='minecraft'] .found-temp {\n    animation: minecraft-found 600ms;\n    background: linear-gradient(45deg, #5794df, #66bb6a);\n    box-shadow: 3px 3px 0 #000;\n}\n\n/* Theme: Pac-Man */\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');\n:root[data-theme='pacman'] {\n    --font-toolbar-family: 'Press Start 2P', monospace;\n    --font-title-family: 'Press Start 2P', monospace;\n    --font-cell-family: 'VT323', monospace;\n    /* Colores */\n    --color-bg: #000;\n    --color-cell: #2121de;\n    --color-modal: rgb(0 0 64 / 95%);\n    --color-button: #2121de;\n    --color-letters: #ffd800;\n    --color-title: #ffd800;\n    --color-selected: #f00;\n    --color-hover: rgb(145 0 0);\n    --color-line: #0ff;\n    --color-ui: #ffb897;\n    --color-words: #ffd800;\n    --color-menu: #0ff;\n    /* Efectos */\n    --cell-radius: 4px;\n    --border-light: 1px solid #2121ff;\n    --line-cap: round;\n    --line-dash: 1 15;\n    --line-animation: pacman-dots 0.5s linear infinite;\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #ffd700, #ff7f00);\n    --found-scale: 1.15;\n    --found-shadow: 0 0 20px rgb(255 215 0 / 60%);\n    --unused-scale: 0.85;\n    --unused-opacity: 0.3;\n    --animation-duration-found: 500ms;\n    --animation-timing: cubic-bezier(0.36, 0, 0.66, 1);\n    --confetti-colors: #ffda00, #00008b, #f00, #fff;\n}\n:root[data-theme='pacman'] .cell {\n    border: 1px solid #2121ff;\n    box-shadow: 0 0 10px rgb(33 33 255 / 30%);\n}\n@keyframes pacman-dots {\n    to {\n        stroke-dashoffset: -16;\n    }\n}\n@keyframes pacman-found {\n    0% {\n        transform: scale(1);\n    }\n    25% {\n        transform: scale(1.2) rotate(-15deg);\n    }\n    50% {\n        transform: scale(0.8) rotate(15deg);\n    }\n    75% {\n        transform: scale(1.1);\n    }\n    100% {\n        transform: scale(1);\n    }\n}\n:root[data-theme='pacman'] .found-temp {\n    animation: pacman-found var(--animation-duration-found)\n        var(--animation-timing);\n    background: linear-gradient(45deg, #ffd700, #ff7f00);\n    box-shadow: 0 0 20px rgb(255 215 0 / 60%);\n}\n\n/* Theme: Space Invaders */\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');\n:root[data-theme='spaceinvaders'] {\n    --font-toolbar-family: 'Press Start 2P', monospace;\n    --font-title-family: 'Press Start 2P', monospace;\n    --font-cell-family: 'VT323', monospace;\n    /* Colores */\n    --color-bg: #000;\n    --color-cell: #111;\n    --color-modal: rgb(0 0 0 / 90%);\n    --color-button: #f00;\n    --color-letters: #fff;\n    --color-title: #fff;\n    --color-selected: #f00;\n    --color-hover: #0f0;\n    --color-line: #0f0;\n    --color-ui: #0f0;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --border-light: 1px solid #0f0;\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #f00, #ff0);\n    --found-scale: 1.2;\n    --found-shadow: 0 0 20px rgb(255 0 0 / 70%);\n    --unused-scale: 0.8;\n    --unused-opacity: 0.15;\n    --animation-duration-found: 600ms;\n    --confetti-colors: #0f0, #f00, #ff0, #fff;\n}\n:root[data-theme='spaceinvaders'] body::before {\n    content: '';\n    position: fixed;\n    inset: 0;\n    background: radial-gradient(2px 2px at 20px 30px, #fff, transparent 70%),\n        radial-gradient(2px 2px at 40px 70px, #fff, transparent 70%),\n        radial-gradient(3px 3px at 50px 160px, #fff, transparent 70%),\n        radial-gradient(2px 2px at 80px 120px, #fff, transparent 70%);\n    background-repeat: repeat;\n    background-size: 150px 150px;\n    animation: space-stars 12s linear infinite;\n    pointer-events: none;\n    opacity: 0.8;\n}\n:root[data-theme='spaceinvaders'] .toolbar {\n    filter: drop-shadow(0 0 10px rgb(0 255 0 / 100%));\n}\n:root[data-theme='spaceinvaders'] .cell,\n:root[data-theme='spaceinvaders'] .word {\n    box-shadow: inset 0 0 10px rgb(0 255 0 / 60%);\n}\n@keyframes space-stars {\n    from {\n        background-position: 0 0;\n    }\n    to {\n        background-position: 200px 200px;\n    }\n}\n@keyframes invader-found {\n    0% {\n        transform: translateY(0) scale(1);\n    }\n    25% {\n        transform: translateY(-15px) scale(1.2);\n    }\n    50% {\n        transform: translateY(5px) scale(0.8);\n    }\n    75% {\n        transform: translateY(-5px) scale(1.1);\n    }\n    100% {\n        transform: translateY(0) scale(1);\n    }\n}\n:root[data-theme='spaceinvaders'] .found-temp {\n    animation: invader-found var(--animation-duration-found) steps(4);\n    background: linear-gradient(45deg, #f00, #ff0);\n    box-shadow: 0 0 20px rgb(255 0 0 / 70%);\n}\n:root[data-theme='spaceinvaders'] .mark.selected {\n    animation: invader-selected 1s steps(2) infinite;\n}\n@keyframes invader-selected {\n    0%,\n    100% {\n        transform: translateY(0);\n    }\n    50% {\n        transform: translateY(-2px);\n    }\n}\n\n/* Theme: Tetris */\n@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');\n:root[data-theme='tetris'] {\n    --font-toolbar-family: 'Press Start 2P', monospace;\n    --font-title-family: 'VT323', monospace;\n    --font-cell-family: 'Press Start 2P', monospace;\n    /* Colores */\n    --color-bg: #000;\n    --color-cell: #0341ae;\n    --color-modal: #000;\n    --color-button: #0341ae;\n    --color-letters: #fff;\n    --color-title: #fff;\n    --color-selected: #0f0;\n    --color-hover: #40c2ff;\n    --color-line: #ffa500;\n    --color-ui: #17b2ff;\n    --color-words: #fff;\n    --color-menu: #fff;\n    /* Efectos */\n    --border-light: 2px solid #17b2ff;\n    /* Animaciones */\n    --found-bg: linear-gradient(45deg, #f00, #ff8e00);\n    --found-scale: 1.2;\n    --found-shadow: 0 0 20px #17b2ff;\n    --unused-scale: 0.8;\n    --unused-opacity: 0.25;\n    --animation-duration-found: 800ms;\n    --confetti-colors: #f00, #0f0, #00f, #ff0;\n}\n:root[data-theme='tetris'] .board {\n    background: repeating-linear-gradient(\n        0deg,\n        #000,\n        #000 1px,\n        #111 1px,\n        #111 2px\n    );\n}\n:root[data-theme='tetris'] .text {\n    margin-left: calc(var(--cell-size) * 0.07);\n    margin-top: calc(var(--cell-size) * 0.1);\n}\n@keyframes tetris-found {\n    0% {\n        transform: rotate(0) scale(1);\n        filter: brightness(1);\n    }\n    50% {\n        transform: rotate(180deg) scale(0.8);\n        filter: brightness(1.5);\n    }\n    100% {\n        transform: rotate(360deg) scale(1);\n        filter: brightness(1);\n    }\n}\n:root[data-theme='tetris'] .found-temp {\n    animation: tetris-found var(--animation-duration-found)\n        var(--animation-timing);\n    background: linear-gradient(45deg, #f00, #ff8e00);\n    box-shadow: 0 0 20px #17b2ff;\n}\n\n/* Estilos de scroll */\n/* Firefox */\n.theme-grid {\n    /* Solo aplicar color en Firefox */\n    scrollbar-color: var(--color-ui) var(--color-bg);\n}\n\n/* Solo aplicar width en Firefox */\n@supports (scrollbar-width: thin) {\n    .theme-grid {\n        scrollbar-width: thin;\n    }\n}\n\n/* WebKit (Chrome, Safari, Edge, etc) */\n@supports selector(::-webkit-scrollbar) {\n    .theme-grid::-webkit-scrollbar {\n        width: 8px;\n    }\n\n    .theme-grid::-webkit-scrollbar-track {\n        background: var(--background);\n        border-radius: 4px;\n    }\n\n    .theme-grid::-webkit-scrollbar-thumb {\n        background: var(--color-ui);\n        border-radius: 4px;\n    }\n\n    .theme-grid::-webkit-scrollbar-thumb:hover {\n        background: var(--accent);\n    }\n}\n`;\nexport default css;\n","const themes = {\n  \"categories\": {\n    \"basic\": {\n      \"themes\": [\n        {\n          \"file\": \"8bitadventure.css\",\n          \"name\": \"8-Bit\"\n        },\n        {\n          \"file\": \"arcade.css\",\n          \"name\": \"Arcade\"\n        },\n        {\n          \"file\": \"battleready.css\",\n          \"name\": \"Battle\"\n        },\n        {\n          \"file\": \"classicconsole.css\",\n          \"name\": \"Classic\"\n        },\n        {\n          \"file\": \"cyberpunk.css\",\n          \"name\": \"Cyberpunk\"\n        },\n        {\n          \"file\": \"dark.css\",\n          \"name\": \"Dark\",\n          \"isDefault\": true\n        },\n        {\n          \"file\": \"digitaldawn.css\",\n          \"name\": \"Dawn\"\n        },\n        {\n          \"file\": \"dreams.css\",\n          \"name\": \"Dreams\"\n        },\n        {\n          \"file\": \"elementalfury.css\",\n          \"name\": \"Elemental\"\n        },\n        {\n          \"file\": \"fantasy.css\",\n          \"name\": \"Fantasy\"\n        },\n        {\n          \"file\": \"forest.css\",\n          \"name\": \"Forest\"\n        },\n        {\n          \"file\": \"gameoverglow.css\",\n          \"name\": \"Game Over\"\n        },\n        {\n          \"file\": \"glitcheffect.css\",\n          \"name\": \"Glitch\"\n        },\n        {\n          \"file\": \"herojourney.css\",\n          \"name\": \"Hero\"\n        },\n        {\n          \"file\": \"light.css\",\n          \"name\": \"Light\"\n        },\n        {\n          \"file\": \"mint.css\",\n          \"name\": \"Mint\"\n        },\n        {\n          \"file\": \"mysticshadows.css\",\n          \"name\": \"Mystic\"\n        },\n        {\n          \"file\": \"neon.css\",\n          \"name\": \"Neon\"\n        },\n        {\n          \"file\": \"neonnostalgia.css\",\n          \"name\": \"Nostalgia\"\n        },\n        {\n          \"file\": \"odyssey.css\",\n          \"name\": \"Odyssey\"\n        },\n        {\n          \"file\": \"pixelparadise.css\",\n          \"name\": \"Paradise\"\n        },\n        {\n          \"file\": \"pixel.css\",\n          \"name\": \"Pixel\"\n        },\n        {\n          \"file\": \"retrorainbow.css\",\n          \"name\": \"Rainbow\"\n        },\n        {\n          \"file\": \"retroarcade.css\",\n          \"name\": \"Retro\"\n        },\n        {\n          \"file\": \"solarized.css\",\n          \"name\": \"Solarized\"\n        },\n        {\n          \"file\": \"stealth.css\",\n          \"name\": \"Stealth\"\n        },\n        {\n          \"file\": \"synthwave.css\",\n          \"name\": \"Synthwave\"\n        },\n        {\n          \"file\": \"technovibes.css\",\n          \"name\": \"Techno\"\n        },\n        {\n          \"file\": \"vintagevibes.css\",\n          \"name\": \"Vintage\"\n        }\n      ]\n    },\n    \"modern-games\": {\n      \"themes\": [\n        {\n          \"file\": \"bloodborne.css\",\n          \"name\": \"Bloodborne\"\n        },\n        {\n          \"file\": \"darksouls.css\",\n          \"name\": \"Dark Souls\"\n        },\n        {\n          \"file\": \"eldenring.css\",\n          \"name\": \"Elden Ring\"\n        },\n        {\n          \"file\": \"portal.css\",\n          \"name\": \"Portal\"\n        },\n        {\n          \"file\": \"sekiro.css\",\n          \"name\": \"Sekiro\"\n        },\n        {\n          \"file\": \"zelda-botw.css\",\n          \"name\": \"Zelda BOTW\"\n        }\n      ]\n    },\n    \"retro-games\": {\n      \"themes\": [\n        {\n          \"file\": \"amongus.css\",\n          \"name\": \"Among Us\"\n        },\n        {\n          \"file\": \"minecraft.css\",\n          \"name\": \"Minecraft\"\n        },\n        {\n          \"file\": \"pacman.css\",\n          \"name\": \"Pac-Man\"\n        },\n        {\n          \"file\": \"spaceinvaders.css\",\n          \"name\": \"Space Invaders\"\n        },\n        {\n          \"file\": \"tetris.css\",\n          \"name\": \"Tetris\"\n        }\n      ]\n    }\n  }\n};\n\nexport { themes as default };\n","import { Capacitor } from '@capacitor/core';\nimport { S as Storage } from './store.js';\nimport css from './styles.js';\nimport themes from './themes.js';  // Agregar esta importacin\n\nclass ThemeSelector {\n    constructor() {\n        this.currentTheme = 'dark';\n        this.themesData = themes;  // Guardar referencia a los temas\n        this.availableThemes = new Map();\n        this.categoryOrder = [];\n        this.loadedStylesheets = new Set();\n        this.loadedFonts = new Set();\n        this.singleWordTerms = new Set(['pac-man']);\n        this._styleCache = new Map();\n        this._previewStyles = new Map();\n        this._themeLoadPromise = null;\n        this._activeTheme = null;\n        this._pendingThemeLoad = null;\n        this._activeStyleElement = null;\n\n        // Ya no inyectar los estilos en el constructor\n        this._styleElement = document.createElement('style');\n        this._themesStyleElement = document.createElement('style');\n        this._themesStyleElement.id = 'theme-styles';\n        \n        // No acceder al DOM en el constructor\n        this._themeGrid = null;\n    }\n\n    loadThemeData() {\n        if (!this.themesData?.categories) {\n            console.error(' No se encontraron datos de temas');\n            return;\n        }\n\n        // Limpiar datos previos\n        this.categoryOrder = [];\n        this.availableThemes.clear();\n\n        Object.entries(this.themesData.categories).forEach(([category, data]) => {\n            this.categoryOrder.push(category);\n            data.themes.forEach(theme => {\n                this.availableThemes.set(theme.file.replace('.css', ''), theme.name);\n            });\n        });\n\n        // Generar el grid solo si el elemento existe\n        this._themeGrid = document.querySelector('.theme-grid');\n        if (this._themeGrid) {\n            this.generateThemeGrid();\n        }\n\n        logThemes({\n            categoras: this.categoryOrder,\n            temas: Array.from(this.availableThemes.entries())\n        }, 'loadThemeData');\n    }\n\n    generateThemeGrid() {\n        // Asegurar que tenemos acceso al elemento grid\n        if (!this._themeGrid) {\n            console.error(' Elemento theme-grid no encontrado');\n            return;\n        }\n\n        this._themeGrid.innerHTML = '';\n        \n        Object.entries(this.themesData.categories).forEach(([category, data]) => {\n            // Convertir nombre de categora a formato legible\n            const displayName = category.split('-').map(word => \n                word.charAt(0).toUpperCase() + word.slice(1)\n            ).join(' ');\n\n            // Agregar encabezado de categora\n            const categoryHeader = document.createElement('div');\n            categoryHeader.className = 'theme-category';\n            categoryHeader.textContent = displayName;\n            this._themeGrid.appendChild(categoryHeader);\n\n            // Agregar temas de la categora\n            data.themes.forEach(theme => {\n                const themeName = theme.file.replace('.css', '');\n                const option = document.createElement('button');\n                option.className = 'theme-option';\n                option.dataset.theme = themeName;\n\n                const wrapper = document.createElement('div');\n                wrapper.className = 'preview-wrapper';\n\n                const previewCell = document.createElement('div');\n                previewCell.className = 'preview-cell';\n                \n                // Agregar texto de muestra\n                const previewText = document.createElement('div');\n                previewText.className = 'preview-text';\n                previewText.textContent = 'A';\n                previewCell.appendChild(previewText);\n                \n                const previewMark = document.createElement('div');\n                previewMark.className = 'preview-mark';\n                previewCell.appendChild(previewMark);\n\n                const previewTitle = document.createElement('div');\n                previewTitle.className = 'preview-title';\n                previewTitle.textContent = theme.name;\n\n                wrapper.appendChild(previewCell);\n                wrapper.appendChild(previewTitle);\n                option.appendChild(wrapper);\n\n                // Agregar event listener\n                option.addEventListener('click', () => this.setTheme(themeName));\n\n                this._themeGrid.appendChild(option);\n            });\n        });\n\n        // Agregar manejador para el botn de retorno\n        const backButton = document.querySelector('.back-button');\n        if (backButton) {\n            backButton.addEventListener('click', () => {\n                const themeModal = document.getElementById('theme-modal');\n                const mainModal = document.getElementById('modal');\n                if (themeModal && mainModal) {\n                    themeModal.classList.remove('active');\n                    mainModal.classList.add('active');\n                }\n            });\n        }\n    }\n\n    async injectBaseStyles() {\n        console.log(' Inyectando estilos base...');\n        \n        // 1. Inyectar estilos base primero\n        this._styleElement.textContent = css;\n        document.head.appendChild(this._styleElement);\n        \n        // 2. Asegurarnos de que los temas estn cargados\n        this.loadThemeData();\n        \n        // 3. Inyectar estilos de temas\n        if (!this._themesStyleElement) {\n            this._themesStyleElement = document.createElement('style');\n            this._themesStyleElement.id = 'theme-styles';\n        }\n        this._themesStyleElement.textContent = this.getThemeStyles();\n        document.head.appendChild(this._themesStyleElement);\n        \n        // 4. Esperar a que se procesen los estilos\n        await new Promise(resolve => {\n            requestAnimationFrame(() => setTimeout(resolve, 100));\n        });\n    }\n\n    getThemeStyles() {\n        if (!this.themesData?.categories) {\n            console.error(' No hay datos de temas');\n            return '';\n        }\n\n        const styles = [];\n        Object.values(this.themesData.categories).forEach(category => {\n            category.themes.forEach(theme => {\n                const themeName = theme.file.replace('.css', '');\n                const themeStyles = this.findThemeStylesInCss(themeName);\n                if (themeStyles) {\n                    styles.push(themeStyles);\n                }\n            });\n        });\n\n        return styles.join('\\n\\n');\n    }\n\n    findThemeStylesInCss(themeName) {\n        // Buscar la seccin del tema en el CSS\n        const startMarker = `[data-theme='${themeName}']`;\n        const cssContent = css;\n        \n        let startIndex = cssContent.indexOf(startMarker);\n        if (startIndex === -1) return null;\n\n        // Encontrar el bloque completo del tema\n        let braceCount = 0;\n        let endIndex = startIndex;\n        let inBlock = false;\n\n        for (let i = startIndex; i < cssContent.length; i++) {\n            const char = cssContent[i];\n            if (char === '{') {\n                braceCount++;\n                inBlock = true;\n            } else if (char === '}') {\n                braceCount--;\n            }\n\n            if (inBlock && braceCount === 0) {\n                endIndex = i + 1;\n                break;\n            }\n        }\n\n        return cssContent.substring(startIndex, endIndex);\n    }\n\n    async initialize() {\n        console.group('[ThemeSelector] Inicializando');\n        try {\n            const savedTheme = await Storage.get(Storage.KEYS.THEME, 'dark');\n            console.log('Tema guardado:', savedTheme);\n            \n            this._pendingTheme = savedTheme;\n            \n            // Inyectar estilos base y cargar datos despus que el DOM est listo\n            await this.injectBaseStyles();\n            this.loadThemeData();\n            \n            console.log(' ThemeSelector preparado');\n            return true;\n        } catch (error) {\n            console.error(' Error:', error);\n            document.documentElement.setAttribute('data-theme', 'dark');\n            return false;\n        } finally {\n            console.groupEnd();\n        }\n    }\n\n    // Nuevo mtodo para aplicar el tema pendiente\n    async applyPendingTheme() {\n        if (!this._pendingTheme) return;\n\n        console.log(' Aplicando tema:', this._pendingTheme);\n        \n        try {\n            // 1. Cargar fuentes\n            await this.loadFontsForTheme(this._pendingTheme);\n            \n            // 2. Aplicar tema\n            document.documentElement.setAttribute('data-theme', this._pendingTheme);\n            this._activeTheme = this._pendingTheme;\n\n            // 3. Esperar fuentes y dar tiempo extra\n            await document.fonts.ready;\n            await new Promise(resolve => setTimeout(resolve, 100));\n\n            this._pendingTheme = null;\n            console.log(' Tema aplicado');\n        } catch (error) {\n            console.error(' Error aplicando tema:', error);\n        }\n    }\n\n    async parseFonts(css) {\n        const fontRegex = /@import url\\(['\"]([^'\"]+)['\"]\\);/g;\n        const fonts = new Set();\n        let match;\n        \n        while ((match = fontRegex.exec(css)) !== null) {\n            fonts.add(match[1]);\n        }\n\n        return Array.from(fonts);\n    }\n\n    async loadFontsForTheme(themeName) {\n        try {\n            // Extraer todas las fuentes del CSS\n            const fonts = await this.parseFonts(css);\n            \n            // Crear los elementos link para cada fuente\n            const links = fonts.map(fontUrl => {\n                const link = document.createElement('link');\n                link.rel = 'stylesheet';\n                link.href = fontUrl;\n                return link;\n            });\n\n            // Esperar a que todas las fuentes se carguen\n            await Promise.all(\n                links.map(link => {\n                    return new Promise((resolve, reject) => {\n                        link.onload = () => resolve();\n                        link.onerror = () => reject();\n                        document.head.appendChild(link);\n                    });\n                })\n            );\n\n            await document.fonts.ready;\n            console.log(' Fuentes cargadas para el tema:', themeName);\n        } catch (error) {\n            console.error(' Error cargando fuentes:', error);\n        }\n    }\n\n    async preloadFontsForTheme(themeName) {\n        try {\n            console.log(' Precargando fuentes para:', themeName);\n            const fonts = await this.parseFonts(css);\n            \n            // Cargar fuentes directamente sin preload\n            const links = fonts.map(fontUrl => {\n                const link = document.createElement('link');\n                link.rel = 'stylesheet';  // Usar stylesheet en vez de preload\n                link.href = fontUrl;\n                return link;\n            });\n\n            // Agregar links y esperar a que carguen\n            await Promise.all(\n                links.map(link => new Promise((resolve) => {\n                    link.onload = resolve;\n                    link.onerror = resolve; // No bloquear en error\n                    document.head.appendChild(link);\n                }))\n            );\n\n            // Esperar a que las fuentes estn listas\n            await document.fonts.ready;\n            console.log(' Fuentes cargadas');\n        } catch (error) {\n            console.error(' Error cargando fuentes:', error);\n        }\n    }\n\n    async setTheme(themeName) {\n        if (this._activeTheme === themeName) return true;\n\n        try {\n            console.group(' Cambiando tema a:', themeName);\n            \n            // 1. Aplicar tema inmediatamente\n            document.documentElement.setAttribute('data-theme', themeName);\n            \n            // 2. Cargar fuentes del tema\n            await this.loadFontsForTheme(themeName);\n            await document.fonts.ready;\n            \n            // 3. Actualizar estado y guardar\n            this._activeTheme = themeName;\n            await Storage.setCurrentTheme(themeName);\n            \n            // 4. Notificar cambio\n            window.dispatchEvent(new CustomEvent('themechange', {\n                detail: { theme: themeName }\n            }));\n\n            console.log(' Tema aplicado');\n            console.groupEnd();\n            return true;\n        } catch (error) {\n            console.error(' Error aplicando tema:', error);\n            console.groupEnd();\n            return false;\n        }\n    }\n}\n\n// Evitar logs duplicados\nconst loggedThemes = new Set();\n\nfunction logThemes(themes, source) {\n    const key = `${source}-${JSON.stringify(themes)}`;\n    if (!loggedThemes.has(key)) {\n        console.log(' Temas cargados:', themes);\n        loggedThemes.add(key);\n    }\n}\n\nexport { ThemeSelector as T };\n","import { Capacitor } from '@capacitor/core';\nimport { N as NativeServices } from './platform.js';\n\nclass TitleFitter {\n    constructor(titleElement) {\n        this.titleElement = titleElement;\n        this.observer = new MutationObserver(() => this.fit());\n\n        this.observe();\n        this.bindEvents();\n    }\n\n    observe() {\n        this.observer.observe(this.titleElement, {\n            childList: true,\n            characterData: true,\n            subtree: true\n        });\n    }\n\n    bindEvents() {\n        window.addEventListener('resize', () => {\n            requestAnimationFrame(() => this.fit());\n        });\n    }\n\n    async fit(attempt = 1) {\n        const MAX_ATTEMPTS = 3;\n        const RETRY_DELAY = 50;\n\n        if (this._fitInProgress) return;\n        this._fitInProgress = true;\n\n        try {\n            const title = this.titleElement;\n            const container = title.parentElement;\n            const isPlatformAndroid = Capacitor.getPlatform() === 'android';\n\n            // Clculos iniciales con margen extra\n            const computedStyle = getComputedStyle(container);\n            const containerWidth = container.clientWidth;\n            const containerPadding = parseFloat(computedStyle.paddingLeft) +\n                parseFloat(computedStyle.paddingRight);\n            const safetyMargin = isPlatformAndroid ?\n                containerWidth * 0.05 : // 5% en Android\n                Math.min(16, containerWidth * 0.03); // 3% en Web\n            const availableWidth = containerWidth - containerPadding - safetyMargin;\n\n            // Resetear y medir ttulo\n            title.style = '';\n            // Forzar reclculo\n            await document.fonts.ready;\n            title.style.display = 'inline-block';\n            void title.offsetWidth;\n\n            const baseStyle = getComputedStyle(title);\n            const currentFontSize = parseFloat(baseStyle.fontSize);\n\n            // Crear elemento de medicin temporal\n            const measureEl = document.createElement('span');\n            measureEl.style.cssText = `\n                position: absolute;\n                visibility: hidden;\n                white-space: nowrap;\n                font-family: ${baseStyle.fontFamily};\n                font-size: ${currentFontSize}px;\n            `;\n            measureEl.textContent = title.textContent;\n            document.body.appendChild(measureEl);\n            const titleWidth = measureEl.offsetWidth;\n            document.body.removeChild(measureEl);\n\n            // Solo loggear en el primer intento\n            if (attempt === 1) {\n                await NativeServices.logToNative(` [${isPlatformAndroid ? 'Android' : 'Web'}] Ajuste inicial`, {\n                    texto: title.textContent,\n                    contenedor: Math.round(containerWidth),\n                    disponible: Math.round(availableWidth),\n                    anchoActual: Math.round(titleWidth)\n                });\n            }\n\n            if (titleWidth > availableWidth) {\n                // Hacer el ajuste ms agresivo en cada intento\n                const baseScaleFactor = isPlatformAndroid ? 0.5 : 0.85;\n                const attemptReduction = 0.15 * (attempt - 1);\n                const scaleFactor = Math.max(0.3, baseScaleFactor - attemptReduction);\n\n                // Aplicar escala con factor adicional de seguridad\n                const scale = (availableWidth / titleWidth) * scaleFactor * 0.9; // 10% extra de reduccin\n\n                // Lmites ms estrictos\n                const minFontSize = isPlatformAndroid ? 14 : 18;\n                const maxSize = isPlatformAndroid ?\n                    containerWidth * 0.05 :\n                    containerWidth * 0.08;\n\n                // Aplicar nuevo tamao con redondeo a la baja\n                let newSize = Math.floor(Math.max(\n                    minFontSize,\n                    Math.min(currentFontSize * scale, maxSize)\n                ));\n\n                // Log de clculos\n                await NativeServices.logToNative(' Clculos', {\n                    factorEscala: scaleFactor,\n                    escalaFinal: scale.toFixed(2),\n                    fuenteMinima: Math.round(minFontSize),\n                    fuenteNueva: newSize,\n                    maximoPermitido: Math.round(maxSize)\n                });\n\n                // Aplicar y medir hasta encontrar un tamao que funcione\n                while (newSize >= minFontSize) {\n                    title.style.fontSize = `${newSize}px`;\n                    // Forzar reclculo\n                    void title.offsetWidth;\n                    await new Promise(resolve => requestAnimationFrame(resolve));\n\n                    // Medir con elemento temporal\n                    measureEl.style.fontSize = `${newSize}px`;\n                    document.body.appendChild(measureEl);\n                    const finalWidth = measureEl.offsetWidth;\n                    document.body.removeChild(measureEl);\n\n                    const resultado = {\n                        anchoFinal: Math.round(finalWidth),\n                        anchoDisponible: Math.round(availableWidth),\n                        ajustado: finalWidth <= availableWidth,\n                        porcentajeReduccion: Math.round((1 - (newSize / currentFontSize)) * 100)\n                    };\n                    await NativeServices.logToNative(' Resultado', resultado);\n\n                    // Solo loggear resultado final si fue exitoso\n                    if (finalWidth <= availableWidth) {\n                        await NativeServices.logToNative(' Ajuste completado');\n                        return;\n                    }\n\n                    newSize = Math.floor(newSize * 0.9); // Reducir 10% en cada intento\n                    if (newSize < minFontSize) break;\n                }\n\n                if (attempt < MAX_ATTEMPTS) {\n                    await NativeServices.logToNative(' Reintentando ajuste...');\n                    await new Promise(resolve => setTimeout(resolve, RETRY_DELAY));\n                    return this.fit(attempt + 1);\n                }\n            } else {\n                await NativeServices.logToNative(' No necesita ajuste');\n            }\n\n        } catch (error) {\n            console.error('Error ajustando ttulo:', error);\n        } finally {\n            this._fitInProgress = false;\n            // Restaurar display original\n            this.titleElement.style.display = '';\n        }\n    }\n\n    destroy() {\n        this.observer.disconnect();\n    }\n}\n\nexport { TitleFitter as T };\n","import { Capacitor } from '@capacitor/core';\nimport { L as LEVEL_ORDER, a as LEVELS } from './levels.js';\nimport { S as SelectionManager } from './board.js';\nimport { A as AnimationManager } from './fx.js';\nimport { T as ThemeSelector } from './theme.js';\nimport { S as Storage } from './store.js';\nimport { N as NativeServices } from './platform.js';\nimport { T as TitleFitter } from './text.js';\nimport themes from './themes.js';\n\nclass GameState {\n    // Prevenir mltiples instancias\n    static instance = null;\n\n    constructor() {\n        // Singleton pattern\n        if (GameState.instance) {\n            return GameState.instance;\n        }\n        GameState.instance = this;\n\n        console.group(' GameState Constructor');\n\n        // Inyectar estilos base solo una vez\n        const baseStyleId = 'base-styles';\n        if (!document.getElementById(baseStyleId)) {\n            console.log(' Inyectando estilos base...');\n            const styleEl = document.createElement('style');\n            styleEl.id = baseStyleId;\n\n            styleEl.textContent = `\n                @keyframes rotation {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                }\n                .loader {\n                    width: 48px;\n                    height: 48px;\n                    border: 5px solid #fff;\n                    border-bottom-color: transparent;\n                    border-radius: 50%;\n                    display: inline-block;\n                    animation: rotation 1s linear infinite;\n                }\n                .js-loading-overlay {\n                    position: fixed;\n                    inset: 0;\n                    background: #121212;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    z-index: 9999;\n                    opacity: 1;\n                    transition: opacity 0.3s ease-out;\n                }\n                .js-loading-overlay.hidden {\n                    opacity: 0;\n                    pointer-events: none;\n                }\n            `;\n            document.head.appendChild(styleEl);\n        }\n\n        // Eliminar los estilos base inline ya que ahora estn en el HTML\n        if (document.getElementById(baseStyleId)) {\n            document.getElementById(baseStyleId).remove();\n        }\n\n        // Inicializar ThemeSelector una sola vez\n        if (!window.themeSelector) {\n            window.themeSelector = new ThemeSelector();\n        }\n        this.themeSelector = window.themeSelector;\n\n        console.log(' GameState inicializado');\n        console.groupEnd();\n        this._lastAppliedTheme = null;\n    }\n\n    async initialize() {\n        console.group(' Inicializacin');\n        try {\n            // 1. Preparar tema y recursos primero\n            await this.themeSelector.injectBaseStyles();\n            await this.themeSelector.initialize();\n            const savedTheme = await Storage.get(Storage.KEYS.THEME, 'dark');\n            \n            // 2. Inicializar servicios base\n            const [themeResult] = await Promise.all([\n                this.themeSelector.setTheme(savedTheme),\n                Storage.initialize()\n            ]);\n\n            // 3. UI y nivel\n            this.initializeElements();\n            this.initializeState();\n            this.initializeBoard();\n\n            // 4. Cargar nivel\n            const defaultLevel = LEVEL_ORDER[0];\n            const savedLevel = await Storage.getCurrentLevel();\n            const levelToLoad = (savedLevel && LEVELS[savedLevel]) ? savedLevel : defaultLevel;\n            this.currentLevel = {\n                ...LEVELS[levelToLoad],\n                id: levelToLoad,\n                name: LEVELS[levelToLoad].name\n            };\n\n            // 5. Eventos y UI inicial\n            this.bindEvents();\n            await this.updateAllWithoutTitleFit(levelToLoad);\n\n            // 6. Notificar inicializacin antes de ajustar ttulo\n            document.dispatchEvent(new CustomEvent('initialization-complete'));\n\n            // 7. Ajustar ttulo\n            if (this.titleFitter) {\n                await this.titleFitter.fit();\n                requestAnimationFrame(() => {\n                    document.dispatchEvent(new CustomEvent('title-adjusted', {\n                        detail: { final: true }\n                    }));\n                });\n            }\n\n            // 8. Inicializar SW al final, de forma no bloqueante\n            NativeServices.initializeServiceWorker().then(() => {\n                document.dispatchEvent(new CustomEvent('sw-ready'));\n            });\n\n            console.log(' Inicializacin completada');\n        } catch (error) {\n            console.error(' Error:', error);\n            this.handleInitializationError();\n        }\n        console.groupEnd();\n    }\n\n    // Nuevo mtodo para manejar errores de inicializacin\n    handleInitializationError() {\n        const defaultLevel = LEVEL_ORDER[0];\n        console.log('Recuperando con nivel por defecto:', defaultLevel);\n\n        this.currentLevel = {\n            ...LEVELS[defaultLevel],\n            id: defaultLevel,\n            name: LEVELS[defaultLevel].name\n        };\n\n        // Asegurar UI bsica\n        this.initializeElements();\n        this.initializeState();\n        this.initializeBoard();\n        this.updateAll(defaultLevel);\n        this.showContent();\n    }\n\n    async onAppPause() {\n        // Pausar el timer si est corriendo\n        if (this.timer && !this.timer.isPaused) {\n            this.pauseTimer();\n            this._wasTimerRunning = true;\n        }\n\n        // Solo guardar el nivel actual\n        await Storage.setCurrentLevel(this.currentLevel.id);\n    }\n\n    onAppResume() {\n        // Verificar si hay que limpiar datos\n        this.checkAndHandleDataReset();\n\n        // Reanudar timer solo si estaba corriendo antes\n        if (this._wasTimerRunning && this.timer?.isPaused) {\n            this.resumeTimer();\n            this._wasTimerRunning = false;\n        }\n    }\n\n    async saveGameState() {\n        try {\n            // Solo guardamos el nivel actual, el tema y las configuraciones\n            // El progreso se reinicia al volver a cargar\n            await Storage.setCurrentLevel(this.currentLevel.id);\n        } catch (error) {\n            console.error('Error guardando estado:', error);\n        }\n    }\n\n    async checkAndHandleDataReset() {\n        try {\n            // Intentar leer algn valor para ver si el storage fue limpiado\n            const theme = await Storage.get(Storage.KEYS.THEME);\n            if (!theme) {\n                await this.handleDataReset();\n            }\n        } catch (error) {\n            console.error('Error verificando datos:', error);\n            await this.handleDataReset();\n        }\n    }\n\n    async handleDataReset() {\n        try {\n            // Reinicializar storage con valores por defecto\n            await Storage.resetToDefaults();\n\n            // Recargar tema\n            await this.themeSelector.initialize();\n\n            // Reiniciar nivel al primero\n            await this.loadLevel(LEVEL_ORDER[0]);\n\n        } catch (error) {\n            console.error('Error reinicializando datos:', error);\n        }\n    }\n\n    async initializeGame() {\n        await Storage.initialize();\n\n        // Cargar el ltimo nivel jugado\n        const savedLevel = await Storage.get(Storage.KEYS.CURRENT_LEVEL, LEVEL_ORDER[0]);\n        this.currentLevel = { ...LEVELS[savedLevel], id: savedLevel };\n    }\n\n    async initPhase1() {\n        try {\n            await this.themeSelector.initialize();\n            this.initializeElements();\n            this.initializeState();\n            this.initializeBoard();\n            this.bindEvents();\n        } catch (error) {\n            console.error('Error in initPhase1:', error);\n            document.documentElement.setAttribute('data-theme', 'dark');\n        }\n    }\n\n    async initPhase2() {\n        // Cargar el ltimo nivel jugado\n        const savedLevel = await Storage.get(Storage.KEYS.CURRENT_LEVEL, LEVEL_ORDER[0]);\n        this.currentLevel = { ...LEVELS[savedLevel], id: savedLevel };\n\n        this.updateAll(this.currentLevel.id);\n        this.showContent();\n    }\n\n    setTheme(themeName) {\n        return this.themeSelector.setTheme(themeName);\n    }\n\n    // Nuevo mtodo para manejar cambios de tema\n    async handleThemeChange(themeName) {\n        console.group(' Cambio de tema:', themeName);\n        try {\n            if (this._lastAppliedTheme === themeName) {\n                console.log(' Tema ya aplicado, omitiendo...');\n                return;\n            }\n            console.log(' Aplicando tema...');\n            await this.themeSelector.setTheme(themeName);\n\n            this._lastAppliedTheme = themeName;\n\n            console.log(' Reseteando estilos del ttulo...');\n            this.titleElement.style = '';\n\n            console.log(' Esperando fuentes...');\n            await document.fonts.ready;\n\n            const computedStyle = getComputedStyle(this.titleElement);\n            console.log(' Precargando fuente:', computedStyle.fontFamily);\n            await document.fonts.load(`${computedStyle.fontSize} ${computedStyle.fontFamily}`);\n\n            if (this.titleFitter) {\n                console.log(' Ajustando ttulo...');\n                await this.titleFitter.fit();\n            }\n\n            console.log(' Actualizando lista de palabras...');\n            this.updateWordList();\n            console.log(' Cambio de tema completado');\n\n        } catch (error) {\n            console.error(' Error al cambiar tema:', error);\n        }\n        console.groupEnd();\n    }\n\n    async showContent() {\n        console.group(' Mostrando Contenido');\n        try {\n            const overlay = document.querySelector('.js-loading-overlay');\n            const progressBar = overlay.querySelector('.progress-bar');\n\n            // 1. Asegurar que la barra comience desde 0\n            progressBar.style.transform = 'scaleX(0)';\n            await new Promise(r => requestAnimationFrame(r));\n\n            // 2. Aplicar tema por defecto inmediatamente\n            document.documentElement.setAttribute('data-theme', 'dark');\n\n            // 3. Inyectar estilos base y esperar a que se procesen\n            await this.themeSelector.injectBaseStyles();\n\n            // 4. Iniciar animacin de la barra\n            progressBar.style.animationPlayState = 'running';\n\n            // 5. Inicializar y cargar tema guardado\n            await this.themeSelector.initialize();\n            const savedTheme = await Storage.get(Storage.KEYS.THEME, 'dark');\n\n            // 6. Aplicar tema guardado\n            await this.themeSelector.setTheme(savedTheme);\n\n            // 7. Esperar a que terminen las fuentes y la animacin\n            await document.fonts.ready;\n            await new Promise(resolve => {\n                progressBar.addEventListener('animationend', resolve, { once: true });\n            });\n\n            // 8. Ocultar overlay\n            overlay.classList.add('fade-out');\n\n        } catch (error) {\n            console.error(' Error:', error);\n            document.querySelector('.js-loading-overlay')?.remove();\n        } finally {\n            document.body.classList.remove('js-loading');\n            console.groupEnd();\n        }\n    }\n\n    // Nuevo mtodo para actualizar sin ajustar ttulo\n    async updateAllWithoutTitleFit(levelId) {\n        if (!this.currentLevel?.data) return;\n\n        this.updateBoard();\n        this.updateTitleContent(); // Solo actualiza el contenido\n        this.updateWordList();\n        this.updateUnusedLetters();\n        this.updateLevelNumber(levelId);\n        this.resetTimer();\n        this.startTimer();\n    }\n\n    // Nuevo mtodo para actualizar solo el contenido del ttulo\n    updateTitleContent() {\n        if (!this.titleElement || !this.currentLevel?.name) return;\n\n        const userSelectStyles = 'user-select: text; -webkit-user-select: text; -moz-user-select: text;';\n        const isPlatformAndroid = Capacitor.getPlatform() === 'android';\n        const fontSize = isPlatformAndroid ? '16px' : '24px';\n\n        this.titleElement.textContent = this.currentLevel.name;\n        this.titleElement.style.cssText = `${userSelectStyles}; font-size: ${fontSize};`;\n    }\n\n    // Modificar el ajuste del ttulo para evitar llamadas simultneas\n    async fitTitle() {\n        if (this._titleFitInProgress || !this.titleFitter) return;\n\n        try {\n            this._titleFitInProgress = true;\n            await this.titleFitter.fit();\n        } finally {\n            this._titleFitInProgress = false;\n        }\n    }\n\n    initializeElements() {\n        try {\n            // Primero verificar que los elementos existen\n            const requiredElements = {\n                titleContainer: document.querySelector('.title-container'),\n                titleElement: document.querySelector('.title'),\n                board: document.querySelector('.board'),\n                wordList: document.querySelector('.word-list'),\n                levelNumber: document.querySelector('.level-number'),\n                timerElement: document.querySelector('.timer')\n            };\n\n            // Verificar elementos crticos\n            if (!requiredElements.titleElement || !requiredElements.board) {\n                throw new Error('Elementos crticos no encontrados');\n            }\n\n            // Asignar elementos a la instancia\n            Object.entries(requiredElements).forEach(([key, element]) => {\n                if (!element) {\n                    console.warn(`Elemento ${key} no encontrado`);\n                }\n                this[key] = element;\n            });\n\n            // Inicializar timer\n            this.timer = {\n                element: this.timerElement,\n                startTime: 0,\n                elapsed: 0,\n                interval: null,\n                isPaused: false\n            };\n\n            // Inicializar TitleFitter\n            if (this.titleElement) {\n                this.titleFitter = new TitleFitter(this.titleElement);\n\n                // Establecer estilos iniciales del ttulo\n                const isPlatformAndroid = Capacitor.getPlatform() === 'android';\n                const userSelectStyles = 'user-select: text; -webkit-user-select: text; -moz-user-select: text;';\n                const fontSize = isPlatformAndroid ? '16px' : '24px';\n                this.titleElement.style.cssText = `${userSelectStyles}; font-size: ${fontSize};`;\n            }\n\n        } catch (error) {\n            console.error('Error inicializando elementos:', error);\n            throw error;\n        }\n    }\n\n    initializeState() {\n        this.currentLevel = null;\n        this.foundWords = new Set();\n        this.usedLetters = new Set();\n        this.availableThemes = new Map();\n        this.themeDisplayNames = new Map();\n        this.categoryOrder = [];\n\n        this.selectionManager = new SelectionManager(\n            this.board,\n            null,\n            (selection) => this.onSelectionUpdate(selection)\n        );\n    }\n\n    onSelectionUpdate(selection) {\n        if (this.checkWord(selection)) {\n            AnimationManager.resetSelectionWithDelay(this.selectionManager);\n        }\n    }\n\n    initializeBoard() {\n        const fragment = document.createDocumentFragment();\n        for (let i = 1; i <= 16; i++) {\n            const row = String.fromCharCode(96 + Math.ceil(i / 4));\n            const col = ((i - 1) % 4) + 1;\n            const position = `${row}${col}`;\n\n            const cell = document.createElement('div');\n            cell.className = 'cell';\n            cell.id = `tile-${position}`;\n            cell.innerHTML = `\n                <div class=\"hitbox\" data-position=\"${position}\"></div>\n                <div class=\"mark\" id=\"mark-${position}\"></div>\n                <div class=\"text\" id=\"letter-${position}\"></div>\n            `;\n            fragment.appendChild(cell);\n        }\n        this.board.appendChild(fragment);\n    }\n\n    updateBoard() {\n        if (!this.currentLevel?.data) {\n            console.warn('No hay nivel actual o datos para mostrar');\n            return;\n        }\n\n        const grid = Array(4).fill().map(() => Array(4).fill(''));\n        const positions = Array(16).fill().map((unused, i) => {\n            const row = String.fromCharCode(96 + Math.ceil((i + 1) / 4));\n            const col = (i % 4) + 1;\n            return `${row}${col}`;\n        });\n\n        positions.forEach(pos =>\n            document.getElementById(`tile-${pos}`).classList.remove('found-temp', 'unused')\n        );\n\n        Object.entries(this.currentLevel.data).forEach(([word, path]) => {\n            word.replace(/\\s+/g, '').split('').forEach((letter, i) => {\n                const pos = path.slice(i * 2, i * 2 + 2);\n                if (pos.length === 2) {\n                    const row = pos.charCodeAt(0) - 97;\n                    const col = parseInt(pos[1]) - 1;\n                    if (row >= 0 && row < 4 && col >= 0 && col < 4 && !grid[row][col]) {\n                        grid[row][col] = letter;\n                    }\n                }\n            });\n        });\n\n        positions.forEach((pos, i) => {\n            document.getElementById(`letter-${pos}`).textContent =\n                grid[Math.floor(i / 4)][i % 4];\n        });\n    }\n\n    resetSelection() {\n        this.selectionManager.reset();\n    }\n\n    async loadLevel(levelId) {\n        AnimationManager.stopConfetti();\n        this.resetControls();\n        // Limpiar cualquier letra animada que quede en el body\n        document.querySelectorAll('.animated-letter').forEach(el => el.remove());\n        this.currentLevel = { ...LEVELS[levelId], id: levelId };\n        [this.foundWords, this.usedLetters].forEach(set => set.clear());\n        this.resetSelection();\n        this.updateAll(levelId);\n        await Storage.setCurrentLevel(levelId);\n    }\n\n    updateAll(levelId) {\n        if (!this.currentLevel?.data) {\n            console.error(' No hay nivel actual para actualizar', {\n                levelId,\n                currentLevel: this.currentLevel\n            });\n            return;\n        }\n        this.updateBoard();\n        this.updateTitle();\n\n        // Asegurar que el ttulo se ajuste despus de actualizarlo\n        if (this.titleFitter) {\n            requestAnimationFrame(() => this.titleFitter.fit());\n        }\n\n        this.updateWordList();\n        this.updateUnusedLetters();\n        this.updateLevelNumber(levelId);\n        this.resetTimer();\n        this.startTimer();\n    }\n\n    updateTitle() {\n        if (!this.titleElement) {\n            console.error('Ttulo no encontrado, reinicializando elementos...');\n            this.initializeElements();\n            if (!this.titleElement) {\n                console.error('No se pudo recuperar el elemento ttulo');\n                return;\n            }\n        }\n\n        if (!this.currentLevel?.name) {\n            console.error('Nivel actual sin nombre:', this.currentLevel);\n            return;\n        }\n\n        try {\n            // Mantener los estilos de user-select\n            const userSelectStyles = 'user-select: text; -webkit-user-select: text; -moz-user-select: text;';\n\n            // Establecer el contenido\n            this.titleElement.textContent = this.currentLevel.name;\n\n            // Aplicar estilos\n            const isPlatformAndroid = Capacitor.getPlatform() === 'android';\n            const fontSize = isPlatformAndroid ? '16px' : '24px';\n            this.titleElement.style.cssText = `${userSelectStyles}; font-size: ${fontSize};`;\n\n            // Ajustar el ttulo\n            if (this.titleFitter) {\n                requestAnimationFrame(() => this.titleFitter.fit());\n            }\n\n            console.log('Ttulo actualizado:', {\n                contenido: this.currentLevel.name,\n                elemento: this.titleElement.textContent,\n                estilos: this.titleElement.style.cssText\n            });\n        } catch (error) {\n            console.error('Error actualizando ttulo:', error);\n        }\n    }\n\n    updateWordList() {\n        if (!this.wordList || !this.currentLevel?.data) {\n            console.warn('No hay lista de palabras o nivel actual');\n            return;\n        }\n\n        this.wordList.innerHTML = '';\n        const fragment = document.createDocumentFragment();\n        const words = Object.keys(this.currentLevel.data).sort((a, b) => a.localeCompare(b));\n\n        const measureElement = document.createElement('div');\n        measureElement.className = 'word word-measure';\n        measureElement.style.cssText = `\n            position: absolute;\n            visibility: hidden;\n            height: auto;\n            width: auto;\n            white-space: nowrap;\n        `;\n        document.body.appendChild(measureElement);\n\n        words.forEach((word, index) => {\n            const el = document.createElement('div');\n            el.className = 'word';\n            el.setAttribute('data-index', index);\n\n            const isFound = this.foundWords.has(word);\n            const span = document.createElement('span');\n\n            // Agregar una M extra al final para asegurar espacio suficiente\n            measureElement.textContent = word + 'M';\n            el.style.setProperty('--word-content-width', `${measureElement.offsetWidth}px`);\n\n            if (isFound) {\n                el.classList.add('found');\n                span.textContent = word;\n            } else {\n                const lengths = word.split(' ').map(part => part.length);\n                span.innerHTML = `<span class=\"word-length\">${lengths.join(', ')}</span>`;\n            }\n\n            el.appendChild(span);\n            fragment.appendChild(el);\n        });\n\n        document.body.removeChild(measureElement);\n        this.wordList.appendChild(fragment);\n    }\n\n    checkWord(selection) {\n        if (!selection?.length) return false;\n\n        const currentPath = selection.join('');\n        for (const [word, path] of Object.entries(this.currentLevel.data)) {\n            if (path === currentPath && !this.foundWords.has(word)) {\n                const wordIndex = Object.keys(this.currentLevel.data)\n                    .sort((a, b) => a.localeCompare(b))\n                    .indexOf(word);\n                const wordElement = this.wordList.querySelector(`[data-index=\"${wordIndex}\"]`);\n\n                if (wordElement?.classList.contains('found')) {\n                    return false;\n                }\n\n                this.foundWords.add(word);\n                if (wordElement) {\n                    wordElement.classList.add('found', 'found-initial');\n\n                    wordElement.addEventListener('animationend', () => {\n                        wordElement.classList.remove('found-initial');\n                    }, { once: true });\n                }\n\n                this.animateFound(selection);\n                this.resetControls();\n                return true;\n            }\n        }\n        return false;\n    }\n\n    async animateFound(selection) {\n        const currentPath = selection.join('');\n        const foundWord = Object.entries(this.currentLevel.data)\n            .find(([, path]) => path === currentPath)?.[0];\n\n        if (foundWord) {\n            // Vibrar al encontrar una palabra\n            if (Storage.isVibrationEnabled) {\n                await NativeServices.vibrate();\n            }\n\n            // Verificar victoria y detener timer ANTES de todo\n            if (this.foundWords.size === Object.keys(this.currentLevel.data).length) {\n                this.pauseTimer();\n                // Actualizar el tiempo final inmediatamente\n                document.getElementById('final-time').textContent = this.timer.element.textContent;\n            }\n\n            const wordIndex = Object.keys(this.currentLevel.data)\n                .sort((a, b) => a.localeCompare(b))\n                .indexOf(foundWord);\n            const wordElement = this.wordList.querySelector(`[data-index=\"${wordIndex}\"]`);\n\n            if (!wordElement) return;\n\n            await AnimationManager.animateWordFound(selection, wordElement, foundWord);\n            this.updateUnusedLetters();\n\n            if (this.foundWords.size === Object.keys(this.currentLevel.data).length) {\n                this.onLevelComplete();\n            }\n        }\n    }\n\n    updateUnusedLetters() {\n        this.usedLetters.clear();\n\n        Object.entries(this.currentLevel.data).forEach(([word, path]) => {\n            if (!this.foundWords.has(word)) {\n                for (let i = 0; i < path.length; i += 2) {\n                    const pos = path.slice(i, i + 2);\n                    if (pos.length === 2) this.usedLetters.add(pos);\n                }\n            }\n        });\n\n        const unusedPositions = [];\n        for (let i = 1; i <= 16; i++) {\n            const row = String.fromCharCode(96 + Math.ceil(i / 4));\n            const col = ((i - 1) % 4) + 1;\n            const pos = `${row}${col}`;\n            const cell = document.getElementById(`tile-${pos}`);\n\n            if (!this.usedLetters.has(pos)) {\n                unusedPositions.push(pos);\n                cell.querySelector('.hitbox')?.remove();\n            } else {\n                AnimationManager.updateCellStates([cell], { remove: ['unused'] });\n                if (!cell.querySelector('.hitbox')) {\n                    const newHitbox = document.createElement('div');\n                    newHitbox.className = 'hitbox';\n                    newHitbox.dataset.position = pos;\n                    cell.insertBefore(newHitbox, cell.firstChild);\n                }\n            }\n        }\n\n        if (unusedPositions.length) {\n            AnimationManager.animateUnusedCells(unusedPositions);\n        }\n    }\n\n    onLevelComplete() {\n        // Vibracin ms intensa al completar el nivel\n        if (Storage.isVibrationEnabled) {\n            NativeServices.vibrate('HEAVY');\n        }\n\n        AnimationManager.animateVictory(() => {\n            this.showVictoryModal();\n        });\n    }\n\n    bindEvents() {\n        const pointerEvents = {\n            touchstart: 'handlePointerDown',\n            touchmove: 'handleTouchMove',\n            touchend: 'handlePointerUp',\n            touchcancel: 'handlePointerUp',\n            mousedown: 'handlePointerDown',\n            mousemove: 'handlePointerMove',\n            mouseup: 'handlePointerUp',\n            mouseleave: 'handlePointerOut',\n            mouseenter: 'handlePointerEnter'\n        };\n\n        Object.entries(pointerEvents).forEach(([event, handler]) => {\n            this.board.addEventListener(event, e =>\n                this.selectionManager[handler].call(this.selectionManager, e),\n                { passive: false }\n            );\n        });\n\n        // Agregar listener para cambios de tema\n        window.addEventListener('themechange', (e) => {\n            this.handleThemeChange(e.detail.theme);\n        });\n\n        this.bindModalEvents();\n        window.addEventListener('resize', () => this.selectionManager.drawLine());\n\n        // Unificar manejo de clicks globales\n        document.addEventListener('click', event => {\n            const target = event.target;\n            if (target.closest('#victory-modal') ||\n                target.closest('.modal-content') ||\n                target.closest('.menu')) return;\n\n            if (!target.closest('.board')) {\n                this.selectionManager.reset();\n                if (target.closest('.modal-overlay')) {\n                    this.handleModalClose();\n                }\n            }\n        });\n\n        // Solo mantener un ResizeObserver\n        new ResizeObserver(() => {\n            requestAnimationFrame(() => {\n                AnimationManager.cleanupAnimations();\n                this.updateWordList();\n            });\n        }).observe(document.documentElement);\n\n        // Mover los manejadores de botones nativos aqu\n        const nativeHandlers = {\n            'vibration-toggle': async () => {\n                try {\n                    const button = document.getElementById('vibration-toggle');\n                    const newState = !Storage.isVibrationEnabled;\n                    await Storage.setVibrationEnabled(newState);\n                    button.textContent = newState ? 'Desactivar Vibracin' : 'Activar Vibracin';\n\n                    if (newState) {\n                        await NativeServices.vibrate('LIGHT');\n                    }\n                } catch (error) {\n                    console.error('Error al cambiar estado de vibracin:', error);\n                }\n            },\n            'test-notification': async () => {\n                console.group(' Test Notificacin');\n                try {\n                    console.log('1. Inicializando notificaciones...');\n                    await NativeServices.initializeNotifications();\n\n                    console.log('2. Activando notificaciones...');\n                    await Storage.setNotificationEnabled(true);\n\n                    console.log('3. Intentando enviar notificacin...');\n                    await NativeServices.sendNotification(\n                        'Hora de jugar!',\n                        'Te esperan nuevos desafos en GameSalad'\n                    );\n                    console.log(' Notificacin enviada con xito');\n                } catch (error) {\n                    console.error(' Error en notificacin:', error);\n                } finally {\n                    console.groupEnd();\n                }\n            },\n            // ...resto de manejadores...\n        };\n\n        // Inicializar estado de botn de vibracin\n        const vibrationButton = document.getElementById('vibration-toggle');\n        if (vibrationButton) {\n            vibrationButton.textContent = Storage.isVibrationEnabled ?\n                'Desactivar Vibracin' : 'Activar Vibracin';\n        }\n\n        // Agregar event listeners para botones nativos\n        Object.entries(nativeHandlers).forEach(([id, handler]) => {\n            document.getElementById(id)?.addEventListener('click', handler);\n        });\n\n        // Manejar botones de accin\n        const gameButtons = {\n            'reset-game': () => {\n                this.resetTimer();\n                this.loadLevel(this.currentLevel.id);\n                document.getElementById('modal').classList.remove('active');\n            },\n            'restart-level': () => {\n                this.resetTimer();\n                this.loadLevel(this.currentLevel.id);\n                document.getElementById('victory-modal').classList.remove('active');\n            },\n            'next-level': () => {\n                const currentIndex = LEVEL_ORDER.indexOf(this.currentLevel.id);\n                const nextIndex = currentIndex + 1;\n\n                if (nextIndex < LEVEL_ORDER.length) {\n                    this.resetTimer();\n                    this.loadLevel(LEVEL_ORDER[nextIndex]);\n                    document.getElementById('victory-modal').classList.remove('active');\n                } else {\n                    // Si es el ltimo nivel, mostrar algn mensaje o volver al primero\n                    this.resetTimer();\n                    this.loadLevel(LEVEL_ORDER[0]);\n                    document.getElementById('victory-modal').classList.remove('active');\n                }\n            }\n        };\n\n        // Agregar los event listeners para los botones del juego\n        Object.entries(gameButtons).forEach(([id, handler]) => {\n            document.getElementById(id)?.addEventListener('click', handler);\n        });\n\n        // Agregar event listeners para el ciclo de vida de la app\n        document.addEventListener('appPause', () => {\n            this.onAppPause();\n        });\n\n        document.addEventListener('appResume', () => {\n            this.onAppResume();\n        });\n\n        // Tambin manejar visibilitychange del navegador\n        document.addEventListener('visibilitychange', () => {\n            if (document.hidden) {\n                this.onAppPause();\n            } else {\n                this.onAppResume();\n            }\n        });\n\n        // ...rest of existing code...\n    }\n\n    bindModalEvents() {\n        const modalHandlers = {\n            menu: document.querySelector('.menu'),\n            modal: document.getElementById('modal'),\n            themeModal: document.getElementById('theme-modal'),\n            victoryModal: document.getElementById('victory-modal')\n        };\n\n        const isAnyModalActive = () =>\n            Object.values(modalHandlers)\n                .some(modal => modal?.classList.contains('active'));\n\n        const closeModal = (modal) => {\n            if (modal?.id === 'victory-modal') return;\n\n            modal?.classList.remove('active');\n            if (!isAnyModalActive()) {  // Usar la funcin aqu\n                this.resumeTimer();\n            }\n        };\n\n        // Unificar manejo de navegacin entre modales\n        const modalNavigation = {\n            'menu': () => {\n                modalHandlers.modal.classList.add('active');\n                this.pauseTimer();\n            },\n            'theme-button': () => {\n                modalHandlers.modal.classList.remove('active');\n                modalHandlers.themeModal.classList.add('active');\n            },\n            'back-button': () => {\n                modalHandlers.themeModal.classList.remove('active');\n                modalHandlers.modal.classList.add('active');\n            }\n        };\n\n        // Configurar navegacin\n        Object.entries(modalNavigation).forEach(([id, handler]) => {\n            document.querySelector(id === 'menu' ? '.menu' : `#${id}`)\n                ?.addEventListener('click', (event) => {\n                    event.stopPropagation();\n                    handler();\n                });\n        });\n\n        // Prevenir cierre del modal de victoria\n        modalHandlers.victoryModal?.addEventListener('click', event => {\n            if (event.target === modalHandlers.victoryModal) {\n                event.stopPropagation();\n            }\n        });\n\n        // Manejar clicks en overlay de modales\n        document.querySelectorAll('.modal-overlay').forEach(modal => {\n            if (modal.id === 'victory-modal') return;\n\n            modal.addEventListener('click', event => {\n                if (event.target === modal) {\n                    closeModal(modal);\n                    // Verificar si hay que reanudar el timer\n                    if (!isAnyModalActive()) {  // Y aqu\n                        this.resumeTimer();\n                    }\n                }\n            });\n        });\n\n        // ...resto de existing code...\n    }\n\n    handleModalClose() {\n        const activeModal = document.querySelector('.modal-overlay.active:not(#victory-modal)');\n        if (activeModal) {\n            activeModal.classList.remove('active');\n            if (!document.querySelector('.modal-overlay.active')) {\n                this.resumeTimer();\n            }\n        }\n    }\n\n    startTimer() {\n        this.timer.startTime = Date.now() - this.timer.elapsed;\n        this.timer.isPaused = false;\n        if (this.timer.interval) {\n            clearInterval(this.timer.interval);\n        }\n        this.timer.interval = setInterval(() => {\n            if (!this.timer.isPaused) {\n                this.timer.elapsed = Date.now() - this.timer.startTime;\n                this.updateTimerDisplay();\n            }\n        }, 100);\n    }\n\n    pauseTimer() {\n        if (!this.timer.isPaused) {\n            this.timer.isPaused = true;\n            this.timer.elapsed = Date.now() - this.timer.startTime;\n            this.saveGameState();\n        }\n    }\n\n    resumeTimer() {\n        if (this.timer.isPaused) {\n            this.timer.isPaused = false;\n            this.timer.startTime = Date.now() - this.timer.elapsed;\n        }\n    }\n\n    resetTimer() {\n        if (this.timer.interval) {\n            clearInterval(this.timer.interval);\n        }\n        this.timer.elapsed = 0;\n        this.timer.isPaused = false;\n        this.updateTimerDisplay();\n    }\n\n    updateTimerDisplay() {\n        const seconds = Math.floor(this.timer.elapsed / 1000);\n        const minutes = Math.floor(seconds / 60);\n        const displaySeconds = String(seconds % 60).padStart(2, '0');\n        const displayMinutes = String(minutes).padStart(2, '0');\n        this.timer.element.textContent = `${displayMinutes}:${displaySeconds}`;\n    }\n\n    showVictoryModal() {\n        this.pauseTimer();\n        document.getElementById('final-time').textContent = this.timer.element.textContent;\n        // El modal y confeti se activan en onLevelComplete\n        document.getElementById('victory-modal').classList.add('active');\n    }\n\n    updateLevelNumber(levelId) {\n        // Asegurar que el elemento existe\n        if (!this.levelNumberElement) {\n            this.levelNumberElement = document.querySelector('.level-number');\n            if (!this.levelNumberElement) {\n                console.error('No se pudo encontrar/crear el nmero de nivel');\n                return;\n            }\n        }\n\n        const levelNumber = LEVEL_ORDER.indexOf(levelId) + 1;\n        if (!levelNumber) {\n            console.warn('ID de nivel invlido:', levelId);\n            return;\n        }\n\n        requestAnimationFrame(() => {\n            this.levelNumberElement.textContent = `#${levelNumber}`;\n            this.levelNumberElement.style.cssText = `\n                display: block !important;\n                visibility: visible !important;\n                opacity: 1 !important;\n            `;\n        });\n    }\n\n    resetControls() {\n        this.selectionManager.resetControls();\n    }\n}\n\n// Nueva inicializacin sin log\nconst startGame = async () => {\n    try {\n        const game = new GameState();\n        await game.initialize();\n    } catch (error) {\n        console.error('Error:', error);\n        // Asegurar que el spinner se quite en caso de error\n        document.querySelector('.js-loading-overlay')?.remove();\n        document.body.classList.remove('js-loading');\n    }\n};\n\n// Esperar a que el DOM est listo\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', startGame);\n} else {\n    startGame();\n}\n"],"file":"assets/js/main.js"}